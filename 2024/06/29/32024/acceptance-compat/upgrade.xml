<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 7.0.1 (Python 3.8.10 on linux)" generated="2024-06-29T10:11:54.782777" rpa="false" schemaversion="5">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="1.4.0-1.5.0-1-original-check-finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:02:30.015000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:30.019000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:30.021000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:30.021000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:30.017000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.022000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:30.021000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.023000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:30.022000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:30.016000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:30.023000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:30.016000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:30.023000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:02:30.016000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:30.023000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:02:30.015000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.024000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:02:30.024000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:30.027000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:30.042000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:30.042000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:30.026000" elapsed="0.016000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.042000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:30.042000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.043000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:30.043000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:30.025000" elapsed="0.018000"/>
</kw>
<msg time="2024-06-29T10:02:30.043000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:30.025000" elapsed="0.018000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:02:30.025000" elapsed="0.018000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:02:30.024000" elapsed="0.020000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:02:30.015000" elapsed="0.029000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:02:30.014000" elapsed="0.030000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:30.047000" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:30.048000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:30.048000" level="INFO">${output} = OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:30.045000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.049000" level="INFO">OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
OZONE-SITE.XML_ozone.s3g.kerberos.principal=s3g/s3g@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.users=*
HOSTNAME=scm3.org
OZONE-SITE.XML_hdds.grpc.tls.enabled=true
HADOOP-POLICY.XML_hdds.security.client.scm.certificate.protocol.acl=*
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.principal=HTTP/scm@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.kerberos.principal=recon/recon@EXAMPLE.COM
OZONE-SITE.XML_ozone.administrators=testuser,recon,om
OZONE-SITE.XML_ozone.s3.administrators=testuser,s3g
OZONE-SITE.XML_hdds.scm.kerberos.keytab.file=/etc/security/keytabs/scm.keytab
HTTPFS-SITE.XML_httpfs.hadoop.authentication.type=kerberos
OZONE-SITE.XML_ozone.http.filter.initializers=org.apache.hadoop.security.AuthenticationFilterInitializer
CORE-SITE.XML_dfs.data.transfer.protection=authentication
OZONE-SITE.XML_ozone.httpfs.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.address=recon:9891
HADOOP-POLICY.XML_hdds.security.client.scm.container.protocol.acl=*
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE-SITE.XML_ozone.acl.authorizer.class=org.apache.hadoop.ozone.security.acl.OzoneNativeAuthorizer
HDFS-SITE.XML_dfs.web.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_hdds.secret.key.expiry.duration=1h
OZONE-SITE.XML_hdds.scm.kerberos.principal=scm/scm@EXAMPLE.COM
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.s3g.http.auth.type=kerberos
OM_SERVICE_ID=omservice
HADOOP-POLICY.XML_ozone.om.security.client.protocol.acl=*
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
CORE-SITE.XML_hadoop.http.authentication.simple.anonymous.allowed=false
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
HADOOP-POLICY.XML_hdds.security.client.scm.block.protocol.acl=*
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.principal=HTTP/db@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.groups=*
OZONE-SITE.XML_hdds.container.token.enabled=true
OZONE-SITE.XML_hdds.scm.http.auth.type=kerberos
CORE-SITE.XML_hadoop.security.auth_to_local=DEFAULT
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
OZONE-SITE.XML_ozone.security.enabled=true
OZONE-SITE.XML_ozone.httpfs.http.auth.type=kerberos
OZONE-SITE.XML_ozone.security.http.kerberos.enabled=true
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
OZONE-SITE.XML_ozone.httpfs.kerberos.keytab.file=/etc/security/keytabs/httpfs.keytab
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.acl.enabled=true
OZONE-SITE.XML_ozone.om.kerberos.principal=om/om@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.container.size=1GB
HDFS-SITE.XML_dfs.datanode.kerberos.principal=dn/dn@EXAMPLE.COM
JAVA_HOME=/usr/lib/jvm/jre/
ENSURE_SCM_BOOTSTRAPPED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
CORE-SITE.XML_hadoop.proxyuser.httpfs.groups=*
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
HDFS-SITE.XML_dfs.datanode.kerberos.keytab.file=/etc/security/keytabs/dn.keytab
OZONE-SITE.XML_ozone.om.kerberos.keytab.file=/etc/security/keytabs/om.keytab
OZONE-SITE.XML_hdds.secret.key.rotate.check.duration=1m
OZONE-SITE.XML_ozone.s3g.kerberos.keytab.file=/etc/security/keytabs/s3g.keytab
CORE-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
OZONE-SITE.XML_ozone.om.http.auth.kerberos.principal=HTTP/om@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.recon.http.auth.type=kerberos
OZONE-SITE.XML_ozone.s3g.secret.http.auth.type=kerberos
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE_DATANODE_SECURE_USER=root
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
OZONE_UPGRADE_FROM=1.4.0
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.principal=HTTP/recon@EXAMPLE.COM
WAITFOR=scm2.org:9894
OZONE-SITE.XML_hdds.secret.key.rotate.duration=5m
CORE-SITE.XML_hadoop.http.authentication.type=kerberos
OZONE-SITE.XML_ozone.om.http.auth.type=kerberos
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.hosts=*
OZONE-SITE.XML_ozone.om.ratis.enable=true
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.keytab=/etc/security/keytabs/recon.keytab
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
HDFS-SITE.XML_dfs.web.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.s3g.secret.http.enabled=true
OZONE-SITE.XML_ozone.om.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
CORE-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
HTTPFS-SITE.XML_hadoop.http.authentication.type=kerberos
CORE-SITE.XML_hadoop.http.authentication.signature.secret.file=/etc/security/http_secret
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.principal=HTTP/s3g@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE_UPGRADE_TO=1.5.0
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1.org
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2.org
OZONE-SITE.XML_ozone.recon.kerberos.keytab.file=/etc/security/keytabs/recon.keytab
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
CORE-SITE.XML_hadoop.proxyuser.httpfs.hosts=*
OZONE-SITE.XML_hdds.block.token.enabled=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3.org
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_hdds.datanode.http.auth.type=kerberos
HADOOP-POLICY.XML_hdds.security.client.datanode.container.protocol.acl=*
CORE-SITE.XML_hadoop.security.key.provider.path=kms://http@kms:9600/kms
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
CORE-SITE.XML_hadoop.security.authorization=true
_=/usr/bin/env</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:30.049000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.050000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:30.049000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:30.045000" elapsed="0.005000"/>
</kw>
<msg time="2024-06-29T10:02:30.050000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:30.044000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:02:30.051000" level="INFO">${result} = OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE...</msg>
<var>${result}</var>
<arg>env</arg>
<status status="PASS" start="2024-06-29T10:02:30.044000" elapsed="0.007000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:30.051000" level="INFO">OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
OZONE-SITE.XML_ozone.s3g.kerberos.principal=s3g/s3g@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.users=*
HOSTNAME=scm3.org
OZONE-SITE.XML_hdds.grpc.tls.enabled=true
HADOOP-POLICY.XML_hdds.security.client.scm.certificate.protocol.acl=*
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.principal=HTTP/scm@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.kerberos.principal=recon/recon@EXAMPLE.COM
OZONE-SITE.XML_ozone.administrators=testuser,recon,om
OZONE-SITE.XML_ozone.s3.administrators=testuser,s3g
OZONE-SITE.XML_hdds.scm.kerberos.keytab.file=/etc/security/keytabs/scm.keytab
HTTPFS-SITE.XML_httpfs.hadoop.authentication.type=kerberos
OZONE-SITE.XML_ozone.http.filter.initializers=org.apache.hadoop.security.AuthenticationFilterInitializer
CORE-SITE.XML_dfs.data.transfer.protection=authentication
OZONE-SITE.XML_ozone.httpfs.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.address=recon:9891
HADOOP-POLICY.XML_hdds.security.client.scm.container.protocol.acl=*
OZONE-SITE.XML_ozone.server.default.replication=3
OZONE-SITE.XML_ozone.acl.authorizer.class=org.apache.hadoop.ozone.security.acl.OzoneNativeAuthorizer
HDFS-SITE.XML_dfs.web.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_hdds.secret.key.expiry.duration=1h
OZONE-SITE.XML_hdds.scm.kerberos.principal=scm/scm@EXAMPLE.COM
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.s3g.http.auth.type=kerberos
OM_SERVICE_ID=omservice
HADOOP-POLICY.XML_ozone.om.security.client.protocol.acl=*
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
CORE-SITE.XML_hadoop.http.authentication.simple.anonymous.allowed=false
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
HADOOP-POLICY.XML_hdds.security.client.scm.block.protocol.acl=*
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.principal=HTTP/db@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.groups=*
OZONE-SITE.XML_hdds.container.token.enabled=true
OZONE-SITE.XML_hdds.scm.http.auth.type=kerberos
CORE-SITE.XML_hadoop.security.auth_to_local=DEFAULT
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
OZONE-SITE.XML_ozone.security.enabled=true
OZONE-SITE.XML_ozone.httpfs.http.auth.type=kerberos
OZONE-SITE.XML_ozone.security.http.kerberos.enabled=true
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
OZONE-SITE.XML_ozone.httpfs.kerberos.keytab.file=/etc/security/keytabs/httpfs.keytab
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.acl.enabled=true
OZONE-SITE.XML_ozone.om.kerberos.principal=om/om@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.container.size=1GB
HDFS-SITE.XML_dfs.datanode.kerberos.principal=dn/dn@EXAMPLE.COM
JAVA_HOME=/usr/lib/jvm/jre/
ENSURE_SCM_BOOTSTRAPPED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
CORE-SITE.XML_hadoop.proxyuser.httpfs.groups=*
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
HDFS-SITE.XML_dfs.datanode.kerberos.keytab.file=/etc/security/keytabs/dn.keytab
OZONE-SITE.XML_ozone.om.kerberos.keytab.file=/etc/security/keytabs/om.keytab
OZONE-SITE.XML_hdds.secret.key.rotate.check.duration=1m
OZONE-SITE.XML_ozone.s3g.kerberos.keytab.file=/etc/security/keytabs/s3g.keytab
CORE-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
OZONE-SITE.XML_ozone.om.http.auth.kerberos.principal=HTTP/om@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.recon.http.auth.type=kerberos
OZONE-SITE.XML_ozone.s3g.secret.http.auth.type=kerberos
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE_DATANODE_SECURE_USER=root
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
OZONE_UPGRADE_FROM=1.4.0
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.principal=HTTP/recon@EXAMPLE.COM
WAITFOR=scm2.org:9894
OZONE-SITE.XML_hdds.secret.key.rotate.duration=5m
CORE-SITE.XML_hadoop.http.authentication.type=kerberos
OZONE-SITE.XML_ozone.om.http.auth.type=kerberos
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.hosts=*
OZONE-SITE.XML_ozone.om.ratis.enable=true
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.keytab=/etc/security/keytabs/recon.keytab
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
HDFS-SITE.XML_dfs.web.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.s3g.secret.http.enabled=true
OZONE-SITE.XML_ozone.om.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
CORE-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
HTTPFS-SITE.XML_hadoop.http.authentication.type=kerberos
CORE-SITE.XML_hadoop.http.authentication.signature.secret.file=/etc/security/http_secret
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.principal=HTTP/s3g@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE_UPGRADE_TO=1.5.0
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1.org
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2.org
OZONE-SITE.XML_ozone.recon.kerberos.keytab.file=/etc/security/keytabs/recon.keytab
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
CORE-SITE.XML_hadoop.proxyuser.httpfs.hosts=*
OZONE-SITE.XML_hdds.block.token.enabled=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3.org
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_hdds.datanode.http.auth.type=kerberos
HADOOP-POLICY.XML_hdds.security.client.datanode.container.protocol.acl=*
CORE-SITE.XML_hadoop.security.key.provider.path=kms://http@kms:9600/kms
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
CORE-SITE.XML_hadoop.security.authorization=true
_=/usr/bin/env</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:30.051000" elapsed="0.000000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:02:30.051000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:30.054000" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:32.843000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:32.843000" level="INFO">${output} = ALREADY_FINALIZED</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:30.053000" elapsed="2.791000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.844000" level="INFO">ALREADY_FINALIZED</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:32.844000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.845000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:32.845000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:30.052000" elapsed="2.793000"/>
</kw>
<msg time="2024-06-29T10:02:32.845000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:30.052000" elapsed="2.793000"/>
</kw>
<msg time="2024-06-29T10:02:32.845000" level="INFO">${result} = ALREADY_FINALIZED</msg>
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<status status="PASS" start="2024-06-29T10:02:30.052000" elapsed="2.793000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.846000" level="INFO">ALREADY_FINALIZED</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:32.846000" elapsed="0.000000"/>
</kw>
<kw name="Should Contain Any" owner="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" start="2024-06-29T10:02:32.846000" elapsed="0.000000"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" start="2024-06-29T10:02:30.013000" elapsed="2.834000"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:02:32.849000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:32.853000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:32.855000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:32.855000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:32.851000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.856000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:32.855000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.856000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:32.856000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:32.850000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:32.857000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:32.850000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:32.857000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:02:32.850000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:32.857000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:02:32.849000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.857000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:02:32.857000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:32.861000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:32.872000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:32.872000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:32.859000" elapsed="0.013000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.873000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:32.873000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:32.874000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:32.873000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:32.859000" elapsed="0.015000"/>
</kw>
<msg time="2024-06-29T10:02:32.874000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:32.858000" elapsed="0.016000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:02:32.858000" elapsed="0.016000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:02:32.858000" elapsed="0.016000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:02:32.849000" elapsed="0.025000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:02:32.848000" elapsed="0.026000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:02:32.874000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:32.877000" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:35.583000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:35.583000" level="INFO">${output} = FINALIZATION_DONE</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:32.876000" elapsed="2.707000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:35.584000" level="INFO">FINALIZATION_DONE</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:35.583000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:35.584000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:35.584000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:32.875000" elapsed="2.709000"/>
</kw>
<msg time="2024-06-29T10:02:35.584000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:32.875000" elapsed="2.710000"/>
</kw>
<msg time="2024-06-29T10:02:35.585000" level="INFO">${result} = FINALIZATION_DONE</msg>
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<status status="PASS" start="2024-06-29T10:02:32.875000" elapsed="2.710000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:35.585000" level="INFO">FINALIZATION_DONE</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:35.585000" elapsed="0.000000"/>
</kw>
<kw name="Should Contain Any" owner="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" start="2024-06-29T10:02:35.585000" elapsed="0.001000"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" start="2024-06-29T10:02:32.847000" elapsed="2.739000"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" start="2024-06-29T10:02:29.967000" elapsed="5.620000"/>
</suite>
<suite id="s1-s2" name="1.4.0-1.5.0-1-original-generate-old1" source="/opt/ozone/smoketest/upgrade/generate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:02:36.301000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:36.304000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:36.307000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:36.307000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:36.303000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:36.308000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:36.308000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:36.308000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:36.308000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:36.302000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:36.309000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:36.302000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:36.309000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:02:36.302000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:36.309000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:02:36.301000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:02:36.310000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:02:36.309000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:36.313000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:36.347000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:36.347000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:36.311000" elapsed="0.036000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:36.348000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:36.348000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:36.349000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:36.348000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:36.311000" elapsed="0.038000"/>
</kw>
<msg time="2024-06-29T10:02:36.349000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:36.311000" elapsed="0.038000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:02:36.310000" elapsed="0.039000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:02:36.310000" elapsed="0.039000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:02:36.301000" elapsed="0.048000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:02:36.300000" elapsed="0.049000"/>
</kw>
<test id="s1-s2-t1" name="Create a volume and bucket" line="29">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:36.353000" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:39.508000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:39.508000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:36.351000" elapsed="3.157000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:39.509000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:39.508000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:39.510000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:39.509000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:36.351000" elapsed="3.159000"/>
</kw>
<msg time="2024-06-29T10:02:39.510000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:36.351000" elapsed="3.159000"/>
</kw>
<msg time="2024-06-29T10:02:39.510000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<status status="PASS" start="2024-06-29T10:02:36.350000" elapsed="3.160000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:02:39.511000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:39.514000" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:42.599000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:42.599000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:39.513000" elapsed="3.086000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:42.600000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:42.599000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:42.600000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:42.600000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:39.512000" elapsed="3.088000"/>
</kw>
<msg time="2024-06-29T10:02:42.601000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:39.512000" elapsed="3.089000"/>
</kw>
<msg time="2024-06-29T10:02:42.601000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-06-29T10:02:39.511000" elapsed="3.090000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:02:42.601000" elapsed="0.000000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:02:36.350000" elapsed="6.251000"/>
</test>
<test id="s1-s2-t2" name="Create key" line="36">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:42.605000" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:02:42.606000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:42.606000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:42.603000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:42.607000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:42.607000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:42.608000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:42.607000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:42.603000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:42.611000" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:47.813000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:47.813000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:42.609000" elapsed="5.204000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:47.814000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:47.814000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:47.815000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:47.814000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:42.609000" elapsed="5.206000"/>
</kw>
<msg time="2024-06-29T10:02:47.815000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:42.608000" elapsed="5.207000"/>
</kw>
<msg time="2024-06-29T10:02:47.815000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<status status="PASS" start="2024-06-29T10:02:42.608000" elapsed="5.207000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:02:47.816000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:47.818000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:47.820000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:47.820000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:47.816000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:47.821000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:47.820000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:47.821000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:47.821000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:47.816000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:02:42.602000" elapsed="5.220000"/>
</test>
<test id="s1-s2-t3" name="Create a bucket in s3v volume" line="42">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:47.825000" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:51.194000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:51.194000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:47.824000" elapsed="3.370000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:51.195000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:51.194000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:51.195000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:51.195000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:47.824000" elapsed="3.372000"/>
</kw>
<msg time="2024-06-29T10:02:51.196000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:47.823000" elapsed="3.373000"/>
</kw>
<msg time="2024-06-29T10:02:51.196000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-06-29T10:02:47.823000" elapsed="3.373000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:02:51.196000" elapsed="0.001000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:02:47.822000" elapsed="3.375000"/>
</test>
<test id="s1-s2-t4" name="Create key in the bucket in s3v volume" line="47">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:51.200000" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:02:51.202000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:51.202000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:51.199000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:51.203000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:51.202000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:51.203000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:51.203000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:51.198000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:51.206000" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:56.338000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:56.338000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:51.205000" elapsed="5.133000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.339000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:56.339000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.340000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:56.340000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:51.204000" elapsed="5.136000"/>
</kw>
<msg time="2024-06-29T10:02:56.340000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:51.204000" elapsed="5.136000"/>
</kw>
<msg time="2024-06-29T10:02:56.341000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<status status="PASS" start="2024-06-29T10:02:51.204000" elapsed="5.137000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:02:56.341000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:56.343000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:56.345000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:56.345000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:56.342000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.346000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:56.346000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.347000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:56.346000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:56.341000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:02:51.197000" elapsed="5.150000"/>
</test>
<test id="s1-s2-t5" name="Try to create a bucket using S3 API" line="53">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:02:56.349000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:56.352000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:56.355000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:56.355000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:56.351000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.355000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:56.355000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.356000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:56.356000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:56.351000" elapsed="0.005000"/>
</kw>
<msg time="2024-06-29T10:02:56.356000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:56.350000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:02:56.357000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:02:56.350000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:02:56.357000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:02:56.350000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.357000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:02:56.357000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:56.360000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:56.373000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:56.373000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:56.359000" elapsed="0.014000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.374000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:56.374000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:56.375000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:56.374000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:56.359000" elapsed="0.016000"/>
</kw>
<msg time="2024-06-29T10:02:56.375000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:56.358000" elapsed="0.017000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:02:56.358000" elapsed="0.017000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:02:56.357000" elapsed="0.018000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:02:56.349000" elapsed="0.026000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:02:56.349000" elapsed="0.026000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:56.378000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:58.911000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:58.911000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8
isDeleted=false
transactionLogIndex=0</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:56.377000" elapsed="2.534000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:58.912000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8
isDeleted=false
transactionLogIndex=0</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:58.912000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:02:58.913000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8
isDeleted=false
transactionLogIndex=0</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:02:56.376000" elapsed="2.537000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<msg time="2024-06-29T10:02:58.914000" level="FAIL">'awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8
isDeleted=false
transactionLogIndex=0' does not contain 'S3_SECRET_ALREADY_EXISTS'</msg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="FAIL" start="2024-06-29T10:02:58.913000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:02:58.914000" level="INFO">${exists} = False</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:02:58.913000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="NOT RUN" start="2024-06-29T10:02:58.914000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="NOT RUN" start="2024-06-29T10:02:58.915000" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2024-06-29T10:02:58.914000" elapsed="0.001000"/>
</branch>
<status status="PASS" start="2024-06-29T10:02:58.914000" elapsed="0.001000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:02:58.915000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:02:58.915000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:02:58.916000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:02:58.916000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:02:58.916000" level="INFO">${secret} = ['b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:02:58.916000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:02:58.918000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:02:58.917000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:02:58.919000" level="INFO">${secret} = b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:02:58.918000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:58.922000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:59.334000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:59.334000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:58.920000" elapsed="0.414000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:59.335000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:59.335000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:59.336000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:59.336000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:58.919000" elapsed="0.417000"/>
</kw>
<msg time="2024-06-29T10:02:59.336000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:58.919000" elapsed="0.417000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:02:58.919000" elapsed="0.417000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:59.339000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:02:59.742000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:02:59.742000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:59.338000" elapsed="0.404000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:02:59.743000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:02:59.743000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:02:59.744000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:02:59.744000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:59.337000" elapsed="0.407000"/>
</kw>
<msg time="2024-06-29T10:02:59.744000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:59.337000" elapsed="0.407000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:02:59.337000" elapsed="0.408000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:02:59.748000" level="INFO">Running command 'aws configure set aws_secret_access_key b3769b0a0a036d3e6ab12e7d7675fed88834c8d25cca1a83f2550d851873bea8 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:00.150000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:00.150000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:02:59.746000" elapsed="0.404000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:00.151000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:00.150000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:00.152000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:00.151000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:02:59.745000" elapsed="0.407000"/>
</kw>
<msg time="2024-06-29T10:03:00.152000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:02:59.745000" elapsed="0.407000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:02:59.745000" elapsed="0.407000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:00.155000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:00.556000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:00.556000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:00.153000" elapsed="0.403000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:00.557000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:00.556000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:00.557000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:00.557000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:00.153000" elapsed="0.404000"/>
</kw>
<msg time="2024-06-29T10:03:00.558000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:00.153000" elapsed="0.405000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:03:00.152000" elapsed="0.406000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:00.561000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:00.983000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:00.983000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:00.559000" elapsed="0.424000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:00.984000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:00.983000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:00.985000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:00.984000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:00.559000" elapsed="0.426000"/>
</kw>
<msg time="2024-06-29T10:03:00.985000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:00.558000" elapsed="0.427000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:03:00.558000" elapsed="0.427000"/>
</kw>
<status status="PASS" start="2024-06-29T10:02:56.376000" elapsed="4.609000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:02:56.375000" elapsed="4.611000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:00.986000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:02:56.348000" elapsed="4.638000"/>
</kw>
<kw name="Generate Ozone String" owner="commonawslib">
<kw name="Generate Random String" owner="String">
<msg time="2024-06-29T10:03:00.988000" level="INFO">${randStr} = 5624882676</msg>
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-06-29T10:03:00.987000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:03:00.988000" level="INFO">${random} = ozone-test-5624882676</msg>
<var>${random}</var>
<status status="PASS" start="2024-06-29T10:03:00.986000" elapsed="0.002000"/>
</kw>
<kw name="Create bucket with name" owner="commonawslib">
<kw name="Execute AWSS3APICli" owner="commonawslib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:00.992000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-5624882676 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:02.738000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:02.738000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-5624882676"
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:00.990000" elapsed="1.748000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:02.739000" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-5624882676"
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:02.739000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:02.740000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:02.740000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:00.990000" elapsed="1.750000"/>
</kw>
<msg time="2024-06-29T10:03:02.740000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:00.989000" elapsed="1.751000"/>
</kw>
<msg time="2024-06-29T10:03:02.740000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-5624882676"
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<status status="PASS" start="2024-06-29T10:03:00.989000" elapsed="1.751000"/>
</kw>
<msg time="2024-06-29T10:03:02.741000" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-5624882676"
}</msg>
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<status status="PASS" start="2024-06-29T10:03:00.989000" elapsed="1.752000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:02.741000" elapsed="0.000000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:02.741000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:02.742000" level="INFO">${output} = None</msg>
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<status status="PASS" start="2024-06-29T10:03:00.988000" elapsed="1.754000"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2024-06-29T10:03:02.742000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:02:56.348000" elapsed="6.394000"/>
</test>
<test id="s1-s2-t6" name="Create key using S3 API" line="60">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:02.746000" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:03:02.747000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:02.747000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:02.744000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:02.748000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:02.747000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:02.748000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:02.748000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:02.743000" elapsed="0.005000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:02.751000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:06.669000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:06.669000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:02.749000" elapsed="3.920000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:06.670000" level="INFO">{
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:06.669000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:06.670000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:06.670000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:06.671000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:03:02.749000" elapsed="3.922000"/>
</kw>
<msg time="2024-06-29T10:03:06.671000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:02.748000" elapsed="3.923000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:06.671000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:06.674000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:06.676000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:06.676000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:06.672000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:06.676000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:06.676000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:06.677000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:06.677000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:06.672000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:03:02.743000" elapsed="3.934000"/>
</test>
<doc>Generate data</doc>
<status status="PASS" start="2024-06-29T10:02:36.225000" elapsed="30.454000"/>
</suite>
<suite id="s1-s3" name="1.4.0-1.5.0-1-original-validate-old1" source="/opt/ozone/smoketest/upgrade/validate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:03:07.441000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:07.444000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:07.447000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:07.447000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:07.443000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:07.448000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:07.447000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:07.448000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:07.448000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:07.442000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:03:07.449000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:07.442000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:03:07.449000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:03:07.442000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:03:07.449000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:03:07.441000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:07.450000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:03:07.449000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:07.452000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:07.466000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:07.466000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:07.451000" elapsed="0.015000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:07.467000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:07.467000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:07.468000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:07.467000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:07.451000" elapsed="0.017000"/>
</kw>
<msg time="2024-06-29T10:03:07.468000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:07.451000" elapsed="0.017000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:03:07.450000" elapsed="0.018000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:03:07.450000" elapsed="0.018000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:03:07.441000" elapsed="0.027000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:07.440000" elapsed="0.028000"/>
</kw>
<test id="s1-s3-t1" name="Read data from previously created key" line="29">
<kw name="Generate Random String" owner="String">
<msg time="2024-06-29T10:03:07.470000" level="INFO">${random} = 45763</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-06-29T10:03:07.469000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:07.473000" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-45763 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:12.115000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:12.115000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:07.471000" elapsed="4.645000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.116000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:12.116000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.117000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:12.117000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:07.471000" elapsed="4.646000"/>
</kw>
<msg time="2024-06-29T10:03:12.117000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:07.470000" elapsed="4.648000"/>
</kw>
<msg time="2024-06-29T10:03:12.118000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<status status="PASS" start="2024-06-29T10:03:07.470000" elapsed="4.648000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:12.118000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:12.121000" level="INFO">Running command 'cat /tmp/key-45763 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:12.123000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:12.123000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:12.119000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.124000" level="INFO">old1: key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:12.123000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.124000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:12.124000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:12.124000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:12.118000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:12.125000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:12.127000" level="INFO">Running command 'rm /tmp/key-45763 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:12.128000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:12.128000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:12.126000" elapsed="0.002000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.129000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:12.129000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.130000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:12.129000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:12.125000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:03:07.469000" elapsed="4.661000"/>
</test>
<test id="s1-s3-t2" name="Read key created with Ozone Shell using S3 API" line="37">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:03:12.133000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:12.136000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:12.138000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:12.138000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:12.134000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.139000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:12.138000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.139000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:12.139000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:12.134000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:03:12.140000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:12.134000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:03:12.140000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:03:12.133000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:03:12.140000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:03:12.133000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.141000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:03:12.140000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:12.144000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:12.157000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:12.157000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:12.143000" elapsed="0.014000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.158000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:12.158000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:12.159000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:12.158000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:12.142000" elapsed="0.017000"/>
</kw>
<msg time="2024-06-29T10:03:12.159000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:12.142000" elapsed="0.017000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:03:12.141000" elapsed="0.018000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:03:12.141000" elapsed="0.018000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:03:12.132000" elapsed="0.027000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:12.132000" elapsed="0.027000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:12.162000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:14.640000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:03:14.640000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:12.161000" elapsed="2.479000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:14.641000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:14.640000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:03:14.641000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:03:12.160000" elapsed="2.481000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:14.642000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:14.642000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:03:14.641000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:14.645000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:17.238000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:17.238000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:14.644000" elapsed="2.594000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:17.239000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:17.239000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:17.240000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:17.239000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:14.643000" elapsed="2.597000"/>
</kw>
<msg time="2024-06-29T10:03:17.240000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:14.643000" elapsed="2.597000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:03:14.643000" elapsed="2.597000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:17.243000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:19.607000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:19.608000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=712607c52a8344b86e3dee9806a11cd985c0a684edfab677e4ff7d01003899f1
isDeleted=false
transactionLogIndex=0</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:17.242000" elapsed="2.366000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:19.609000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=712607c52a8344b86e3dee9806a11cd985c0a684edfab677e4ff7d01003899f1
isDeleted=false
transactionLogIndex=0</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:19.608000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:19.609000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:19.609000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:17.241000" elapsed="2.369000"/>
</kw>
<msg time="2024-06-29T10:03:19.610000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:17.241000" elapsed="2.369000"/>
</kw>
<msg time="2024-06-29T10:03:19.610000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=712607c52a8344b86e3dee9806a11cd985c0a684edfab677e4ff7d01003899f1
isDeleted=false
transactionLogIndex=0</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:03:17.240000" elapsed="2.370000"/>
</kw>
<status status="PASS" start="2024-06-29T10:03:14.642000" elapsed="4.968000"/>
</branch>
<status status="PASS" start="2024-06-29T10:03:14.642000" elapsed="4.968000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:03:19.611000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:03:19.610000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:03:19.612000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:03:19.611000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:03:19.612000" level="INFO">${secret} = ['712607c52a8344b86e3dee9806a11cd985c0a684edfab677e4ff7d01003899f1']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:03:19.612000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:19.613000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:03:19.612000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:19.614000" level="INFO">${secret} = 712607c52a8344b86e3dee9806a11cd985c0a684edfab677e4ff7d01003899f1</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:03:19.613000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:19.617000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:20.022000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:20.022000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:19.616000" elapsed="0.406000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:20.023000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:20.022000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:20.023000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:20.023000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:19.615000" elapsed="0.409000"/>
</kw>
<msg time="2024-06-29T10:03:20.024000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:19.615000" elapsed="0.409000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:03:19.614000" elapsed="0.410000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:20.027000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:20.429000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:20.429000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:20.025000" elapsed="0.404000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:20.430000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:20.430000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:20.431000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:20.430000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:20.025000" elapsed="0.406000"/>
</kw>
<msg time="2024-06-29T10:03:20.431000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:20.025000" elapsed="0.406000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:03:20.024000" elapsed="0.407000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:20.435000" level="INFO">Running command 'aws configure set aws_secret_access_key 712607c52a8344b86e3dee9806a11cd985c0a684edfab677e4ff7d01003899f1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:20.862000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:20.862000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:20.433000" elapsed="0.429000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:20.863000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:20.863000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:20.864000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:20.863000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:20.432000" elapsed="0.432000"/>
</kw>
<msg time="2024-06-29T10:03:20.864000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:20.432000" elapsed="0.432000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:03:20.432000" elapsed="0.432000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:20.867000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:21.272000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:21.272000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:20.865000" elapsed="0.407000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:21.273000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:21.272000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:21.274000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:21.273000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:20.865000" elapsed="0.409000"/>
</kw>
<msg time="2024-06-29T10:03:21.274000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:20.865000" elapsed="0.409000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:03:20.864000" elapsed="0.410000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:21.277000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:21.703000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:21.703000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:21.275000" elapsed="0.428000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:21.704000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:21.703000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:21.705000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:21.704000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:21.275000" elapsed="0.430000"/>
</kw>
<msg time="2024-06-29T10:03:21.705000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:21.275000" elapsed="0.430000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:03:21.274000" elapsed="0.431000"/>
</kw>
<status status="PASS" start="2024-06-29T10:03:12.160000" elapsed="9.546000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:12.159000" elapsed="9.547000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:21.706000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:03:12.132000" elapsed="9.574000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:21.709000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:22.425000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:22.425000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/oct...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:21.707000" elapsed="0.718000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.426000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 29 Jun 2024 10:03:22 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:22.425000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.426000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:22.426000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:03:22.427000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/oct...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:03:21.707000" elapsed="0.720000"/>
</kw>
<msg time="2024-06-29T10:03:22.427000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/oct...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:21.706000" elapsed="0.721000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:22.427000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:22.430000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:22.432000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:22.432000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:22.428000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.433000" level="INFO">old1: another key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:22.432000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.433000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:22.433000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:22.434000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:22.428000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:22.434000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:22.436000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:22.438000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:22.438000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:22.435000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.439000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:22.438000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.439000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:22.439000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:22.434000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:03:12.131000" elapsed="10.309000"/>
</test>
<test id="s1-s3-t3" name="Read key created with S3 API using S3 API" line="45">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:03:22.442000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:22.445000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:22.447000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:22.447000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:22.444000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.448000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:22.448000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.449000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:22.448000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:22.443000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:03:22.449000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:22.443000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:03:22.449000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:03:22.443000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:03:22.450000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:03:22.442000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.450000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:03:22.450000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:22.453000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:22.467000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:22.467000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:22.452000" elapsed="0.016000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.468000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:22.468000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:22.469000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:22.469000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:22.451000" elapsed="0.018000"/>
</kw>
<msg time="2024-06-29T10:03:22.469000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:22.451000" elapsed="0.018000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:03:22.451000" elapsed="0.018000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:03:22.450000" elapsed="0.019000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:03:22.441000" elapsed="0.029000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:22.441000" elapsed="0.029000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:22.472000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:25.045000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:03:25.045000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:22.471000" elapsed="2.574000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:25.046000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:25.045000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:03:25.046000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:03:22.470000" elapsed="2.576000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:25.047000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:25.047000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:03:25.046000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:25.050000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:27.798000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:27.798000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:25.049000" elapsed="2.749000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:27.799000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:27.798000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:27.799000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:27.799000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:25.048000" elapsed="2.751000"/>
</kw>
<msg time="2024-06-29T10:03:27.799000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:25.048000" elapsed="2.752000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:03:25.048000" elapsed="2.752000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:27.803000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:30.215000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:30.215000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=37aae9b7da9e294ac87584d8499bcdaea2d57a4a08aed948084737223ac8e7c5
isDeleted=false
transactionLogIndex=0</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:27.801000" elapsed="2.414000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.216000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=37aae9b7da9e294ac87584d8499bcdaea2d57a4a08aed948084737223ac8e7c5
isDeleted=false
transactionLogIndex=0</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:30.216000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.217000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:30.216000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:27.801000" elapsed="2.416000"/>
</kw>
<msg time="2024-06-29T10:03:30.217000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:27.800000" elapsed="2.417000"/>
</kw>
<msg time="2024-06-29T10:03:30.218000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=37aae9b7da9e294ac87584d8499bcdaea2d57a4a08aed948084737223ac8e7c5
isDeleted=false
transactionLogIndex=0</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:03:27.800000" elapsed="2.418000"/>
</kw>
<status status="PASS" start="2024-06-29T10:03:25.047000" elapsed="5.171000"/>
</branch>
<status status="PASS" start="2024-06-29T10:03:25.047000" elapsed="5.171000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:03:30.218000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:03:30.218000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.219000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:03:30.219000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:03:30.219000" level="INFO">${secret} = ['37aae9b7da9e294ac87584d8499bcdaea2d57a4a08aed948084737223ac8e7c5']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:03:30.219000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.221000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:03:30.220000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.222000" level="INFO">${secret} = 37aae9b7da9e294ac87584d8499bcdaea2d57a4a08aed948084737223ac8e7c5</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:03:30.221000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:30.225000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:30.639000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:30.639000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:30.223000" elapsed="0.416000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.640000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:30.640000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:30.641000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:30.641000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:30.223000" elapsed="0.418000"/>
</kw>
<msg time="2024-06-29T10:03:30.641000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:30.222000" elapsed="0.420000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:03:30.222000" elapsed="0.420000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:30.646000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:31.067000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:31.067000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:30.644000" elapsed="0.423000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:31.068000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:31.068000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:31.069000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:31.069000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:30.643000" elapsed="0.426000"/>
</kw>
<msg time="2024-06-29T10:03:31.069000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:30.643000" elapsed="0.426000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:03:30.642000" elapsed="0.428000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:31.073000" level="INFO">Running command 'aws configure set aws_secret_access_key 37aae9b7da9e294ac87584d8499bcdaea2d57a4a08aed948084737223ac8e7c5 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:31.513000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:31.513000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:31.071000" elapsed="0.442000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:31.515000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:31.514000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:31.516000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:31.515000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:31.071000" elapsed="0.445000"/>
</kw>
<msg time="2024-06-29T10:03:31.516000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:31.070000" elapsed="0.446000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:03:31.070000" elapsed="0.446000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:31.521000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:31.939000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:31.939000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:31.518000" elapsed="0.421000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:31.940000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:31.939000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:31.941000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:31.940000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:31.518000" elapsed="0.423000"/>
</kw>
<msg time="2024-06-29T10:03:31.941000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:31.517000" elapsed="0.424000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:03:31.517000" elapsed="0.424000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:31.944000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:32.348000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:32.348000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:31.942000" elapsed="0.406000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.349000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:32.348000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.350000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:32.349000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:31.942000" elapsed="0.408000"/>
</kw>
<msg time="2024-06-29T10:03:32.350000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:31.942000" elapsed="0.408000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:03:31.941000" elapsed="0.409000"/>
</kw>
<status status="PASS" start="2024-06-29T10:03:22.470000" elapsed="9.881000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:22.470000" elapsed="9.881000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:32.351000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:03:22.441000" elapsed="9.910000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:32.355000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:32.982000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:32.982000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:32.353000" elapsed="0.629000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.983000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 29 Jun 2024 10:03:32 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:32.983000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.984000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:32.984000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:03:32.984000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:03:32.352000" elapsed="0.632000"/>
</kw>
<msg time="2024-06-29T10:03:32.985000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:32.351000" elapsed="0.634000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:32.985000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:32.988000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:32.989000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:32.990000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:32.986000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.990000" level="INFO">old1: key created using S3 API</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:32.990000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.991000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:32.990000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:03:32.991000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:32.985000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:32.991000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:32.993000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:32.995000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:32.995000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:32.992000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.996000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:32.996000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:32.997000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:32.996000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:32.992000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:03:22.440000" elapsed="10.557000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-06-29T10:03:07.362000" elapsed="25.636000"/>
</suite>
<suite id="s1-s4" name="1.4.0-1.5.0-1-original-prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s4-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:03:33.737000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:33.741000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:33.744000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:33.744000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:33.739000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:33.744000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:33.744000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:33.745000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:33.745000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:33.739000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:03:33.745000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:33.738000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:03:33.746000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:03:33.738000" elapsed="0.008000"/>
</kw>
<msg time="2024-06-29T10:03:33.746000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:03:33.738000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:03:33.746000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:03:33.746000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:33.750000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:33.766000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:33.766000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:33.748000" elapsed="0.018000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:33.767000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:33.766000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:33.767000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:33.767000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:33.748000" elapsed="0.020000"/>
</kw>
<msg time="2024-06-29T10:03:33.768000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:33.748000" elapsed="0.020000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:03:33.747000" elapsed="0.021000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:03:33.747000" elapsed="0.021000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:03:33.737000" elapsed="0.031000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:03:33.736000" elapsed="0.032000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:03:33.768000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:03:33.771000" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:03:46.936000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:03:46.936000" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [35].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:03:33.770000" elapsed="13.166000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:03:46.937000" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [35].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current Transaction Id : [-1]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [35]
OM : [om2], Prepare Status : [NOT_PREPARED], Current Transaction Id : [-1]
Waiting for 10 seconds before retrying...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [35]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [35]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:03:46.937000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:03:46.938000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:03:46.938000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:03:33.769000" elapsed="13.169000"/>
</kw>
<msg time="2024-06-29T10:03:46.938000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:03:33.769000" elapsed="13.170000"/>
</kw>
<msg time="2024-06-29T10:03:46.939000" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [35].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current...</msg>
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<status status="PASS" start="2024-06-29T10:03:33.769000" elapsed="13.170000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:03:46.939000" elapsed="0.001000"/>
</kw>
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:03:46.939000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:03:33.736000" elapsed="13.204000"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" start="2024-06-29T10:03:33.690000" elapsed="13.251000"/>
</suite>
<suite id="s1-s5" name="1.4.0-1.5.0-2-pre-finalized-validate-old1" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:05:09.090000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:09.094000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:09.096000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:09.096000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:09.092000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:09.096000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:09.096000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:09.097000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:09.097000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:09.092000" elapsed="0.005000"/>
</kw>
<msg time="2024-06-29T10:05:09.097000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:09.091000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:09.097000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:05:09.091000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:09.098000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:05:09.091000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:09.098000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:05:09.098000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:09.101000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:09.116000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:09.116000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:09.100000" elapsed="0.016000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:09.117000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:09.116000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:09.117000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:09.117000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:09.099000" elapsed="0.018000"/>
</kw>
<msg time="2024-06-29T10:05:09.117000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:09.099000" elapsed="0.019000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:05:09.099000" elapsed="0.019000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:05:09.098000" elapsed="0.020000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:05:09.090000" elapsed="0.028000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:09.089000" elapsed="0.029000"/>
</kw>
<test id="s1-s5-t1" name="Read data from previously created key" line="29">
<kw name="Generate Random String" owner="String">
<msg time="2024-06-29T10:05:09.119000" level="INFO">${random} = 75463</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-06-29T10:05:09.119000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:09.122000" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-75463 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:13.472000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:13.472000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:09.121000" elapsed="4.351000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.473000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:13.473000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.474000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:13.473000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:09.120000" elapsed="4.354000"/>
</kw>
<msg time="2024-06-29T10:05:13.474000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:09.120000" elapsed="4.354000"/>
</kw>
<msg time="2024-06-29T10:05:13.475000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<status status="PASS" start="2024-06-29T10:05:09.119000" elapsed="4.356000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:13.475000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:13.478000" level="INFO">Running command 'cat /tmp/key-75463 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:13.480000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:13.480000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:13.476000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.480000" level="INFO">old1: key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:13.480000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.481000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:13.481000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:13.481000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:13.475000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:13.481000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:13.484000" level="INFO">Running command 'rm /tmp/key-75463 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:13.486000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:13.486000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:13.482000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.486000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:13.486000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.487000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:13.487000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:13.482000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:09.118000" elapsed="4.369000"/>
</test>
<test id="s1-s5-t2" name="Read key created with Ozone Shell using S3 API" line="37">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:05:13.489000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:13.493000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:13.495000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:13.495000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:13.491000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.496000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:13.495000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.496000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:13.496000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:13.491000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:13.497000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:13.491000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:13.497000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:05:13.490000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:05:13.497000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:05:13.490000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.498000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:05:13.497000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:13.501000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:13.514000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:13.514000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:13.499000" elapsed="0.015000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.516000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:13.515000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:13.516000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:13.516000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:13.499000" elapsed="0.017000"/>
</kw>
<msg time="2024-06-29T10:05:13.517000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:13.499000" elapsed="0.018000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:05:13.498000" elapsed="0.019000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:05:13.498000" elapsed="0.019000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:05:13.489000" elapsed="0.028000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:13.489000" elapsed="0.028000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:13.520000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:15.622000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:05:15.622000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:13.518000" elapsed="2.104000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:15.623000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:15.623000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:15.624000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:13.518000" elapsed="2.106000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:15.624000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:05:15.625000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:05:15.624000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:15.629000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:17.719000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:17.719000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:15.627000" elapsed="2.092000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:17.720000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:17.719000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:17.720000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:17.720000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:15.626000" elapsed="2.094000"/>
</kw>
<msg time="2024-06-29T10:05:17.720000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:15.626000" elapsed="2.095000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:15.625000" elapsed="2.096000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:17.724000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:20.074000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:20.074000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=fbfb109ac5d2b3d0da7d2833373104f797adee48b463f13f357d5e2cdf18a2bd</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:17.722000" elapsed="2.352000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.075000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=fbfb109ac5d2b3d0da7d2833373104f797adee48b463f13f357d5e2cdf18a2bd</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:20.075000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.076000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:20.075000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:17.722000" elapsed="2.354000"/>
</kw>
<msg time="2024-06-29T10:05:20.076000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:17.721000" elapsed="2.355000"/>
</kw>
<msg time="2024-06-29T10:05:20.076000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=fbfb109ac5d2b3d0da7d2833373104f797adee48b463f13f357d5e2cdf18a2bd</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:17.721000" elapsed="2.355000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:15.625000" elapsed="4.452000"/>
</branch>
<status status="PASS" start="2024-06-29T10:05:15.625000" elapsed="4.452000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:05:20.077000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:05:20.077000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.078000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:05:20.078000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:05:20.079000" level="INFO">${secret} = ['fbfb109ac5d2b3d0da7d2833373104f797adee48b463f13f357d5e2cdf18a2bd']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:05:20.078000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.080000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:05:20.079000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.081000" level="INFO">${secret} = fbfb109ac5d2b3d0da7d2833373104f797adee48b463f13f357d5e2cdf18a2bd</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:05:20.080000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:20.084000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:20.504000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:20.504000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:20.082000" elapsed="0.422000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.505000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:20.504000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.505000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:20.505000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:20.082000" elapsed="0.424000"/>
</kw>
<msg time="2024-06-29T10:05:20.506000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:20.081000" elapsed="0.425000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:05:20.081000" elapsed="0.425000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:20.509000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:20.908000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:20.908000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:20.507000" elapsed="0.401000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.909000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:20.909000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:20.910000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:20.909000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:20.507000" elapsed="0.403000"/>
</kw>
<msg time="2024-06-29T10:05:20.910000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:20.507000" elapsed="0.403000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:05:20.506000" elapsed="0.404000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:20.913000" level="INFO">Running command 'aws configure set aws_secret_access_key fbfb109ac5d2b3d0da7d2833373104f797adee48b463f13f357d5e2cdf18a2bd 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:21.303000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:21.303000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:20.912000" elapsed="0.391000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:21.304000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:21.304000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:21.305000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:21.305000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:20.911000" elapsed="0.394000"/>
</kw>
<msg time="2024-06-29T10:05:21.305000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:20.911000" elapsed="0.394000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:05:20.911000" elapsed="0.394000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:21.308000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:21.709000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:21.709000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:21.307000" elapsed="0.402000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:21.710000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:21.710000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:21.711000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:21.710000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:21.306000" elapsed="0.405000"/>
</kw>
<msg time="2024-06-29T10:05:21.711000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:21.306000" elapsed="0.405000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:05:21.306000" elapsed="0.405000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:21.714000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:22.121000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:22.121000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:21.713000" elapsed="0.408000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:22.122000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:22.122000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:22.123000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:22.123000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:21.712000" elapsed="0.411000"/>
</kw>
<msg time="2024-06-29T10:05:22.124000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:21.712000" elapsed="0.412000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:05:21.711000" elapsed="0.413000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:13.518000" elapsed="8.606000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:13.517000" elapsed="8.607000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:22.124000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:13.488000" elapsed="8.636000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:22.127000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:23.962000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:23.962000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:22.126000" elapsed="1.836000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.963000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 29 Jun 2024 10:05:22 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:23.963000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.964000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:23.964000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:23.964000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:05:22.125000" elapsed="1.839000"/>
</kw>
<msg time="2024-06-29T10:05:23.964000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:02:55 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:22.125000" elapsed="1.839000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:23.965000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:23.967000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:23.969000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:23.969000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:23.966000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.970000" level="INFO">old1: another key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:23.969000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.970000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:23.970000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:23.971000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:23.965000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:23.971000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:23.973000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:23.975000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:23.975000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:23.972000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.976000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:23.975000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.976000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:23.976000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:23.971000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:13.488000" elapsed="10.489000"/>
</test>
<test id="s1-s5-t3" name="Read key created with S3 API using S3 API" line="45">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:05:23.979000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:23.982000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:23.984000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:23.984000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:23.981000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.985000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:23.984000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.986000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:23.985000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:23.980000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:23.986000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:23.980000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:23.986000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:05:23.980000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:23.986000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:05:23.979000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:23.987000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:05:23.986000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:23.990000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:24.027000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:24.027000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:23.988000" elapsed="0.039000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:24.028000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:24.027000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:24.028000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:24.028000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:23.988000" elapsed="0.040000"/>
</kw>
<msg time="2024-06-29T10:05:24.028000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:23.988000" elapsed="0.041000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:05:23.987000" elapsed="0.042000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:05:23.987000" elapsed="0.042000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:05:23.979000" elapsed="0.050000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:23.978000" elapsed="0.051000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:24.031000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:26.077000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:05:26.077000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:24.030000" elapsed="2.047000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:26.078000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:26.078000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:05:26.079000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:24.030000" elapsed="2.049000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:26.079000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:05:26.080000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:05:26.079000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:26.091000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:28.165000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:28.165000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:26.088000" elapsed="2.077000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:28.166000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:28.166000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:28.167000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:28.167000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:26.087000" elapsed="2.080000"/>
</kw>
<msg time="2024-06-29T10:05:28.167000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:26.086000" elapsed="2.081000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:26.080000" elapsed="2.087000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:28.171000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:30.415000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:30.415000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=f4f42359b9322ec61dc42081b97760636a634e94c6d1dac17bc709dba89412be</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:28.169000" elapsed="2.246000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.416000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=f4f42359b9322ec61dc42081b97760636a634e94c6d1dac17bc709dba89412be</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:30.416000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.417000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:30.416000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:28.168000" elapsed="2.249000"/>
</kw>
<msg time="2024-06-29T10:05:30.417000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:28.168000" elapsed="2.249000"/>
</kw>
<msg time="2024-06-29T10:05:30.418000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=f4f42359b9322ec61dc42081b97760636a634e94c6d1dac17bc709dba89412be</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:28.168000" elapsed="2.250000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:26.080000" elapsed="4.338000"/>
</branch>
<status status="PASS" start="2024-06-29T10:05:26.080000" elapsed="4.338000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:05:30.418000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:05:30.418000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.419000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:05:30.418000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:05:30.419000" level="INFO">${secret} = ['f4f42359b9322ec61dc42081b97760636a634e94c6d1dac17bc709dba89412be']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:05:30.419000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.420000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:05:30.419000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.421000" level="INFO">${secret} = f4f42359b9322ec61dc42081b97760636a634e94c6d1dac17bc709dba89412be</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:05:30.421000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:30.425000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:30.818000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:30.818000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:30.423000" elapsed="0.395000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.819000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:30.819000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:30.820000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:30.820000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:30.422000" elapsed="0.398000"/>
</kw>
<msg time="2024-06-29T10:05:30.820000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:30.422000" elapsed="0.398000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:05:30.422000" elapsed="0.398000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:30.823000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:31.217000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:31.217000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:30.822000" elapsed="0.395000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:31.218000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:31.218000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:31.219000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:31.219000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:30.821000" elapsed="0.398000"/>
</kw>
<msg time="2024-06-29T10:05:31.219000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:30.821000" elapsed="0.398000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:05:30.820000" elapsed="0.400000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:31.222000" level="INFO">Running command 'aws configure set aws_secret_access_key f4f42359b9322ec61dc42081b97760636a634e94c6d1dac17bc709dba89412be 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:31.619000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:31.619000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:31.221000" elapsed="0.398000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:31.620000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:31.620000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:31.621000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:31.621000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:31.220000" elapsed="0.401000"/>
</kw>
<msg time="2024-06-29T10:05:31.621000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:31.220000" elapsed="0.401000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:05:31.220000" elapsed="0.402000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:31.625000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:32.019000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:32.019000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:31.623000" elapsed="0.396000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:32.020000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:32.020000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:32.021000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:32.021000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:31.622000" elapsed="0.399000"/>
</kw>
<msg time="2024-06-29T10:05:32.021000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:31.622000" elapsed="0.399000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:05:31.622000" elapsed="0.400000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:32.025000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:32.431000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:32.431000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:32.023000" elapsed="0.408000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:32.432000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:32.431000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:32.432000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:32.432000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:32.022000" elapsed="0.410000"/>
</kw>
<msg time="2024-06-29T10:05:32.432000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:32.022000" elapsed="0.411000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:05:32.022000" elapsed="0.411000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:24.029000" elapsed="8.404000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:24.029000" elapsed="8.404000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:32.433000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:23.978000" elapsed="8.455000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:32.436000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:33.041000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:33.041000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:32.435000" elapsed="0.606000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.042000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 29 Jun 2024 10:05:32 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:33.041000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.042000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:33.042000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:33.043000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:05:32.434000" elapsed="0.609000"/>
</kw>
<msg time="2024-06-29T10:05:33.043000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:03:06 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:32.434000" elapsed="0.609000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:33.043000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:33.045000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:33.047000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:33.047000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:33.044000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.048000" level="INFO">old1: key created using S3 API</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:33.048000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.049000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:33.048000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:05:33.049000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:33.043000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:33.049000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:33.051000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:33.053000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:33.053000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:33.050000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.054000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:33.053000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.054000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:33.054000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:33.050000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:23.977000" elapsed="9.078000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-06-29T10:05:08.995000" elapsed="24.061000"/>
</suite>
<suite id="s1-s6" name="1.4.0-1.5.0-2-pre-finalized-generate-old1" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:05:33.784000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:33.787000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:33.790000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:33.790000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:33.785000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.791000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:33.790000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.791000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:33.791000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:33.785000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:33.791000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:33.785000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:05:33.792000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:05:33.785000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:05:33.792000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:05:33.784000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.792000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:05:33.792000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:33.795000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:33.812000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:33.812000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:33.794000" elapsed="0.018000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.813000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:33.813000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.813000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:33.813000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:33.794000" elapsed="0.020000"/>
</kw>
<msg time="2024-06-29T10:05:33.814000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:33.793000" elapsed="0.021000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:05:33.793000" elapsed="0.021000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:05:33.793000" elapsed="0.021000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:05:33.784000" elapsed="0.030000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:33.783000" elapsed="0.031000"/>
</kw>
<test id="s1-s6-t1" name="Create key" line="36">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:33.818000" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:05:33.819000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:33.819000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:33.816000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.820000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:33.819000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:33.820000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:33.820000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:33.815000" elapsed="0.006000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:33.824000" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:38.407000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:38.407000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:33.822000" elapsed="4.585000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:38.408000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:38.408000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:38.409000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:38.409000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:33.822000" elapsed="4.587000"/>
</kw>
<msg time="2024-06-29T10:05:38.409000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:33.821000" elapsed="4.589000"/>
</kw>
<msg time="2024-06-29T10:05:38.410000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<status status="PASS" start="2024-06-29T10:05:33.821000" elapsed="4.589000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:38.410000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:38.412000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:38.414000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:38.414000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:38.411000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:38.415000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:38.415000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:38.416000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:38.415000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:38.410000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:33.815000" elapsed="4.601000"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="47">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:38.419000" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:05:38.420000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:38.420000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:38.418000" elapsed="0.002000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:38.421000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:38.421000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:38.422000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:38.421000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:38.417000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:38.424000" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:42.526000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:42.526000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:38.423000" elapsed="4.103000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.527000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:42.526000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.528000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:42.527000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:38.423000" elapsed="4.105000"/>
</kw>
<msg time="2024-06-29T10:05:42.528000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:38.422000" elapsed="4.106000"/>
</kw>
<msg time="2024-06-29T10:05:42.528000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<status status="PASS" start="2024-06-29T10:05:38.422000" elapsed="4.106000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:42.528000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:42.531000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:42.533000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:42.533000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:42.529000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.534000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:42.533000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.534000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:42.534000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:42.529000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:38.417000" elapsed="4.118000"/>
</test>
<test id="s1-s6-t3" name="Try to create a bucket using S3 API" line="53">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:05:42.537000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:42.541000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:42.543000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:42.543000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:42.539000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.544000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:42.543000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.544000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:42.544000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:42.538000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:05:42.545000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:42.538000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:05:42.545000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:05:42.538000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:05:42.545000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:05:42.537000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.546000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:05:42.545000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:42.549000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:42.566000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:42.566000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:42.547000" elapsed="0.019000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.567000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:42.566000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:42.568000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:42.567000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:42.547000" elapsed="0.021000"/>
</kw>
<msg time="2024-06-29T10:05:42.568000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:42.547000" elapsed="0.021000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:05:42.546000" elapsed="0.022000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:05:42.546000" elapsed="0.022000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:05:42.537000" elapsed="0.031000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:42.536000" elapsed="0.032000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:42.573000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:44.560000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:05:44.560000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:42.570000" elapsed="1.990000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:44.561000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:44.561000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:05:44.562000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:42.570000" elapsed="1.992000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:44.562000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:05:44.563000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:05:44.562000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:44.566000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:46.627000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:46.627000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:44.564000" elapsed="2.063000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:46.628000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:46.627000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:46.628000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:46.628000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:44.564000" elapsed="2.065000"/>
</kw>
<msg time="2024-06-29T10:05:46.629000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:44.564000" elapsed="2.065000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:44.563000" elapsed="2.066000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:46.632000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:48.723000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:48.723000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=da06f1cf88963fc4daaac836fecbf30d1ab69fe8129a63571d978ca4971b04a6</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:46.630000" elapsed="2.093000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:48.724000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=da06f1cf88963fc4daaac836fecbf30d1ab69fe8129a63571d978ca4971b04a6</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:48.724000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:48.725000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:48.725000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:46.630000" elapsed="2.095000"/>
</kw>
<msg time="2024-06-29T10:05:48.725000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:46.630000" elapsed="2.095000"/>
</kw>
<msg time="2024-06-29T10:05:48.726000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=da06f1cf88963fc4daaac836fecbf30d1ab69fe8129a63571d978ca4971b04a6</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:05:46.629000" elapsed="2.097000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:44.563000" elapsed="4.163000"/>
</branch>
<status status="PASS" start="2024-06-29T10:05:44.563000" elapsed="4.163000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:05:48.727000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:05:48.726000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:05:48.727000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:05:48.727000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:05:48.728000" level="INFO">${secret} = ['da06f1cf88963fc4daaac836fecbf30d1ab69fe8129a63571d978ca4971b04a6']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:05:48.727000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:48.729000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:05:48.728000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:48.730000" level="INFO">${secret} = da06f1cf88963fc4daaac836fecbf30d1ab69fe8129a63571d978ca4971b04a6</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:05:48.729000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:48.733000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:49.150000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:49.151000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:48.731000" elapsed="0.420000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:49.152000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:49.151000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:49.152000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:49.152000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:48.731000" elapsed="0.421000"/>
</kw>
<msg time="2024-06-29T10:05:49.153000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:48.730000" elapsed="0.423000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:05:48.730000" elapsed="0.423000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:49.156000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:49.542000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:49.542000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:49.154000" elapsed="0.388000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:49.543000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:49.543000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:49.544000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:49.544000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:49.154000" elapsed="0.390000"/>
</kw>
<msg time="2024-06-29T10:05:49.544000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:49.154000" elapsed="0.390000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:05:49.153000" elapsed="0.391000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:49.547000" level="INFO">Running command 'aws configure set aws_secret_access_key da06f1cf88963fc4daaac836fecbf30d1ab69fe8129a63571d978ca4971b04a6 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:49.947000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:49.947000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:49.546000" elapsed="0.401000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:49.948000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:49.947000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:49.948000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:49.948000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:49.545000" elapsed="0.404000"/>
</kw>
<msg time="2024-06-29T10:05:49.949000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:49.545000" elapsed="0.404000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:05:49.544000" elapsed="0.405000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:49.952000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:50.394000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:50.394000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:49.950000" elapsed="0.444000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:50.395000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:50.394000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:50.395000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:50.395000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:49.950000" elapsed="0.445000"/>
</kw>
<msg time="2024-06-29T10:05:50.396000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:49.950000" elapsed="0.446000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:05:49.949000" elapsed="0.447000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:50.399000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:50.787000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:50.787000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:50.397000" elapsed="0.390000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:50.788000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:50.788000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:50.789000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:50.789000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:50.397000" elapsed="0.392000"/>
</kw>
<msg time="2024-06-29T10:05:50.789000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:50.396000" elapsed="0.393000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:05:50.396000" elapsed="0.393000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:42.569000" elapsed="8.220000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:42.569000" elapsed="8.221000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:50.790000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:05:42.536000" elapsed="8.254000"/>
</kw>
<kw name="Generate Ozone String" owner="commonawslib">
<kw name="Generate Random String" owner="String">
<msg time="2024-06-29T10:05:50.791000" level="INFO">${randStr} = 3485845487</msg>
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-06-29T10:05:50.791000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:50.791000" level="INFO">${random} = ozone-test-3485845487</msg>
<var>${random}</var>
<status status="PASS" start="2024-06-29T10:05:50.790000" elapsed="0.001000"/>
</kw>
<kw name="Create bucket with name" owner="commonawslib">
<kw name="Execute AWSS3APICli" owner="commonawslib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:50.795000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-3485845487 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:51.361000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:51.361000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-3485845487"
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:50.793000" elapsed="0.568000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:51.362000" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-3485845487"
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:51.361000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:51.362000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:51.362000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:50.793000" elapsed="0.570000"/>
</kw>
<msg time="2024-06-29T10:05:51.363000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:50.793000" elapsed="0.570000"/>
</kw>
<msg time="2024-06-29T10:05:51.363000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-3485845487"
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<status status="PASS" start="2024-06-29T10:05:50.792000" elapsed="0.571000"/>
</kw>
<msg time="2024-06-29T10:05:51.363000" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-3485845487"
}</msg>
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<status status="PASS" start="2024-06-29T10:05:50.792000" elapsed="0.571000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:51.363000" elapsed="0.001000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:51.364000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:51.364000" level="INFO">${output} = None</msg>
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<status status="PASS" start="2024-06-29T10:05:50.791000" elapsed="0.573000"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2024-06-29T10:05:51.364000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:42.535000" elapsed="8.830000"/>
</test>
<test id="s1-s6-t4" name="Create key using S3 API" line="60">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:51.368000" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:05:51.370000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:51.370000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:51.366000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:51.371000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:51.370000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:51.371000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:51.371000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:51.366000" elapsed="0.005000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:51.374000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:52.199000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:52.199000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:51.373000" elapsed="0.826000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.200000" level="INFO">{
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:52.199000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.200000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:52.200000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:05:52.201000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:05:51.372000" elapsed="0.829000"/>
</kw>
<msg time="2024-06-29T10:05:52.201000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:51.372000" elapsed="0.829000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:52.201000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:52.204000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:52.206000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:52.206000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:52.202000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.206000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:52.206000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.207000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:52.207000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:52.201000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:51.365000" elapsed="0.842000"/>
</test>
<doc>Generate data</doc>
<status status="PASS" start="2024-06-29T10:05:33.710000" elapsed="18.498000"/>
</suite>
<suite id="s1-s7" name="1.4.0-1.5.0-2-pre-finalized-generate-new1" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:05:52.926000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:52.929000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:52.932000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:52.932000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:52.927000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.932000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:52.932000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.933000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:52.933000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:52.927000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:52.933000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:52.927000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:52.933000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:05:52.927000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:05:52.934000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:05:52.926000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:05:52.934000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:05:52.934000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:52.937000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:53.019000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:53.019000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:52.936000" elapsed="0.083000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:53.020000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:53.019000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:53.020000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:53.020000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:52.935000" elapsed="0.085000"/>
</kw>
<msg time="2024-06-29T10:05:53.020000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:52.935000" elapsed="0.085000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:05:52.935000" elapsed="0.086000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:05:52.934000" elapsed="0.087000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:05:52.926000" elapsed="0.095000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:05:52.925000" elapsed="0.096000"/>
</kw>
<test id="s1-s7-t1" name="Create a volume and bucket" line="29">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:53.025000" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:55.740000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:55.740000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:53.023000" elapsed="2.717000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:55.741000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:55.740000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:55.742000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:55.741000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:53.023000" elapsed="2.719000"/>
</kw>
<msg time="2024-06-29T10:05:55.742000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:53.022000" elapsed="2.720000"/>
</kw>
<msg time="2024-06-29T10:05:55.742000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<status status="PASS" start="2024-06-29T10:05:53.022000" elapsed="2.720000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:55.743000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:55.746000" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:05:58.451000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:58.451000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:55.744000" elapsed="2.707000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:58.452000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:58.452000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:58.453000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:58.453000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:55.744000" elapsed="2.709000"/>
</kw>
<msg time="2024-06-29T10:05:58.453000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:55.744000" elapsed="2.709000"/>
</kw>
<msg time="2024-06-29T10:05:58.454000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-06-29T10:05:55.743000" elapsed="2.711000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:05:58.454000" elapsed="0.000000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:53.021000" elapsed="5.433000"/>
</test>
<test id="s1-s7-t2" name="Create key" line="36">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:58.458000" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:05:58.459000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:05:58.459000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:58.456000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:05:58.460000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:05:58.460000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:05:58.461000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:05:58.460000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:58.455000" elapsed="0.006000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:05:58.464000" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:02.564000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:02.564000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:05:58.462000" elapsed="4.103000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:02.566000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:02.565000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:02.566000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:02.566000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:05:58.462000" elapsed="4.105000"/>
</kw>
<msg time="2024-06-29T10:06:02.567000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:05:58.462000" elapsed="4.105000"/>
</kw>
<msg time="2024-06-29T10:06:02.567000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<status status="PASS" start="2024-06-29T10:05:58.461000" elapsed="4.106000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:02.567000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:02.570000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:02.572000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:02.572000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:02.568000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:02.572000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:02.572000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:02.573000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:02.573000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:02.568000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:05:58.455000" elapsed="4.118000"/>
</test>
<test id="s1-s7-t3" name="Create a bucket in s3v volume" line="42">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:02.577000" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:05.493000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:05.493000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:02.576000" elapsed="2.917000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:05.494000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:05.494000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:05.495000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:05.495000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:02.575000" elapsed="2.920000"/>
</kw>
<msg time="2024-06-29T10:06:05.495000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:02.575000" elapsed="2.920000"/>
</kw>
<msg time="2024-06-29T10:06:05.495000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-06-29T10:06:02.575000" elapsed="2.921000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:05.496000" elapsed="0.000000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:02.574000" elapsed="2.922000"/>
</test>
<test id="s1-s7-t4" name="Create key in the bucket in s3v volume" line="47">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:05.499000" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:06:05.501000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:05.501000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:05.498000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:05.502000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:05.501000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:05.502000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:05.502000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:05.497000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:05.505000" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:09.718000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:09.718000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:05.504000" elapsed="4.214000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.719000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:09.718000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.720000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:09.719000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:05.503000" elapsed="4.217000"/>
</kw>
<msg time="2024-06-29T10:06:09.720000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:05.503000" elapsed="4.217000"/>
</kw>
<msg time="2024-06-29T10:06:09.720000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<status status="PASS" start="2024-06-29T10:06:05.503000" elapsed="4.217000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:09.720000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:09.723000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:09.725000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:09.725000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:09.721000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.726000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:09.725000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.726000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:09.726000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:09.721000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:05.497000" elapsed="4.230000"/>
</test>
<test id="s1-s7-t5" name="Try to create a bucket using S3 API" line="53">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:06:09.729000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:09.733000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:09.735000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:09.736000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:09.731000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.736000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:09.736000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.737000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:09.737000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:09.731000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:09.737000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:09.731000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:09.737000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:06:09.730000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:06:09.738000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:06:09.730000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.738000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:06:09.738000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:09.742000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:09.798000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:09.798000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:09.740000" elapsed="0.058000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.799000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:09.798000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:09.799000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:09.799000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:09.740000" elapsed="0.060000"/>
</kw>
<msg time="2024-06-29T10:06:09.800000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:09.740000" elapsed="0.060000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:06:09.739000" elapsed="0.061000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:06:09.738000" elapsed="0.062000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:06:09.729000" elapsed="0.071000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:09.729000" elapsed="0.071000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:09.803000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:11.845000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:06:11.845000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:09.802000" elapsed="2.043000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:11.846000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:11.845000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:11.846000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:09.801000" elapsed="2.045000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:11.846000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:11.847000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:06:11.846000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:11.850000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:13.851000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:13.851000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:11.848000" elapsed="2.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:13.852000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:13.852000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:13.853000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:13.852000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:11.848000" elapsed="2.005000"/>
</kw>
<msg time="2024-06-29T10:06:13.853000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:11.848000" elapsed="2.005000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:11.847000" elapsed="2.006000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:13.857000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:15.881000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:15.882000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=d416367496732743e64e0ee93b938fc4bda6732680d3ee6d71b2dd128282e7d3</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:13.855000" elapsed="2.027000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:15.883000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=d416367496732743e64e0ee93b938fc4bda6732680d3ee6d71b2dd128282e7d3</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:15.882000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:15.883000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:15.883000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:13.854000" elapsed="2.029000"/>
</kw>
<msg time="2024-06-29T10:06:15.884000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:13.854000" elapsed="2.030000"/>
</kw>
<msg time="2024-06-29T10:06:15.884000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=d416367496732743e64e0ee93b938fc4bda6732680d3ee6d71b2dd128282e7d3</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:13.854000" elapsed="2.030000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:11.847000" elapsed="4.037000"/>
</branch>
<status status="PASS" start="2024-06-29T10:06:11.847000" elapsed="4.037000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:06:15.885000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:06:15.884000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:06:15.885000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:06:15.885000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:06:15.886000" level="INFO">${secret} = ['d416367496732743e64e0ee93b938fc4bda6732680d3ee6d71b2dd128282e7d3']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:06:15.885000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:15.887000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:06:15.886000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:15.888000" level="INFO">${secret} = d416367496732743e64e0ee93b938fc4bda6732680d3ee6d71b2dd128282e7d3</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:06:15.887000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:15.891000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:16.298000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:16.298000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:15.889000" elapsed="0.409000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:16.299000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:16.298000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:16.299000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:16.299000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:15.889000" elapsed="0.411000"/>
</kw>
<msg time="2024-06-29T10:06:16.300000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:15.889000" elapsed="0.411000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:06:15.888000" elapsed="0.412000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:16.303000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:16.722000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:16.722000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:16.301000" elapsed="0.421000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:16.723000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:16.723000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:16.724000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:16.724000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:16.301000" elapsed="0.423000"/>
</kw>
<msg time="2024-06-29T10:06:16.724000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:16.301000" elapsed="0.424000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:06:16.300000" elapsed="0.425000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:16.728000" level="INFO">Running command 'aws configure set aws_secret_access_key d416367496732743e64e0ee93b938fc4bda6732680d3ee6d71b2dd128282e7d3 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:17.127000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:17.127000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:16.726000" elapsed="0.401000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:17.128000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:17.127000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:17.128000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:17.128000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:16.726000" elapsed="0.403000"/>
</kw>
<msg time="2024-06-29T10:06:17.129000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:16.725000" elapsed="0.404000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:06:16.725000" elapsed="0.404000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:17.132000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:17.518000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:17.518000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:17.130000" elapsed="0.388000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:17.519000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:17.519000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:17.520000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:17.520000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:17.130000" elapsed="0.390000"/>
</kw>
<msg time="2024-06-29T10:06:17.520000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:17.130000" elapsed="0.390000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:06:17.129000" elapsed="0.392000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:17.524000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:17.960000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:17.960000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:17.522000" elapsed="0.438000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:17.961000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:17.961000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:17.962000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:17.961000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:17.521000" elapsed="0.441000"/>
</kw>
<msg time="2024-06-29T10:06:17.962000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:17.521000" elapsed="0.441000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:06:17.521000" elapsed="0.441000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:09.801000" elapsed="8.161000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:09.800000" elapsed="8.162000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:17.963000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:09.728000" elapsed="8.235000"/>
</kw>
<kw name="Generate Ozone String" owner="commonawslib">
<kw name="Generate Random String" owner="String">
<msg time="2024-06-29T10:06:17.964000" level="INFO">${randStr} = 5514266313</msg>
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-06-29T10:06:17.964000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:17.964000" level="INFO">${random} = ozone-test-5514266313</msg>
<var>${random}</var>
<status status="PASS" start="2024-06-29T10:06:17.963000" elapsed="0.001000"/>
</kw>
<kw name="Create bucket with name" owner="commonawslib">
<kw name="Execute AWSS3APICli" owner="commonawslib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:17.968000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket-ozone-test-5514266313 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:18.487000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:18.487000" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-5514266313"
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:17.966000" elapsed="0.521000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:18.488000" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket-ozone-test-5514266313"
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:18.487000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:18.488000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:18.488000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:17.966000" elapsed="0.523000"/>
</kw>
<msg time="2024-06-29T10:06:18.489000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:17.966000" elapsed="0.523000"/>
</kw>
<msg time="2024-06-29T10:06:18.489000" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-5514266313"
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<status status="PASS" start="2024-06-29T10:06:17.965000" elapsed="0.524000"/>
</kw>
<msg time="2024-06-29T10:06:18.489000" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-5514266313"
}</msg>
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<status status="PASS" start="2024-06-29T10:06:17.965000" elapsed="0.524000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:18.489000" elapsed="0.001000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:18.490000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:18.490000" level="INFO">${output} = None</msg>
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<status status="PASS" start="2024-06-29T10:06:17.964000" elapsed="0.526000"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2024-06-29T10:06:18.490000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:09.727000" elapsed="8.764000"/>
</test>
<test id="s1-s7-t6" name="Create key using S3 API" line="60">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:18.494000" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-06-29T10:06:18.496000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:18.496000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:18.492000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:18.496000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:18.496000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:18.497000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:18.496000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:18.492000" elapsed="0.005000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:18.499000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:19.093000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:19.093000" level="INFO">${output} = {
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:18.498000" elapsed="0.595000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.095000" level="INFO">{
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:19.094000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.095000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:19.095000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:19.096000" level="INFO">${output} = {
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:06:18.498000" elapsed="0.598000"/>
</kw>
<msg time="2024-06-29T10:06:19.096000" level="INFO">${output} = {
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:18.497000" elapsed="0.599000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:19.096000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:19.099000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:19.100000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:19.100000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:19.097000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.101000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:19.101000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.102000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:19.101000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:19.096000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:18.491000" elapsed="0.611000"/>
</test>
<doc>Generate data</doc>
<status status="PASS" start="2024-06-29T10:05:52.852000" elapsed="26.251000"/>
</suite>
<suite id="s1-s8" name="1.4.0-1.5.0-2-pre-finalized-validate-new1" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:06:19.819000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:19.822000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:19.824000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:19.824000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:19.820000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.825000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:19.825000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.825000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:19.825000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:19.820000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:19.826000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:19.820000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:19.826000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:06:19.819000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:06:19.826000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:06:19.819000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.827000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:06:19.827000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:19.830000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:19.898000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:19.898000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:19.828000" elapsed="0.070000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.899000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:19.899000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:19.900000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:19.899000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:19.828000" elapsed="0.072000"/>
</kw>
<msg time="2024-06-29T10:06:19.900000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:19.828000" elapsed="0.072000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:06:19.827000" elapsed="0.073000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:06:19.827000" elapsed="0.073000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:06:19.818000" elapsed="0.082000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:19.818000" elapsed="0.082000"/>
</kw>
<test id="s1-s8-t1" name="Read data from previously created key" line="29">
<kw name="Generate Random String" owner="String">
<msg time="2024-06-29T10:06:19.902000" level="INFO">${random} = 17441</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-06-29T10:06:19.901000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:19.905000" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-17441 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:23.907000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:23.907000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:19.903000" elapsed="4.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.908000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:23.907000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.909000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:23.908000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:19.903000" elapsed="4.006000"/>
</kw>
<msg time="2024-06-29T10:06:23.909000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:19.902000" elapsed="4.007000"/>
</kw>
<msg time="2024-06-29T10:06:23.909000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<status status="PASS" start="2024-06-29T10:06:19.902000" elapsed="4.007000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:23.909000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:23.912000" level="INFO">Running command 'cat /tmp/key-17441 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:23.914000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:23.914000" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:23.910000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.915000" level="INFO">new1: key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:23.914000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.915000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:23.915000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:23.916000" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:23.910000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:23.916000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:23.918000" level="INFO">Running command 'rm /tmp/key-17441 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:23.920000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:23.920000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:23.917000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.921000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:23.920000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.921000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:23.921000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:23.916000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:19.901000" elapsed="4.021000"/>
</test>
<test id="s1-s8-t2" name="Read key created with Ozone Shell using S3 API" line="37">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:06:23.924000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:23.927000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:23.929000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:23.929000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:23.926000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.930000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:23.930000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.931000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:23.930000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:23.925000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:23.931000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:23.925000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:23.931000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:06:23.925000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:23.931000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:06:23.924000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.932000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:06:23.931000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:23.935000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:23.983000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:23.983000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:23.933000" elapsed="0.050000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.984000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:23.983000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:23.984000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:23.984000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:23.933000" elapsed="0.052000"/>
</kw>
<msg time="2024-06-29T10:06:23.985000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:23.933000" elapsed="0.052000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:06:23.932000" elapsed="0.053000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:06:23.932000" elapsed="0.053000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:06:23.924000" elapsed="0.061000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:23.923000" elapsed="0.062000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:23.987000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:25.975000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:06:25.975000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:23.986000" elapsed="1.989000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:25.976000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:25.976000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:25.977000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:23.986000" elapsed="1.991000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:25.977000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:25.978000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:06:25.977000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:25.981000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:28.177000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:28.177000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:25.979000" elapsed="2.198000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:28.178000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:28.177000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:28.179000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:28.179000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:25.979000" elapsed="2.200000"/>
</kw>
<msg time="2024-06-29T10:06:28.180000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:25.978000" elapsed="2.202000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:25.978000" elapsed="2.202000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:28.184000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:30.372000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:30.372000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=ab77d540215bf72c3f20183156d6a7d5fe695f764939402eb44a79d368bf5ca5</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:28.182000" elapsed="2.190000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.373000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=ab77d540215bf72c3f20183156d6a7d5fe695f764939402eb44a79d368bf5ca5</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:30.373000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.374000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:30.373000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:28.181000" elapsed="2.193000"/>
</kw>
<msg time="2024-06-29T10:06:30.374000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:28.181000" elapsed="2.193000"/>
</kw>
<msg time="2024-06-29T10:06:30.375000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=ab77d540215bf72c3f20183156d6a7d5fe695f764939402eb44a79d368bf5ca5</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:28.180000" elapsed="2.195000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:25.978000" elapsed="4.397000"/>
</branch>
<status status="PASS" start="2024-06-29T10:06:25.978000" elapsed="4.397000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:06:30.375000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:06:30.375000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.376000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:06:30.376000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:06:30.376000" level="INFO">${secret} = ['ab77d540215bf72c3f20183156d6a7d5fe695f764939402eb44a79d368bf5ca5']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:06:30.376000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.378000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:06:30.377000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.379000" level="INFO">${secret} = ab77d540215bf72c3f20183156d6a7d5fe695f764939402eb44a79d368bf5ca5</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:06:30.378000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:30.382000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:30.784000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:30.784000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:30.380000" elapsed="0.404000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.785000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:30.785000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:30.786000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:30.785000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:30.379000" elapsed="0.407000"/>
</kw>
<msg time="2024-06-29T10:06:30.786000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:30.379000" elapsed="0.407000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:06:30.379000" elapsed="0.407000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:30.789000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:31.216000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:31.216000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:30.788000" elapsed="0.428000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:31.217000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:31.216000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:31.217000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:31.217000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:30.787000" elapsed="0.431000"/>
</kw>
<msg time="2024-06-29T10:06:31.218000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:30.787000" elapsed="0.431000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:06:30.786000" elapsed="0.432000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:31.221000" level="INFO">Running command 'aws configure set aws_secret_access_key ab77d540215bf72c3f20183156d6a7d5fe695f764939402eb44a79d368bf5ca5 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:31.610000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:31.610000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:31.219000" elapsed="0.391000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:31.611000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:31.611000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:31.612000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:31.612000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:31.219000" elapsed="0.393000"/>
</kw>
<msg time="2024-06-29T10:06:31.612000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:31.219000" elapsed="0.394000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:06:31.218000" elapsed="0.395000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:31.616000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:32.011000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:32.011000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:31.614000" elapsed="0.397000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:32.012000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:32.012000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:32.013000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:32.013000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:31.614000" elapsed="0.399000"/>
</kw>
<msg time="2024-06-29T10:06:32.013000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:31.613000" elapsed="0.400000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:06:31.613000" elapsed="0.401000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:32.017000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:32.419000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:32.419000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:32.015000" elapsed="0.404000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:32.420000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:32.419000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:32.421000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:32.420000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:32.014000" elapsed="0.407000"/>
</kw>
<msg time="2024-06-29T10:06:32.421000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:32.014000" elapsed="0.407000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:06:32.014000" elapsed="0.408000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:23.985000" elapsed="8.437000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:23.985000" elapsed="8.437000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:32.422000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:23.923000" elapsed="8.499000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:32.425000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:33.021000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:33.021000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:32.423000" elapsed="0.598000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.022000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 29 Jun 2024 10:06:32 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:33.022000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.023000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:33.022000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:33.023000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:06:32.423000" elapsed="0.600000"/>
</kw>
<msg time="2024-06-29T10:06:33.023000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:32.422000" elapsed="0.601000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:33.024000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:33.026000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:33.028000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:33.028000" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:33.025000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.029000" level="INFO">new1: another key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:33.029000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.030000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:33.029000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:33.030000" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:33.024000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:33.030000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:33.033000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:33.034000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:33.034000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:33.031000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.035000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:33.035000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.036000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:33.035000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:33.031000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:23.922000" elapsed="9.114000"/>
</test>
<test id="s1-s8-t3" name="Read key created with S3 API using S3 API" line="45">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:06:33.038000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:33.042000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:33.044000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:33.044000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:33.040000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.045000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:33.044000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.045000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:33.045000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:33.040000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:33.046000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:33.040000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:33.046000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:06:33.039000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:06:33.046000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:06:33.039000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.047000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:06:33.046000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:33.050000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:33.096000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:33.097000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:33.048000" elapsed="0.049000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.098000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:33.097000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:33.098000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:33.098000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:33.048000" elapsed="0.050000"/>
</kw>
<msg time="2024-06-29T10:06:33.099000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:33.048000" elapsed="0.051000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:06:33.047000" elapsed="0.052000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:06:33.047000" elapsed="0.052000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:06:33.038000" elapsed="0.061000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:33.037000" elapsed="0.062000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:33.102000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:35.433000" level="INFO">${rc} = 255</msg>
<msg time="2024-06-29T10:06:35.433000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:33.100000" elapsed="2.333000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:35.434000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:35.434000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:35.435000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:33.100000" elapsed="2.335000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:35.435000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:35.436000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-06-29T10:06:35.435000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:35.440000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:37.440000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:37.440000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:35.438000" elapsed="2.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:37.442000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:37.441000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:37.442000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:37.442000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:35.437000" elapsed="2.005000"/>
</kw>
<msg time="2024-06-29T10:06:37.443000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:35.437000" elapsed="2.006000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:35.436000" elapsed="2.007000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:37.446000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:39.561000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:39.562000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=8282dfebc622f658efa584eee6b2932919c4f5f4b6e573eda7fabd1b1f3ff987</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:37.444000" elapsed="2.118000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.563000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=8282dfebc622f658efa584eee6b2932919c4f5f4b6e573eda7fabd1b1f3ff987</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:39.562000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.563000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:39.563000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:37.444000" elapsed="2.119000"/>
</kw>
<msg time="2024-06-29T10:06:39.563000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:37.443000" elapsed="2.121000"/>
</kw>
<msg time="2024-06-29T10:06:39.564000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=8282dfebc622f658efa584eee6b2932919c4f5f4b6e573eda7fabd1b1f3ff987</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-06-29T10:06:37.443000" elapsed="2.121000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:35.436000" elapsed="4.128000"/>
</branch>
<status status="PASS" start="2024-06-29T10:06:35.436000" elapsed="4.128000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:06:39.565000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:06:39.564000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.565000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-06-29T10:06:39.565000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-06-29T10:06:39.565000" level="INFO">${secret} = ['8282dfebc622f658efa584eee6b2932919c4f5f4b6e573eda7fabd1b1f3ff987']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-06-29T10:06:39.565000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.567000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:06:39.566000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.568000" level="INFO">${secret} = 8282dfebc622f658efa584eee6b2932919c4f5f4b6e573eda7fabd1b1f3ff987</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-06-29T10:06:39.567000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:39.570000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:39.981000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:39.981000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:39.569000" elapsed="0.412000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.982000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:39.982000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:39.983000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:39.983000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:39.568000" elapsed="0.415000"/>
</kw>
<msg time="2024-06-29T10:06:39.983000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:39.568000" elapsed="0.415000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-06-29T10:06:39.568000" elapsed="0.416000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:39.987000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:40.381000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:40.381000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:39.985000" elapsed="0.396000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:40.382000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:40.381000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:40.383000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:40.382000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:39.984000" elapsed="0.399000"/>
</kw>
<msg time="2024-06-29T10:06:40.383000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:39.984000" elapsed="0.399000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-06-29T10:06:39.984000" elapsed="0.399000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:40.386000" level="INFO">Running command 'aws configure set aws_secret_access_key 8282dfebc622f658efa584eee6b2932919c4f5f4b6e573eda7fabd1b1f3ff987 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:40.771000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:40.771000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:40.384000" elapsed="0.387000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:40.772000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:40.772000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:40.773000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:40.773000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:40.384000" elapsed="0.389000"/>
</kw>
<msg time="2024-06-29T10:06:40.773000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:40.384000" elapsed="0.389000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-06-29T10:06:40.383000" elapsed="0.391000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:40.777000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:41.167000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:41.167000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:40.775000" elapsed="0.392000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:41.168000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:41.167000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:41.168000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:41.168000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:40.775000" elapsed="0.394000"/>
</kw>
<msg time="2024-06-29T10:06:41.169000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:40.774000" elapsed="0.395000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-06-29T10:06:40.774000" elapsed="0.395000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:41.172000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:41.563000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:41.564000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:41.170000" elapsed="0.394000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:41.566000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:41.564000" elapsed="0.002000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:41.567000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:41.566000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:41.170000" elapsed="0.397000"/>
</kw>
<msg time="2024-06-29T10:06:41.567000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:41.169000" elapsed="0.398000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-06-29T10:06:41.169000" elapsed="0.398000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:33.100000" elapsed="8.468000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:33.099000" elapsed="8.469000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:41.568000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-06-29T10:06:33.037000" elapsed="8.532000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:41.572000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:42.067000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:42.067000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:19 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:41.570000" elapsed="0.497000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.068000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:19 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Sat, 29 Jun 2024 10:06:41 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:42.068000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.069000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:42.069000" elapsed="0.000000"/>
</kw>
<msg time="2024-06-29T10:06:42.069000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:19 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-06-29T10:06:41.570000" elapsed="0.499000"/>
</kw>
<msg time="2024-06-29T10:06:42.069000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Sat, 29 Jun 2024 10:06:19 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:41.569000" elapsed="0.500000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:42.070000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:42.072000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:42.074000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:42.074000" level="INFO">${output} = new1: key created using S3 API</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:42.071000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.075000" level="INFO">new1: key created using S3 API</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:42.075000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.076000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:42.075000" elapsed="0.001000"/>
</kw>
<msg time="2024-06-29T10:06:42.076000" level="INFO">${output} = new1: key created using S3 API</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:42.070000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-06-29T10:06:42.076000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:42.079000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:42.080000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:42.080000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:42.077000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.081000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:42.081000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.082000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:42.081000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:42.077000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-06-29T10:06:33.037000" elapsed="9.045000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-06-29T10:06:19.745000" elapsed="22.338000"/>
</suite>
<suite id="s1-s9" name="1.4.0-1.5.0-2-pre-finalized-prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s9-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:06:42.757000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:42.761000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:42.763000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:42.763000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:42.759000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.764000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:42.764000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.765000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:42.764000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:42.759000" elapsed="0.006000"/>
</kw>
<msg time="2024-06-29T10:06:42.765000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:42.758000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:06:42.765000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-06-29T10:06:42.758000" elapsed="0.007000"/>
</kw>
<msg time="2024-06-29T10:06:42.765000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-06-29T10:06:42.758000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.766000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-06-29T10:06:42.766000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:42.769000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:06:42.802000" level="INFO">${rc} = 0</msg>
<msg time="2024-06-29T10:06:42.802000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-06-29T10:06:42.767000" elapsed="0.035000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.803000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-06-29T10:06:42.802000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-06-29T10:06:42.803000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-06-29T10:06:42.803000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-06-29T10:06:42.767000" elapsed="0.037000"/>
</kw>
<msg time="2024-06-29T10:06:42.804000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-06-29T10:06:42.767000" elapsed="0.037000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-06-29T10:06:42.766000" elapsed="0.038000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-06-29T10:06:42.766000" elapsed="0.038000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-06-29T10:06:42.757000" elapsed="0.047000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-06-29T10:06:42.757000" elapsed="0.047000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-06-29T10:06:42.804000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-06-29T10:06:42.807000" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg time="2024-06-29T10:11:42.756000" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="FAIL" start="2024-06-29T10:06:42.806000" elapsed="299.950000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2024-06-29T10:11:42.757000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" start="2024-06-29T10:11:42.757000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="FAIL" start="2024-06-29T10:06:42.805000" elapsed="299.953000"/>
</kw>
<msg time="2024-06-29T10:11:42.758000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="FAIL" start="2024-06-29T10:06:42.805000" elapsed="299.953000"/>
</kw>
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<status status="FAIL" start="2024-06-29T10:06:42.805000" elapsed="299.953000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" start="2024-06-29T10:11:42.758000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" start="2024-06-29T10:06:42.756000" elapsed="300.003000">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" start="2024-06-29T10:06:42.711000" elapsed="300.049000"/>
</suite>
<status status="FAIL" elapsed="466.158000"/>
</suite>
<statistics>
<total>
<stat pass="28" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="4" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="2" fail="0" skip="0">finalized</stat>
<stat pass="1" fail="0" skip="0">om</stat>
<stat pass="1" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="28" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="1.4.0-1.5.0-1-original-check-finalization">upgrade.1.4.0-1.5.0-1-original-check-finalization</stat>
<stat pass="6" fail="0" skip="0" id="s1-s2" name="1.4.0-1.5.0-1-original-generate-old1">upgrade.1.4.0-1.5.0-1-original-generate-old1</stat>
<stat pass="3" fail="0" skip="0" id="s1-s3" name="1.4.0-1.5.0-1-original-validate-old1">upgrade.1.4.0-1.5.0-1-original-validate-old1</stat>
<stat pass="1" fail="0" skip="0" id="s1-s4" name="1.4.0-1.5.0-1-original-prepare">upgrade.1.4.0-1.5.0-1-original-prepare</stat>
<stat pass="3" fail="0" skip="0" id="s1-s5" name="1.4.0-1.5.0-2-pre-finalized-validate-old1">upgrade.1.4.0-1.5.0-2-pre-finalized-validate-old1</stat>
<stat pass="4" fail="0" skip="0" id="s1-s6" name="1.4.0-1.5.0-2-pre-finalized-generate-old1">upgrade.1.4.0-1.5.0-2-pre-finalized-generate-old1</stat>
<stat pass="6" fail="0" skip="0" id="s1-s7" name="1.4.0-1.5.0-2-pre-finalized-generate-new1">upgrade.1.4.0-1.5.0-2-pre-finalized-generate-new1</stat>
<stat pass="3" fail="0" skip="0" id="s1-s8" name="1.4.0-1.5.0-2-pre-finalized-validate-new1">upgrade.1.4.0-1.5.0-2-pre-finalized-validate-new1</stat>
<stat pass="0" fail="1" skip="0" id="s1-s9" name="1.4.0-1.5.0-2-pre-finalized-prepare">upgrade.1.4.0-1.5.0-2-pre-finalized-prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
