rm: cannot remove '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/*': No such file or directory
Using Docker Compose v2
Executing test ozone/test-legacy-bucket.sh
Using Docker Compose v2
Error response from daemon: Head "https://registry-1.docker.io/v2/apache/ozone-runner/manifests/20241022-jdk17-1": received unexpected HTTP status: 502 Bad Gateway
ERROR: Test execution of ozone/test-legacy-bucket.sh is FAILED!!!!
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/legacy-bucket'
mv: cannot stat 'ozone/result/*': No such file or directory
Executing test ozone/test.sh
Using Docker Compose v2
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 237
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 236
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
Lib                                                                           
==============================================================================
Lib.Fs Tests                                                                  
==============================================================================
Format o3fs URL without path                                          | PASS |
------------------------------------------------------------------------------
Format o3fs URL with path                                             | PASS |
------------------------------------------------------------------------------
Format o3fs URL with OM                                               | PASS |
------------------------------------------------------------------------------
Format ofs URL without path                                           | PASS |
------------------------------------------------------------------------------
Format ofs URL with path                                              | PASS |
------------------------------------------------------------------------------
Format ofs URL with OM                                                | PASS |
------------------------------------------------------------------------------
Format FS URL with ofs scheme                                         | PASS |
------------------------------------------------------------------------------
Format FS URL with o3fs scheme                                        | PASS |
------------------------------------------------------------------------------
Format FS URL with unsupported scheme                                 | PASS |
------------------------------------------------------------------------------
Lib.Fs Tests                                                          | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Lib.Os Tests                                                                  
==============================================================================
Execute                                                               | PASS |
------------------------------------------------------------------------------
Execute failing command                                               | PASS |
------------------------------------------------------------------------------
Execute And Ignore Error                                              | PASS |
------------------------------------------------------------------------------
Execute and checkrc                                                   | PASS |
------------------------------------------------------------------------------
Execute and checkrc RC mismatch                                       | PASS |
------------------------------------------------------------------------------
Lib.Os Tests                                                          | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Lib.String Tests                                                              
==============================================================================
Ensure Leading without Leading                                        | PASS |
------------------------------------------------------------------------------
Ensure Leading with Leading                                           | PASS |
------------------------------------------------------------------------------
Ensure Leading for empty                                              | PASS |
------------------------------------------------------------------------------
Ensure Trailing without Trailing                                      | PASS |
------------------------------------------------------------------------------
Ensure Trailing with Trailing                                         | PASS |
------------------------------------------------------------------------------
Ensure Trailing for empty                                             | PASS |
------------------------------------------------------------------------------
Lib.String Tests                                                      | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
Lib                                                                   | PASS |
20 tests, 20 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-1.xml
==============================================================================
Ozone-Lib                                                                     
==============================================================================
Ozone-Lib.Shell Tests                                                         
==============================================================================
Bucket Exists should not if No Such Volume                            | PASS |
------------------------------------------------------------------------------
Bucket Exists should not if No Such Bucket                            | PASS |
------------------------------------------------------------------------------
Bucket Exists                                                         | PASS |
------------------------------------------------------------------------------
Bucket Exists should not if No Such OM service                        | PASS |
------------------------------------------------------------------------------
Key Should Match Local File                                           | PASS |
------------------------------------------------------------------------------
Compare Key With Local File with Different File                       | PASS |
------------------------------------------------------------------------------
Compare Key With Local File if File Does Not Exist                    | PASS |
------------------------------------------------------------------------------
Rejects Put Key With Zero Expected Generation                         | PASS |
------------------------------------------------------------------------------
Rejects Put Key With Negative Expected Generation                     | PASS |
------------------------------------------------------------------------------
Ozone-Lib.Shell Tests                                                 | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Ozone-Lib                                                             | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-2.xml
==============================================================================
Auditparser                                                                   
==============================================================================
Auditparser.Auditparser :: Smoketest ozone cluster startup                    
==============================================================================
Testing audit parser                                                  | PASS |
------------------------------------------------------------------------------
Auditparser.Auditparser :: Smoketest ozone cluster startup            | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Auditparser                                                           | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-3.xml
==============================================================================
Basic                                                                         
==============================================================================
Basic.Basic :: Smoketest ozone cluster startup                                
==============================================================================
Check webui static resources                                          | PASS |
------------------------------------------------------------------------------
Basic Freon smoketest                                                 | PASS |
------------------------------------------------------------------------------
Basic.Basic :: Smoketest ozone cluster startup                        | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Basic.Getconf :: Test 'ozone getconf' command                                 
==============================================================================
Get OM                                                                | PASS |
------------------------------------------------------------------------------
Get SCM                                                               | PASS |
------------------------------------------------------------------------------
Get existing config key                                               | PASS |
------------------------------------------------------------------------------
Get undefined config key                                              | PASS |
------------------------------------------------------------------------------
Basic.Getconf :: Test 'ozone getconf' command                         | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Basic.Links :: Test bucket links via Ozone CLI                                
==============================================================================
Link to non-existent bucket                                           | PASS |
------------------------------------------------------------------------------
Key create passthrough                                                | PASS |
------------------------------------------------------------------------------
Key read passthrough                                                  | PASS |
------------------------------------------------------------------------------
Key list passthrough                                                  | PASS |
------------------------------------------------------------------------------
Key delete passthrough                                                | PASS |
------------------------------------------------------------------------------
Bucket list contains links                                            | PASS |
------------------------------------------------------------------------------
Bucket info shows source                                              | PASS |
------------------------------------------------------------------------------
Source and target bucket have different ACLs                          | PASS |
------------------------------------------------------------------------------
Source and target key have same ACLs                                  | PASS |
------------------------------------------------------------------------------
Source and target prefix have same ACLs                               | PASS |
------------------------------------------------------------------------------
Buckets and links share namespace                                     | PASS |
------------------------------------------------------------------------------
Can follow link with read access                                      | PASS |
------------------------------------------------------------------------------
Cannot follow link without read access                                | PASS |
------------------------------------------------------------------------------
ACL verified on source and target bucket                              | PASS |
------------------------------------------------------------------------------
Loop in link chain is detected                                        | PASS |
------------------------------------------------------------------------------
Multiple links to same bucket are allowed                             | PASS |
------------------------------------------------------------------------------
Source bucket not affected by deleting link                           | PASS |
------------------------------------------------------------------------------
Setting bucket property on link not allowed                           | PASS |
------------------------------------------------------------------------------
Basic.Links :: Test bucket links via Ozone CLI                        | PASS |
18 tests, 18 passed, 0 failed
==============================================================================
Basic.Ozone-Shell-Single :: Test ozone shell CLI usage                        
==============================================================================
Test ozone shell                                                      | PASS |
------------------------------------------------------------------------------
Basic.Ozone-Shell-Single :: Test ozone shell CLI usage                | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Basic.Ozone-Shell :: Test ozone shell CLI usage                               
==============================================================================
RpcClient with port                                                   | PASS |
------------------------------------------------------------------------------
RpcClient with execution errors                                       | PASS |
------------------------------------------------------------------------------
RpcClient volume acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient bucket acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient key acls                                                    | PASS |
------------------------------------------------------------------------------
Test native authorizer                                                | PASS |
------------------------------------------------------------------------------
RpcClient prefix acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient without host                                                | PASS |
------------------------------------------------------------------------------
RpcClient Delete key                                                  | PASS |
------------------------------------------------------------------------------
Basic.Ozone-Shell :: Test ozone shell CLI usage                       | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Basic.Single Node :: Smoketest for one datanode                               
==============================================================================
Basic Freon smoketest for one datanode                                | PASS |
------------------------------------------------------------------------------
Basic.Single Node :: Smoketest for one datanode                       | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Basic                                                                 | PASS |
35 tests, 35 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-4.xml
==============================================================================
Gdpr                                                                          
==============================================================================
Gdpr.Gdpr :: Smoketest Ozone GDPR Feature                                     
==============================================================================
Test GDPR disabled                                                    | PASS |
------------------------------------------------------------------------------
Test GDPR --enforcegdpr=true                                          | PASS |
------------------------------------------------------------------------------
Test GDPR -g=true                                                     | PASS |
------------------------------------------------------------------------------
Test GDPR -g=false                                                    | PASS |
------------------------------------------------------------------------------
Gdpr.Gdpr :: Smoketest Ozone GDPR Feature                             | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Gdpr                                                                  | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-5.xml
==============================================================================
Ozone-Secure-Token :: Test token operations                                   
==============================================================================
Token Test                                                            | PASS |
------------------------------------------------------------------------------
Ozone-Secure-Token :: Test token operations                           | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-6.xml
==============================================================================
Recon                                                                         
==============================================================================
Recon.Recon-Api :: Smoke test to start cluster with docker-compose environm...
==============================================================================
Check if Recon picks up OM data                                       | PASS |
------------------------------------------------------------------------------
Check if Recon picks up DN heartbeats                                 | PASS |
------------------------------------------------------------------------------
Check if Recon Web UI is up                                           | PASS |
------------------------------------------------------------------------------
Check web UI access                                                   | PASS |
------------------------------------------------------------------------------
Check admin only api access                                           | PASS |
------------------------------------------------------------------------------
Check unhealthy, (admin) api access                                   | PASS |
------------------------------------------------------------------------------
Check normal api access                                               | PASS |
------------------------------------------------------------------------------
Recon.Recon-Api :: Smoke test to start cluster with docker-compose... | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Recon.Recon-Nssummary :: Smoke test for Recon Namespace Summary Endpoint fo...
==============================================================================
Check volume creation                                                 | PASS |
------------------------------------------------------------------------------
Check bucket creation                                                 | PASS |
------------------------------------------------------------------------------
Check keys creation                                                   | PASS |
------------------------------------------------------------------------------
Check Summary api access                                              | PASS |
------------------------------------------------------------------------------
Check Disk Usage api access                                           | PASS |
------------------------------------------------------------------------------
Check Quota Usage api access                                          | PASS |
------------------------------------------------------------------------------
Check File Size Distribution api access                               | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Root                                    | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Volume                                  | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Bucket                                  | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Key                                     | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Directory                               | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Disk Usage                                      | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Volume Quota Usage                              | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Bucket Quota Usage                              | PASS |
------------------------------------------------------------------------------
Check Recon Namespace File Size Distribution Root                     | PASS |
------------------------------------------------------------------------------
Recon.Recon-Nssummary :: Smoke test for Recon Namespace Summary En... | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Recon                                                                 | PASS |
23 tests, 23 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-7.xml
==============================================================================
Om-Ratis                                                                      
==============================================================================
Om-Ratis.testOMAdminCmd :: Smoketest ozone cluster startup                    
==============================================================================
Check om admin command                                                | PASS |
------------------------------------------------------------------------------
Om-Ratis.testOMAdminCmd :: Smoketest ozone cluster startup            | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Om-Ratis                                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-8.xml
==============================================================================
Freon                                                                         
==============================================================================
Freon.echoRPCLoad :: Test freon echo RPC commands                             
==============================================================================
Get Container ID                                                      Displaying 1 out of 3 containers. Container list has more containers.
| PASS |
------------------------------------------------------------------------------
[Read] Ozone DataNode Echo RPC Load Generator with request payload... | PASS |
------------------------------------------------------------------------------
[Read] Ozone DataNode Echo RPC Load Generator with request payload... | PASS |
------------------------------------------------------------------------------
[Read] Ozone DataNode Echo RPC Load Generator with empty request p... | PASS |
------------------------------------------------------------------------------
[Read] Ozone DataNode Echo RPC Load Generator with empty request p... | PASS |
------------------------------------------------------------------------------
[Read] Ozone Echo RPC Load Generator with request payload and resp... | PASS |
------------------------------------------------------------------------------
[Read] Ozone Echo RPC Load Generator with request payload and empt... | PASS |
------------------------------------------------------------------------------
[Read] Ozone Echo RPC Load Generator with empty request payload an... | PASS |
------------------------------------------------------------------------------
[Read] Ozone Echo RPC Load Generator with empty request payload an... | PASS |
------------------------------------------------------------------------------
[Write] Ozone Echo RPC Load Generator with request payload and res... | PASS |
------------------------------------------------------------------------------
[Write] Ozone Echo RPC Load Generator with request payload and emp... | PASS |
------------------------------------------------------------------------------
[Write] Ozone Echo RPC Load Generator with empty request payload a... | PASS |
------------------------------------------------------------------------------
[Write] Ozone Echo RPC Load Generator with empty request payload a... | PASS |
------------------------------------------------------------------------------
Freon.echoRPCLoad :: Test freon echo RPC commands                     | PASS |
13 tests, 13 passed, 0 failed
==============================================================================
Freon.Generate-Chunk :: Test freon chunk generation commands                  
==============================================================================
DN Chunk Generator                                                    | PASS |
------------------------------------------------------------------------------
Freon.Generate-Chunk :: Test freon chunk generation commands          | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Freon.Generate :: Test freon data generation commands                         
==============================================================================
Ozone Client Key Generator                                            | PASS |
------------------------------------------------------------------------------
OM Key Generator                                                      | PASS |
------------------------------------------------------------------------------
OM Bucket Generator                                                   | PASS |
------------------------------------------------------------------------------
Freon.Generate :: Test freon data generation commands                 | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Freon.Hsync :: Test HSync via freon CLI.                                      
==============================================================================
Generate key for o3fs by HSYNC                                        | PASS |
------------------------------------------------------------------------------
Generate key for o3fs by HFLUSH                                       | PASS |
------------------------------------------------------------------------------
Generate key for ofs by HSYNC                                         | PASS |
------------------------------------------------------------------------------
Generate key for ofs by HFLUSH                                        | PASS |
------------------------------------------------------------------------------
Freon.Hsync :: Test HSync via freon CLI.                              | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Freon.Metadata-Generate :: Test freon ommg command                            
==============================================================================
[Setup] Create Volume and Buckets                                     | PASS |
------------------------------------------------------------------------------
[Read] Bucket Information                                             | PASS |
------------------------------------------------------------------------------
[Create] File in FILE_SYSTEM_OPTIMIZED Bucket                         | PASS |
------------------------------------------------------------------------------
[Read] File in FILE_SYSTEM_OPTIMIZED Bucket                           | PASS |
------------------------------------------------------------------------------
[List] File Status in FILE_SYSTEM_OPTIMIZED Bucket                    | PASS |
------------------------------------------------------------------------------
[List] light File status in FILE_SYSTEM_OPTIMIZED Bucket              | PASS |
------------------------------------------------------------------------------
[Create] Key in OBJECT_STORE Bucket                                   | PASS |
------------------------------------------------------------------------------
[Read] Key in OBJECT_STORE Bucket                                     | PASS |
------------------------------------------------------------------------------
[List] Keys in OBJECT_STORE Bucket                                    | PASS |
------------------------------------------------------------------------------
[List] Light Keys in OBJECT_STORE Bucket                              | PASS |
------------------------------------------------------------------------------
[Get] Key Information in OBJECT_STORE Bucket                          | PASS |
------------------------------------------------------------------------------
Freon.Metadata-Generate :: Test freon ommg command                    | PASS |
11 tests, 11 passed, 0 failed
==============================================================================
Freon.Read-Write-Key :: Test freon read/write key commands                    
==============================================================================
Pre-generate 100 keys of size 1 byte each to Ozone                    | PASS |
------------------------------------------------------------------------------
Read 10 keys from pre-generated keys                                  | PASS |
------------------------------------------------------------------------------
Read 10 keys metadata from pre-generated keys                         | PASS |
------------------------------------------------------------------------------
Read 10 keys when generate in linear manner                           | PASS |
------------------------------------------------------------------------------
Write 10 keys of size 1 byte each from key index 0 to 99              | PASS |
------------------------------------------------------------------------------
Run 90 % of read-key tasks and 10 % of write-key tasks for 10 keys... | PASS |
------------------------------------------------------------------------------
Run 50 % of read-key tasks, 40 % list-key tasks and 10 % of write-... | PASS |
------------------------------------------------------------------------------
Freon.Read-Write-Key :: Test freon read/write key commands            | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Freon.Remove :: Test freon data remove commands                               
==============================================================================
Ozone Client Key Remover                                              | PASS |
------------------------------------------------------------------------------
OM Bucket Remover                                                     | PASS |
------------------------------------------------------------------------------
Freon.Remove :: Test freon data remove commands                       | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Freon.Validate-Chunk :: Test freon chunk validation commands                  
==============================================================================
DN Chunk Validator                                                    | PASS |
------------------------------------------------------------------------------
Freon.Validate-Chunk :: Test freon chunk validation commands          | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Freon.Validate :: Test freon data validation commands                         
==============================================================================
Ozone Client Key Validator                                            | PASS |
------------------------------------------------------------------------------
Freon.Validate :: Test freon data validation commands                 | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Freon                                                                 | PASS |
43 tests, 43 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-9.xml
==============================================================================
Cli                                                                           
==============================================================================
Cli.Classpath :: Test ozone classpath command                                 
==============================================================================
Ignores HADOOP_CLASSPATH if OZONE_CLASSPATH is set                    | PASS |
------------------------------------------------------------------------------
Picks up items from OZONE_CLASSPATH                                   | PASS |
------------------------------------------------------------------------------
Adds optional dir entries                                             | PASS |
------------------------------------------------------------------------------
Cli.Classpath :: Test ozone classpath command                         | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Cli.Envvars :: Test ozone envvars command                                     
==============================================================================
Ignores deprecated vars if new ones are set                           | PASS |
------------------------------------------------------------------------------
Find valid dirs                                                       | PASS |
------------------------------------------------------------------------------
Picks up deprecated vars if valid                                     | PASS |
------------------------------------------------------------------------------
Warning for deprecated vars can be suppressed                         | PASS |
------------------------------------------------------------------------------
Works with only OZONE_HOME defined                                    | PASS |
------------------------------------------------------------------------------
Cli.Envvars :: Test ozone envvars command                             | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Cli                                                                   | PASS |
8 tests, 8 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-10.xml
==============================================================================
Admincli                                                                      
==============================================================================
Admincli.Admin :: Test ozone admin command                                    
==============================================================================
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Admincli.Admin :: Test ozone admin command                            | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Admincli.Cert :: Test ozone admin cert command                                
==============================================================================
List certificates                                                     | PASS |
N/A
------------------------------------------------------------------------------
List certificates as JSON                                             | PASS |
N/A
------------------------------------------------------------------------------
Admincli.Cert :: Test ozone admin cert command                        | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Admincli.Container :: Test ozone admin container command                      
==============================================================================
Create container                                                      | PASS |
------------------------------------------------------------------------------
List containers                                                       | PASS |
------------------------------------------------------------------------------
List containers with explicit host                                    | PASS |
------------------------------------------------------------------------------
List containers with container state                                  | PASS |
------------------------------------------------------------------------------
List containers with replication factor ONE                           | PASS |
------------------------------------------------------------------------------
List containers with replication factor THREE                         | PASS |
------------------------------------------------------------------------------
Container info                                                        | PASS |
------------------------------------------------------------------------------
Verbose container info                                                | PASS |
------------------------------------------------------------------------------
List containers as JSON                                               | PASS |
------------------------------------------------------------------------------
Report containers as JSON                                             | PASS |
------------------------------------------------------------------------------
List all containers                                                   | PASS |
------------------------------------------------------------------------------
List all containers according to count (batchSize)                    | PASS |
------------------------------------------------------------------------------
List all containers from a particular container ID                    | PASS |
------------------------------------------------------------------------------
Close container                                                       | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Cannot close container without admin privilege                        | PASS |
Skip privilege check in unsecure cluster
------------------------------------------------------------------------------
Cannot create container without admin privilege                       | PASS |
Skip privilege check in unsecure cluster
------------------------------------------------------------------------------
Reset user                                                            | PASS |
------------------------------------------------------------------------------
Admincli.Container :: Test ozone admin container command              | PASS |
18 tests, 18 passed, 0 failed
==============================================================================
Admincli.Datanode :: Test ozone admin datanode command                        
==============================================================================
List datanodes                                                        | PASS |
------------------------------------------------------------------------------
Filter list by UUID                                                   | PASS |
------------------------------------------------------------------------------
Filter list by Ip address                                             | PASS |
------------------------------------------------------------------------------
Filter list by Hostname                                               | PASS |
------------------------------------------------------------------------------
Filter list by NodeOperationalState                                   | PASS |
------------------------------------------------------------------------------
Filter list by NodeState                                              | PASS |
------------------------------------------------------------------------------
Get usage info by UUID                                                | PASS |
------------------------------------------------------------------------------
Get usage info by Ip address                                          | PASS |
------------------------------------------------------------------------------
Get usage info by Hostname                                            | PASS |
------------------------------------------------------------------------------
Get usage info with invalid address                                   | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
List datanodes as JSON                                                | PASS |
------------------------------------------------------------------------------
Get usage info as JSON                                                | PASS |
------------------------------------------------------------------------------
Admincli.Datanode :: Test ozone admin datanode command                | PASS |
13 tests, 13 passed, 0 failed
==============================================================================
Admincli.Pipeline :: Test ozone admin pipeline command                        
==============================================================================
List pipelines                                                        | PASS |
------------------------------------------------------------------------------
List pipeline with json option                                        | PASS |
------------------------------------------------------------------------------
List pipelines with explicit host                                     | PASS |
------------------------------------------------------------------------------
List pipelines with explicit host and json option                     | PASS |
------------------------------------------------------------------------------
Deactivate pipeline                                                   | PASS |
------------------------------------------------------------------------------
Activate pipeline                                                     | PASS |
------------------------------------------------------------------------------
Close pipeline                                                        | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Create pipeline                                                       | PASS |
------------------------------------------------------------------------------
Admincli.Pipeline :: Test ozone admin pipeline command                | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Admincli.printTopology :: Test ozone admin printTopology command              
==============================================================================
Run printTopology                                                     | PASS |
------------------------------------------------------------------------------
Run printTopology as JSON                                             | PASS |
------------------------------------------------------------------------------
Admincli.printTopology :: Test ozone admin printTopology command      | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Admincli.Reconfigure :: Test ozone admin command                              
==============================================================================
Reconfigure OM                                                        | PASS |
N/A
------------------------------------------------------------------------------
Reconfigure SCM                                                       | PASS |
N/A
------------------------------------------------------------------------------
Reconfigure DN                                                        | PASS |
N/A
------------------------------------------------------------------------------
Admincli.Reconfigure :: Test ozone admin command                      | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Admincli.Replicationmanager :: Test ozone admin replicationmanager command    
==============================================================================
Check replicationmanager                                              | PASS |
------------------------------------------------------------------------------
Check replicationmanager with explicit host                           | PASS |
------------------------------------------------------------------------------
Stop replicationmanager                                               | PASS |
------------------------------------------------------------------------------
Start replicationmanager                                              | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Admincli.Replicationmanager :: Test ozone admin replicationmanager... | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Admincli.Safemode :: Test ozone admin safemode command                        
==============================================================================
Check safemode                                                        | PASS |
------------------------------------------------------------------------------
Check safemode with explicit host                                     | PASS |
------------------------------------------------------------------------------
Wait for safemode exit                                                | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Admincli.Safemode :: Test ozone admin safemode command                | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Admincli.Scmrole :: Smoketest ozone cluster startup                           
==============================================================================
Run scm roles                                                         | PASS |
------------------------------------------------------------------------------
List scm roles as JSON                                                | PASS |
------------------------------------------------------------------------------
List scm roles as TABLE                                               | PASS |
------------------------------------------------------------------------------
Admincli.Scmrole :: Smoketest ozone cluster startup                   | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Admincli                                                              | PASS |
60 tests, 60 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-11.xml
==============================================================================
Ozone-Debug-Lease-Recovery :: Test lease recovery of ozone filesystem         
==============================================================================
Test ozone debug recover for o3fs                                     | PASS |
------------------------------------------------------------------------------
Test ozone debug recover for ofs                                      | PASS |
------------------------------------------------------------------------------
Ozone-Debug-Lease-Recovery :: Test lease recovery of ozone filesystem | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-12.xml
==============================================================================
Httpfs                                                                        
==============================================================================
Httpfs.Operations Tests :: HttpFS gateway test with curl commands             
==============================================================================
Kinit admin user                                                      | PASS |
This is for secured environment
------------------------------------------------------------------------------
Create volume                                                         | PASS |
------------------------------------------------------------------------------
Set owner of volume                                                   | PASS |
This is for secured environment
------------------------------------------------------------------------------
Kinit testuser                                                        | PASS |
This is for secured environment
------------------------------------------------------------------------------
Create first bucket                                                   | PASS |
------------------------------------------------------------------------------
Create second bucket                                                  | PASS |
------------------------------------------------------------------------------
Create local testfile                                                 | PASS |
------------------------------------------------------------------------------
Create testfile                                                       | PASS |
------------------------------------------------------------------------------
Read file                                                             | PASS |
------------------------------------------------------------------------------
Delete bucket                                                         | PASS |
------------------------------------------------------------------------------
Get status of bucket                                                  | PASS |
------------------------------------------------------------------------------
Get status of file                                                    | PASS |
------------------------------------------------------------------------------
List bucket                                                           | PASS |
------------------------------------------------------------------------------
List file                                                             | PASS |
------------------------------------------------------------------------------
Get content summary of directory                                      | PASS |
------------------------------------------------------------------------------
Get quota usage of directory                                          | PASS |
------------------------------------------------------------------------------
Httpfs.Operations Tests :: HttpFS gateway test with curl commands     | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Httpfs                                                                | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-13.xml
==============================================================================
Ozone-Debug-Tests :: Test ozone Debug CLI                                     
==============================================================================
Test ozone debug read-replicas                                        | PASS |
------------------------------------------------------------------------------
Ozone-Debug-Tests :: Test ozone Debug CLI                             | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-14.xml
==============================================================================
Ozone-Debug-Corrupt-Block :: Test read-replicas in case of a corrupt replica  
==============================================================================
Test ozone debug read-replicas with corrupt block replica             | PASS |
------------------------------------------------------------------------------
Ozone-Debug-Corrupt-Block :: Test read-replicas in case of a corru... | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-15.xml
ozone-datanode-1
Waiting for ozone-datanode-1 to be STALE
SECONDS: 3
Waiting for ozone-datanode-1 to be STALE
SECONDS: 6
Waiting for ozone-datanode-1 to be STALE
SECONDS: 9
Waiting for ozone-datanode-1 to be STALE
SECONDS: 12
Waiting for ozone-datanode-1 to be STALE
SECONDS: 15
Waiting for ozone-datanode-1 to be STALE
SECONDS: 18
Waiting for ozone-datanode-1 to be STALE
SECONDS: 21
Waiting for ozone-datanode-1 to be STALE
SECONDS: 24
Waiting for ozone-datanode-1 to be STALE
SECONDS: 26
ozone-datanode-1 is STALE
==============================================================================
Ozone-Debug-Stale-Datanode :: Test read-replicas in case of one datanode is...
==============================================================================
Test ozone debug read-replicas with one datanode STALE                | PASS |
------------------------------------------------------------------------------
Ozone-Debug-Stale-Datanode :: Test read-replicas in case of one da... | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-16.xml
ozone-datanode-1 is DEAD
==============================================================================
Ozone-Debug-Dead-Datanode :: Test read-replicas in case of one datanode is ...
==============================================================================
Test ozone debug read-replicas with one datanode DEAD                 | PASS |
------------------------------------------------------------------------------
Ozone-Debug-Dead-Datanode :: Test read-replicas in case of one dat... | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-17.xml
ozone-datanode-1
Waiting for ozone-datanode-1 to be HEALTHY
SECONDS: 5
Waiting for ozone-datanode-1 to be HEALTHY
SECONDS: 10
Waiting for ozone-datanode-1 to be HEALTHY
SECONDS: 14
ozone-datanode-1 is HEALTHY
==============================================================================
ozonefs-o3fs-bucket :: Ozone FS tests                                         
==============================================================================
List root                                                             | PASS |
------------------------------------------------------------------------------
List non-existent volume                                              | PASS |
------------------------------------------------------------------------------
List non-existent bucket                                              | PASS |
------------------------------------------------------------------------------
Create dir with parents                                               | PASS |
------------------------------------------------------------------------------
Copy from local                                                       | PASS |
------------------------------------------------------------------------------
Put                                                                   | PASS |
------------------------------------------------------------------------------
Check disk usage after create a file which uses RATIS replication ... | PASS |
------------------------------------------------------------------------------
Put with Streaming                                                    | PASS |
------------------------------------------------------------------------------
List                                                                  | PASS |
------------------------------------------------------------------------------
Move                                                                  | PASS |
------------------------------------------------------------------------------
Copy within FS                                                        | PASS |
------------------------------------------------------------------------------
Cat file                                                              | PASS |
------------------------------------------------------------------------------
Delete file                                                           | PASS |
------------------------------------------------------------------------------
Delete dir                                                            | PASS |
------------------------------------------------------------------------------
Touch file                                                            | PASS |
------------------------------------------------------------------------------
Delete file with Trash                                                | PASS |
------------------------------------------------------------------------------
Delete recursively                                                    | PASS |
------------------------------------------------------------------------------
List recursively                                                      | PASS |
------------------------------------------------------------------------------
Copy to other bucket                                                  | PASS |
------------------------------------------------------------------------------
Copy to other volume                                                  | PASS |
------------------------------------------------------------------------------
List file created via shell                                           | PASS |
------------------------------------------------------------------------------
Reject overwrite existing                                             | PASS |
------------------------------------------------------------------------------
Get file                                                              | PASS |
------------------------------------------------------------------------------
ozonefs-o3fs-bucket :: Ozone FS tests                                 | PASS |
23 tests, 23 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-18.xml
==============================================================================
Grpc-Om-S3-Metrics :: gRPC Om S3 gateway metrics test                         
==============================================================================
Test gRPC conf                                                        | PASS |
------------------------------------------------------------------------------
Test OM JMX endpoint                                                  | PASS |
------------------------------------------------------------------------------
Check that metrics are registered                                     | PASS |
------------------------------------------------------------------------------
Check bytes sent                                                      | PASS |
------------------------------------------------------------------------------
Check bytes received                                                  | PASS |
------------------------------------------------------------------------------
Check active connections                                              | PASS |
------------------------------------------------------------------------------
Grpc-Om-S3-Metrics :: gRPC Om S3 gateway metrics test                 | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-19.xml
==============================================================================
Snapshot                                                                      
==============================================================================
Snapshot.Snapshot-Acls :: Test for reading snapshots with ACLs as different...
==============================================================================
Test creating first snapshot as user1                                 | SKIP |
Skipped in parent suite setup:
Skipped with Skip keyword.
------------------------------------------------------------------------------
Test adding ACLs for user2                                            | SKIP |
Skipped in parent suite setup:
Skipped with Skip keyword.
------------------------------------------------------------------------------
Test creating second snapshot as user2                                | SKIP |
Skipped in parent suite setup:
Skipped with Skip keyword.
------------------------------------------------------------------------------
Test reading first snapshot as user2                                  | SKIP |
Skipped in parent suite setup:
Skipped with Skip keyword.
------------------------------------------------------------------------------
Test reading second snapshot as user2                                 | SKIP |
Skipped in parent suite setup:
Skipped with Skip keyword.
------------------------------------------------------------------------------
Snapshot.Snapshot-Acls :: Test for reading snapshots with ACLs as ... | SKIP |
Skipped in suite setup:
Skipped with Skip keyword.

5 tests, 0 passed, 0 failed, 5 skipped
==============================================================================
Snapshot.Snapshot-Fs :: Test for using fs commands with snapshots.            
==============================================================================
Test set up paths and snapshot                                        | PASS |
------------------------------------------------------------------------------
Test list snapshots with fs -ls                                       | PASS |
------------------------------------------------------------------------------
Test list snapshot keys with fs -ls                                   | PASS |
------------------------------------------------------------------------------
Snapshot.Snapshot-Fs :: Test for using fs commands with snapshots.    | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Snapshot.Snapshot-Sh :: Test for using sh commands with snapshots.            
==============================================================================
Snapshot Creation                                                     | PASS |
------------------------------------------------------------------------------
Snapshot List                                                         | PASS |
------------------------------------------------------------------------------
Snapshot Diff                                                         | PASS |
------------------------------------------------------------------------------
Snapshot Diff as JSON                                                 | PASS |
------------------------------------------------------------------------------
List Snapshot Diff Jobs                                               | PASS |
------------------------------------------------------------------------------
Read Snapshot                                                         | PASS |
------------------------------------------------------------------------------
Delete snapshot                                                       | PASS |
------------------------------------------------------------------------------
Snapshot.Snapshot-Sh :: Test for using sh commands with snapshots.    | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Snapshot                                                              | PASS |
15 tests, 10 passed, 0 failed, 5 skipped
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-20.xml
To use Ozone please mount ozone folder to /opt/hadoop
Output:  /rebot-output/ozone.xml
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/tmp.h2VRxHL6J2rebot/ozone.xml' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone.xml'
removed 'ozone/result/robot-1.xml'
removed 'ozone/result/robot-10.xml'
removed 'ozone/result/robot-11.xml'
removed 'ozone/result/robot-12.xml'
removed 'ozone/result/robot-13.xml'
removed 'ozone/result/robot-14.xml'
removed 'ozone/result/robot-15.xml'
removed 'ozone/result/robot-16.xml'
removed 'ozone/result/robot-17.xml'
removed 'ozone/result/robot-18.xml'
removed 'ozone/result/robot-19.xml'
removed 'ozone/result/robot-2.xml'
removed 'ozone/result/robot-20.xml'
removed 'ozone/result/robot-3.xml'
removed 'ozone/result/robot-4.xml'
removed 'ozone/result/robot-5.xml'
removed 'ozone/result/robot-6.xml'
removed 'ozone/result/robot-7.xml'
removed 'ozone/result/robot-8.xml'
removed 'ozone/result/robot-9.xml'
renamed 'ozone/result/dn-audit-1a3b80c30550.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/dn-audit-1a3b80c30550.log'
renamed 'ozone/result/dn-audit-bff7285974e3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/dn-audit-bff7285974e3.log'
renamed 'ozone/result/dn-audit-e25c62da2f66.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/dn-audit-e25c62da2f66.log'
renamed 'ozone/result/docker-ozone-datanode-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-datanode-1.log'
renamed 'ozone/result/docker-ozone-datanode-2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-datanode-2.log'
renamed 'ozone/result/docker-ozone-datanode-3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-datanode-3.log'
renamed 'ozone/result/docker-ozone-httpfs-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-httpfs-1.log'
renamed 'ozone/result/docker-ozone-om-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-om-1.log'
renamed 'ozone/result/docker-ozone-recon-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-recon-1.log'
renamed 'ozone/result/docker-ozone-s3g-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-s3g-1.log'
renamed 'ozone/result/docker-ozone-scm-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/docker-ozone-scm-1.log'
renamed 'ozone/result/om-audit-4e8fb53b8f2a.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/om-audit-4e8fb53b8f2a.log'
renamed 'ozone/result/om-sys-audit-4e8fb53b8f2a.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/om-sys-audit-4e8fb53b8f2a.log'
renamed 'ozone/result/s3g-audit-dda1309900ab.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/s3g-audit-dda1309900ab.log'
renamed 'ozone/result/scm-audit-200f0d5df848.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozone/scm-audit-200f0d5df848.log'
Exception in thread "main" To use Ozone please mount ozone folder to /opt/hadoop
Log:     /rebot-output/log.html
Report:  /rebot-output/report.html
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/tmp.WuMd2sYdLKrebot/log.html' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/log.html'
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/tmp.WuMd2sYdLKrebot/report.html' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/report.html'
