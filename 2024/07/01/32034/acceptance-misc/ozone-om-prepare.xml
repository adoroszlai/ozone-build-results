<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 7.0.1 (Python 3.8.10 on linux)" generated="2024-07-01T09:12:16.636124" rpa="false" schemaversion="5">
<suite id="s1" name="ozone-om-prepare">
<suite id="s1-s1" name="Om-Prepare" source="/opt/hadoop/smoketest/omha/om-prepare.robot">
<kw name="Create Specific OM data for prepare" type="SETUP">
<kw name="Freon OCKG" owner="freon">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:08:59.045000" level="INFO">Running command 'ozone freon ockg --om-service-id=omservice -t 1 -n100 -p om-prepare  2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:07.808000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:07.808000" level="INFO">${output} = 2024-07-01 09:09:00,248 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-07-01 09:09:00,337 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:08:59.044000" elapsed="8.764000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:07.809000" level="INFO">2024-07-01 09:09:00,248 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-07-01 09:09:00,337 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2024-07-01 09:09:00,337 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2024-07-01 09:09:00,408 [main] INFO freon.BaseFreonGenerator: Executing test with prefix om-prepare and number-of-tests 100
2024-07-01 09:09:00,442 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-07-01 09:09:01,206 [main] INFO rpc.RpcClient: Creating Volume: vol1, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1
2024-07-01 09:09:01,302 [main] INFO rpc.RpcClient: Creating Bucket: vol1/bucket1, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false, Replication Type set to server-side default replication type, Namespace Quota set to -1, Space Quota set to -1 
2024-07-01 09:09:01,444 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-07-01 09:09:01,545 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2024-07-01 09:09:01,568 [pool-2-thread-1] INFO scm.XceiverClientRatis: WatchType ALL_COMMITTED. Majority 1, 
2024-07-01 09:09:01,760 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.dropwizard3.Dm3MetricRegistriesImpl
2024-07-01 09:09:02,419 [pool-2-thread-1] INFO scm.XceiverClientRatis: WatchType ALL_COMMITTED. Majority 1, 
2024-07-01 09:09:02,445 [Thread-3] INFO freon.ProgressBar: Progress: 3.00 % (3 out of 100)
2024-07-01 09:09:02,619 [pool-2-thread-1] INFO scm.XceiverClientRatis: WatchType ALL_COMMITTED. Majority 1, 
2024-07-01 09:09:03,445 [Thread-3] INFO freon.ProgressBar: Progress: 15.00 % (15 out of 100)
2024-07-01 09:09:04,446 [Thread-3] INFO freon.ProgressBar: Progress: 34.00 % (34 out of 100)
2024-07-01 09:09:05,446 [Thread-3] INFO freon.ProgressBar: Progress: 60.00 % (60 out of 100)
2024-07-01 09:09:06,447 [Thread-3] INFO freon.ProgressBar: Progress: 88.00 % (88 out of 100)
2024-07-01 09:09:07,447 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2024-07-01 09:09:07,474 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=100, min=29.032626, max=843.268237, mean=55.27802807564625, stddev=82.42210991057364, median=40.176535, p75=49.712674, p95=75.532845, p98=206.193161, p99=230.70451, p999=843.268237, mean_rate=16.350483282761477, m1=17.0, m5=17.0, m15=17.0, rate_unit=events/second, duration_unit=milliseconds
2024-07-01 09:09:07,475 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 7
2024-07-01 09:09:07,475 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2024-07-01 09:09:07,475 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:07.809000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:07.809000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:07.809000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:08:59.044000" elapsed="8.766000"/>
</kw>
<msg time="2024-07-01T09:09:07.810000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:08:59.044000" elapsed="8.766000"/>
</kw>
<msg time="2024-07-01T09:09:07.810000" level="INFO">${result} = 2024-07-01 09:09:00,248 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-07-01 09:09:00,337 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<status status="PASS" start="2024-07-01T09:08:59.043000" elapsed="8.767000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:07.810000" elapsed="0.001000"/>
</kw>
<arg>prefix=om-prepare</arg>
<arg>n=100</arg>
<status status="PASS" start="2024-07-01T09:08:59.042000" elapsed="8.769000"/>
</kw>
<kw name="Generate Random String" owner="String">
<msg time="2024-07-01T09:09:07.811000" level="INFO">${random} = 14955</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-07-01T09:09:07.811000" elapsed="0.000000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:09:07.812000" level="INFO">${volume_name} = 14955-volume-for-prepare</msg>
<arg>${volume_name}</arg>
<arg>${random}-volume-for-prepare</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:09:07.811000" elapsed="0.001000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:09:07.813000" level="INFO">${bucket_name} = 14955-bucket-for-prepare</msg>
<arg>${bucket_name}</arg>
<arg>${random}-bucket-for-prepare</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:09:07.812000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:07.816000" level="INFO">Running command 'ozone sh volume create /14955-volume-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:10.043000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:10.043000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:07.814000" elapsed="2.229000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:10.044000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:10.044000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:10.045000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:10.044000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:07.814000" elapsed="2.231000"/>
</kw>
<msg time="2024-07-01T09:09:10.045000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:07.814000" elapsed="2.231000"/>
</kw>
<arg>ozone sh volume create /${volume_name}</arg>
<status status="PASS" start="2024-07-01T09:09:07.813000" elapsed="2.232000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:10.047000" level="INFO">Running command 'ozone sh bucket create /14955-volume-for-prepare/14955-bucket-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:12.200000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:12.200000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:10.046000" elapsed="2.154000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:12.201000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:12.200000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:12.201000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:12.201000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:10.046000" elapsed="2.155000"/>
</kw>
<msg time="2024-07-01T09:09:12.201000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:10.046000" elapsed="2.155000"/>
</kw>
<arg>ozone sh bucket create /${volume_name}/${bucket_name}</arg>
<status status="PASS" start="2024-07-01T09:09:10.045000" elapsed="2.157000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:12.204000" level="INFO">Running command 'ozone sh key put /14955-volume-for-prepare/14955-bucket-for-prepare/prepare-key /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:15.515000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:15.515000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:12.203000" elapsed="3.312000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:15.516000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:15.516000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:15.516000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:15.516000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:12.202000" elapsed="3.315000"/>
</kw>
<msg time="2024-07-01T09:09:15.517000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:12.202000" elapsed="3.315000"/>
</kw>
<arg>ozone sh key put /${volume_name}/${bucket_name}/prepare-key /opt/hadoop/NOTICE.txt</arg>
<status status="PASS" start="2024-07-01T09:09:12.202000" elapsed="3.315000"/>
</kw>
<status status="PASS" start="2024-07-01T09:08:59.042000" elapsed="16.475000"/>
</kw>
<test id="s1-s1-t1" name="Prepare Ozone Manager" line="39">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:09:15.518000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:15.521000" level="INFO">Running command 'ozone admin om prepare -id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:22.759000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:22.759000" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [413].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:15.519000" elapsed="7.240000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:22.760000" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [413].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [413]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [413]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [413]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:22.759000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:22.760000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:22.760000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:15.519000" elapsed="7.242000"/>
</kw>
<msg time="2024-07-01T09:09:22.761000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:15.519000" elapsed="7.242000"/>
</kw>
<msg time="2024-07-01T09:09:22.761000" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [413].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<var>${result}</var>
<arg>ozone admin om prepare -id=omservice</arg>
<status status="PASS" start="2024-07-01T09:09:15.518000" elapsed="7.243000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:22.762000" elapsed="0.000000"/>
</kw>
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-07-01T09:09:22.761000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:09:15.517000" elapsed="7.245000"/>
</test>
<test id="s1-s1-t2" name="Checks if the expected data is present in OM" line="43">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:09:22.763000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:22.766000" level="INFO">Running command 'ozone sh key info /14955-volume-for-prepare/14955-bucket-for-prepare/prepare-key 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:25.155000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:25.155000" level="INFO">${output} = {
  "volumeName" : "14955-volume-for-prepare",
  "bucketName" : "14955-bucket-for-prepare",
  "name" : "prepare-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:1...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:22.765000" elapsed="2.390000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:25.156000" level="INFO">{
  "volumeName" : "14955-volume-for-prepare",
  "bucketName" : "14955-bucket-for-prepare",
  "name" : "prepare-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:14.392Z",
  "modificationTime" : "2024-07-01T09:09:15.159Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "requiredNodes" : 1,
    "replicationType" : "RATIS"
  },
  "metadata" : { },
  "tags" : { },
  "ozoneKeyLocations" : [ {
    "containerID" : 1,
    "localID" : 113750153625600101,
    "length" : 17289,
    "offset" : 0,
    "keyOffset" : 0
  } ],
  "file" : true
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:25.156000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:25.157000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:25.156000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:22.764000" elapsed="2.393000"/>
</kw>
<msg time="2024-07-01T09:09:25.157000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:22.764000" elapsed="2.393000"/>
</kw>
<msg time="2024-07-01T09:09:25.157000" level="INFO">${result} = {
  "volumeName" : "14955-volume-for-prepare",
  "bucketName" : "14955-bucket-for-prepare",
  "name" : "prepare-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:1...</msg>
<var>${result}</var>
<arg>ozone sh key info /${volume_name}/${bucket_name}/prepare-key</arg>
<status status="PASS" start="2024-07-01T09:09:22.764000" elapsed="2.393000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>\"name\" : \"prepare-key\"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:25.157000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:09:22.763000" elapsed="2.395000"/>
</test>
<test id="s1-s1-t3" name="Test write operation fails" line="47">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:09:25.159000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:25.161000" level="INFO">Running command 'ozone sh key put /14955-volume-for-prepare/14955-bucket-for-prepare/prepare-key2 /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:27.387000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:09:27.387000" level="INFO">${output} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateKey when OM is in prepare mode.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:25.160000" elapsed="2.227000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:27.388000" level="INFO">NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateKey when OM is in prepare mode.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:27.388000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:27.389000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:27.388000" elapsed="0.001000"/>
</kw>
<msg time="2024-07-01T09:09:27.389000" level="INFO">${result} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateKey when OM is in prepare mode.</msg>
<var>${result}</var>
<arg>ozone sh key put /${volume_name}/${bucket_name}/prepare-key2 /opt/hadoop/NOTICE.txt</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:09:25.159000" elapsed="2.230000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM is in prepare mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:27.389000" elapsed="0.002000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:27.393000" level="INFO">Running command 'ozone sh key info /14955-volume-for-prepare/14955-bucket-for-prepare/prepare-key2 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:29.533000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:09:29.533000" level="INFO">${output} = KEY_NOT_FOUND Key:prepare-key2 not found</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:27.391000" elapsed="2.142000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:29.534000" level="INFO">KEY_NOT_FOUND Key:prepare-key2 not found</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:29.534000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:29.535000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:29.534000" elapsed="0.001000"/>
</kw>
<arg>ozone sh key info /${volume_name}/${bucket_name}/prepare-key2</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:09:27.391000" elapsed="2.144000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:09:25.158000" elapsed="4.377000"/>
</test>
<doc>Smoke test to test preparing OMs in an OM HA cluster.</doc>
<status status="PASS" start="2024-07-01T09:08:58.995000" elapsed="30.541000"/>
</suite>
<suite id="s1-s2" name="Om-Cancel-Prepare" source="/opt/hadoop/smoketest/omha/om-cancel-prepare.robot">
<kw name="Generate volume and bucket names" type="SETUP">
<kw name="Generate Random String" owner="String">
<msg time="2024-07-01T09:09:30.079000" level="INFO">${random} = 47224</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-07-01T09:09:30.079000" elapsed="0.000000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:09:30.080000" level="INFO">${volume_name} = 47224-volume-for-cancel</msg>
<arg>${volume_name}</arg>
<arg>${random}-volume-for-cancel</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:09:30.079000" elapsed="0.001000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:09:30.081000" level="INFO">${bucket_name} = 47224-bucket-for-cancel</msg>
<arg>${bucket_name}</arg>
<arg>${random}-bucket-for-cancel</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:09:30.080000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-07-01T09:09:30.078000" elapsed="0.003000"/>
</kw>
<test id="s1-s2-t1" name="Cancel Ozone Manager Prepare" line="33">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:09:30.082000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:30.085000" level="INFO">Running command 'ozone admin om cancelprepare -id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:32.161000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:32.161000" level="INFO">${output} = Cancel prepare succeeded, cluster can now accept write requests.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:30.083000" elapsed="2.078000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:32.162000" level="INFO">Cancel prepare succeeded, cluster can now accept write requests.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:32.161000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:32.162000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:32.162000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:30.083000" elapsed="2.079000"/>
</kw>
<msg time="2024-07-01T09:09:32.163000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:30.083000" elapsed="2.080000"/>
</kw>
<msg time="2024-07-01T09:09:32.163000" level="INFO">${result} = Cancel prepare succeeded, cluster can now accept write requests.</msg>
<var>${result}</var>
<arg>ozone admin om cancelprepare -id=omservice</arg>
<status status="PASS" start="2024-07-01T09:09:30.082000" elapsed="2.081000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Cancel prepare succeeded</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:32.163000" elapsed="0.001000"/>
</kw>
<arg>3min</arg>
<arg>5sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>Cancel prepare succeeded</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-07-01T09:09:32.163000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:09:30.082000" elapsed="2.082000"/>
</test>
<test id="s1-s2-t2" name="Test write operations" line="37">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:09:32.165000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:32.167000" level="INFO">Running command 'ozone sh volume create /47224-volume-for-cancel 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:34.336000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:34.336000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:32.166000" elapsed="2.170000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:34.336000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:34.336000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:34.337000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:34.337000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:32.166000" elapsed="2.171000"/>
</kw>
<msg time="2024-07-01T09:09:34.337000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:32.166000" elapsed="2.171000"/>
</kw>
<arg>ozone sh volume create /${volume_name}</arg>
<status status="PASS" start="2024-07-01T09:09:32.165000" elapsed="2.172000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:34.340000" level="INFO">Running command 'ozone sh bucket create /47224-volume-for-cancel/47224-bucket-for-cancel 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:36.464000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:36.464000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:34.339000" elapsed="2.125000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:36.465000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:36.464000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:36.465000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:36.465000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:34.338000" elapsed="2.127000"/>
</kw>
<msg time="2024-07-01T09:09:36.465000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:34.338000" elapsed="2.127000"/>
</kw>
<arg>ozone sh bucket create /${volume_name}/${bucket_name}</arg>
<status status="PASS" start="2024-07-01T09:09:34.337000" elapsed="2.129000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:36.468000" level="INFO">Running command 'ozone sh key put /47224-volume-for-cancel/47224-bucket-for-cancel/cancel-key /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:39.793000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:39.794000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:36.467000" elapsed="3.327000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:39.794000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:39.794000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:39.795000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:39.795000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:36.466000" elapsed="3.329000"/>
</kw>
<msg time="2024-07-01T09:09:39.795000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:36.466000" elapsed="3.329000"/>
</kw>
<msg time="2024-07-01T09:09:39.795000" level="INFO">${result} = </msg>
<var>${result}</var>
<arg>ozone sh key put /${volume_name}/${bucket_name}/cancel-key /opt/hadoop/NOTICE.txt</arg>
<status status="PASS" start="2024-07-01T09:09:36.466000" elapsed="3.329000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:39.798000" level="INFO">Running command 'ozone sh key info /47224-volume-for-cancel/47224-bucket-for-cancel/cancel-key 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:42.106000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:42.106000" level="INFO">${output} = {
  "volumeName" : "47224-volume-for-cancel",
  "bucketName" : "47224-bucket-for-cancel",
  "name" : "cancel-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:38.7...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:39.797000" elapsed="2.310000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:42.107000" level="INFO">{
  "volumeName" : "47224-volume-for-cancel",
  "bucketName" : "47224-bucket-for-cancel",
  "name" : "cancel-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:38.716Z",
  "modificationTime" : "2024-07-01T09:09:39.448Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "requiredNodes" : 1,
    "replicationType" : "RATIS"
  },
  "metadata" : { },
  "tags" : { },
  "ozoneKeyLocations" : [ {
    "containerID" : 6,
    "localID" : 113750153625600103,
    "length" : 17289,
    "offset" : 0,
    "keyOffset" : 0
  } ],
  "file" : true
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:42.107000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:42.108000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:42.108000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:39.796000" elapsed="2.312000"/>
</kw>
<msg time="2024-07-01T09:09:42.108000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:39.796000" elapsed="2.312000"/>
</kw>
<msg time="2024-07-01T09:09:42.108000" level="INFO">${result} = {
  "volumeName" : "47224-volume-for-cancel",
  "bucketName" : "47224-bucket-for-cancel",
  "name" : "cancel-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:38.7...</msg>
<var>${result}</var>
<arg>ozone sh key info /${volume_name}/${bucket_name}/cancel-key</arg>
<status status="PASS" start="2024-07-01T09:09:39.796000" elapsed="2.312000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>\"name\" : \"cancel-key\"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:42.108000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:09:32.164000" elapsed="9.945000"/>
</test>
<doc>Smoke test for ozone manager cancel prepare</doc>
<status status="PASS" start="2024-07-01T09:09:30.037000" elapsed="12.073000"/>
</suite>
<suite id="s1-s3" name="Om-Prepare" source="/opt/hadoop/smoketest/omha/om-prepare.robot">
<kw name="Create Specific OM data for prepare" type="SETUP">
<kw name="Freon OCKG" owner="freon">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:42.664000" level="INFO">Running command 'ozone freon ockg --om-service-id=omservice -t 1 -n100 -p om-prepare  2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:49.374000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:49.374000" level="INFO">${output} = 2024-07-01 09:09:43,826 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-07-01 09:09:43,910 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:42.662000" elapsed="6.712000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:49.374000" level="INFO">2024-07-01 09:09:43,826 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-07-01 09:09:43,910 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2024-07-01 09:09:43,910 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2024-07-01 09:09:43,979 [main] INFO freon.BaseFreonGenerator: Executing test with prefix om-prepare and number-of-tests 100
2024-07-01 09:09:44,011 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-07-01 09:09:44,838 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2024-07-01 09:09:44,868 [pool-2-thread-1] INFO scm.XceiverClientRatis: WatchType ALL_COMMITTED. Majority 1, 
2024-07-01 09:09:45,011 [Thread-3] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-07-01 09:09:45,023 [pool-2-thread-1] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.dropwizard3.Dm3MetricRegistriesImpl
2024-07-01 09:09:45,435 [pool-2-thread-1] INFO scm.XceiverClientRatis: WatchType ALL_COMMITTED. Majority 1, 
2024-07-01 09:09:45,566 [pool-2-thread-1] INFO scm.XceiverClientRatis: WatchType ALL_COMMITTED. Majority 1, 
2024-07-01 09:09:46,011 [Thread-3] INFO freon.ProgressBar: Progress: 17.00 % (17 out of 100)
2024-07-01 09:09:47,012 [Thread-3] INFO freon.ProgressBar: Progress: 43.00 % (43 out of 100)
2024-07-01 09:09:48,012 [Thread-3] INFO freon.ProgressBar: Progress: 77.00 % (77 out of 100)
2024-07-01 09:09:49,013 [Thread-3] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2024-07-01 09:09:49,039 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=100, min=21.948586, max=638.160196, mean=39.38684247176603, stddev=60.01917444614601, median=31.882863, p75=37.652121, p95=50.184837, p98=64.418949, p99=68.462649, p999=638.160196, mean_rate=22.977357730038907, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2024-07-01 09:09:49,039 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 5
2024-07-01 09:09:49,039 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2024-07-01 09:09:49,040 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:49.374000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:49.375000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:49.375000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:42.662000" elapsed="6.713000"/>
</kw>
<msg time="2024-07-01T09:09:49.375000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:42.662000" elapsed="6.713000"/>
</kw>
<msg time="2024-07-01T09:09:49.375000" level="INFO">${result} = 2024-07-01 09:09:43,826 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-07-01 09:09:43,910 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<status status="PASS" start="2024-07-01T09:09:42.661000" elapsed="6.714000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:09:49.376000" elapsed="0.000000"/>
</kw>
<arg>prefix=om-prepare</arg>
<arg>n=100</arg>
<status status="PASS" start="2024-07-01T09:09:42.660000" elapsed="6.716000"/>
</kw>
<kw name="Generate Random String" owner="String">
<msg time="2024-07-01T09:09:49.376000" level="INFO">${random} = 25957</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-07-01T09:09:49.376000" elapsed="0.000000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:09:49.378000" level="INFO">${volume_name} = 25957-volume-for-prepare</msg>
<arg>${volume_name}</arg>
<arg>${random}-volume-for-prepare</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:09:49.377000" elapsed="0.001000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:09:49.379000" level="INFO">${bucket_name} = 25957-bucket-for-prepare</msg>
<arg>${bucket_name}</arg>
<arg>${random}-bucket-for-prepare</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:09:49.378000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:49.381000" level="INFO">Running command 'ozone sh volume create /25957-volume-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:51.628000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:51.628000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:49.380000" elapsed="2.248000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:51.629000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:51.628000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:51.629000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:51.629000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:49.379000" elapsed="2.251000"/>
</kw>
<msg time="2024-07-01T09:09:51.630000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:49.379000" elapsed="2.251000"/>
</kw>
<arg>ozone sh volume create /${volume_name}</arg>
<status status="PASS" start="2024-07-01T09:09:49.379000" elapsed="2.251000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:51.632000" level="INFO">Running command 'ozone sh bucket create /25957-volume-for-prepare/25957-bucket-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:53.830000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:53.830000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:51.631000" elapsed="2.199000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:53.831000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:53.831000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:53.831000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:53.831000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:51.631000" elapsed="2.201000"/>
</kw>
<msg time="2024-07-01T09:09:53.832000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:51.630000" elapsed="2.202000"/>
</kw>
<arg>ozone sh bucket create /${volume_name}/${bucket_name}</arg>
<status status="PASS" start="2024-07-01T09:09:51.630000" elapsed="2.202000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:53.835000" level="INFO">Running command 'ozone sh key put /25957-volume-for-prepare/25957-bucket-for-prepare/prepare-key /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:09:57.013000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:09:57.013000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:53.833000" elapsed="3.180000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:09:57.014000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:09:57.013000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:09:57.014000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:09:57.014000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:53.833000" elapsed="3.181000"/>
</kw>
<msg time="2024-07-01T09:09:57.014000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:53.832000" elapsed="3.182000"/>
</kw>
<arg>ozone sh key put /${volume_name}/${bucket_name}/prepare-key /opt/hadoop/NOTICE.txt</arg>
<status status="PASS" start="2024-07-01T09:09:53.832000" elapsed="3.183000"/>
</kw>
<status status="PASS" start="2024-07-01T09:09:42.660000" elapsed="14.355000"/>
</kw>
<test id="s1-s3-t1" name="Prepare Ozone Manager" line="39">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:09:57.016000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:09:57.018000" level="INFO">Running command 'ozone admin om prepare -id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:04.080000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:10:04.080000" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [835].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:09:57.017000" elapsed="7.063000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:04.081000" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [835].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [835]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [835]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [835]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:04.080000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:04.081000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:04.081000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:09:57.017000" elapsed="7.065000"/>
</kw>
<msg time="2024-07-01T09:10:04.082000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:09:57.016000" elapsed="7.066000"/>
</kw>
<msg time="2024-07-01T09:10:04.082000" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [835].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<var>${result}</var>
<arg>ozone admin om prepare -id=omservice</arg>
<status status="PASS" start="2024-07-01T09:09:57.016000" elapsed="7.066000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:10:04.082000" elapsed="0.001000"/>
</kw>
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-07-01T09:10:04.082000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:09:57.015000" elapsed="7.068000"/>
</test>
<test id="s1-s3-t2" name="Checks if the expected data is present in OM" line="43">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:10:04.084000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:10:04.087000" level="INFO">Running command 'ozone sh key info /25957-volume-for-prepare/25957-bucket-for-prepare/prepare-key 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:06.394000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:10:06.394000" level="INFO">${output} = {
  "volumeName" : "25957-volume-for-prepare",
  "bucketName" : "25957-bucket-for-prepare",
  "name" : "prepare-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:5...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:10:04.085000" elapsed="2.309000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:06.395000" level="INFO">{
  "volumeName" : "25957-volume-for-prepare",
  "bucketName" : "25957-bucket-for-prepare",
  "name" : "prepare-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:55.891Z",
  "modificationTime" : "2024-07-01T09:09:56.661Z",
  "replicationConfig" : {
    "replicationFactor" : "ONE",
    "requiredNodes" : 1,
    "replicationType" : "RATIS"
  },
  "metadata" : { },
  "tags" : { },
  "ozoneKeyLocations" : [ {
    "containerID" : 6,
    "localID" : 113750153625600204,
    "length" : 17289,
    "offset" : 0,
    "keyOffset" : 0
  } ],
  "file" : true
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:06.395000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:06.396000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:06.395000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:10:04.085000" elapsed="2.311000"/>
</kw>
<msg time="2024-07-01T09:10:06.396000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:10:04.085000" elapsed="2.311000"/>
</kw>
<msg time="2024-07-01T09:10:06.396000" level="INFO">${result} = {
  "volumeName" : "25957-volume-for-prepare",
  "bucketName" : "25957-bucket-for-prepare",
  "name" : "prepare-key",
  "owner" : "hadoop",
  "dataSize" : 17289,
  "creationTime" : "2024-07-01T09:09:5...</msg>
<var>${result}</var>
<arg>ozone sh key info /${volume_name}/${bucket_name}/prepare-key</arg>
<status status="PASS" start="2024-07-01T09:10:04.084000" elapsed="2.312000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>\"name\" : \"prepare-key\"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:10:06.396000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:10:04.083000" elapsed="2.314000"/>
</test>
<test id="s1-s3-t3" name="Test write operation fails" line="47">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:10:06.398000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:10:06.400000" level="INFO">Running command 'ozone sh key put /25957-volume-for-prepare/25957-bucket-for-prepare/prepare-key2 /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:08.652000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:10:08.652000" level="INFO">${output} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateKey when OM is in prepare mode.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:10:06.399000" elapsed="2.253000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:08.653000" level="INFO">NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateKey when OM is in prepare mode.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:08.652000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:08.653000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:08.653000" elapsed="0.000000"/>
</kw>
<msg time="2024-07-01T09:10:08.654000" level="INFO">${result} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateKey when OM is in prepare mode.</msg>
<var>${result}</var>
<arg>ozone sh key put /${volume_name}/${bucket_name}/prepare-key2 /opt/hadoop/NOTICE.txt</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:10:06.398000" elapsed="2.256000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM is in prepare mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:10:08.654000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:10:08.656000" level="INFO">Running command 'ozone sh key info /25957-volume-for-prepare/25957-bucket-for-prepare/prepare-key2 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:10.868000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:10:10.868000" level="INFO">${output} = KEY_NOT_FOUND Key:prepare-key2 not found</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:10:08.655000" elapsed="2.213000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:10.869000" level="INFO">KEY_NOT_FOUND Key:prepare-key2 not found</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:10.868000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:10.869000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:10.869000" elapsed="0.000000"/>
</kw>
<arg>ozone sh key info /${volume_name}/${bucket_name}/prepare-key2</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:10:08.654000" elapsed="2.216000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:10:06.397000" elapsed="4.473000"/>
</test>
<doc>Smoke test to test preparing OMs in an OM HA cluster.</doc>
<status status="PASS" start="2024-07-01T09:09:42.612000" elapsed="28.259000"/>
</suite>
<suite id="s1-s4" name="Om-Prepared" source="/opt/hadoop/smoketest/omha/om-prepared.robot">
<test id="s1-s4-t1" name="Test create volume fails" line="26">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:10:11.462000" elapsed="0.001000"/>
</kw>
<kw name="Generate Random String" owner="String">
<msg time="2024-07-01T09:10:11.463000" level="INFO">${random} = 15004</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-07-01T09:10:11.463000" elapsed="0.000000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:10:11.465000" level="INFO">${volume_name} = 15004-volume-for-prepare</msg>
<arg>${volume_name}</arg>
<arg>${random}-volume-for-prepare</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:10:11.464000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:10:11.467000" level="INFO">Running command 'ozone sh volume create /15004-volume-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:13.633000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:10:13.633000" level="INFO">${output} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateVolume when OM is in prepare mode.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:10:11.465000" elapsed="2.168000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:13.634000" level="INFO">NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateVolume when OM is in prepare mode.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:13.633000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:13.634000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:13.634000" elapsed="0.000000"/>
</kw>
<msg time="2024-07-01T09:10:13.634000" level="INFO">${result} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateVolume when OM is in prepare mode.</msg>
<var>${result}</var>
<arg>ozone sh volume create /${volume_name}</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:10:11.465000" elapsed="2.169000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM is in prepare mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:10:13.635000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:10:13.637000" level="INFO">Running command 'ozone sh volume info /15004-volume-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:15.639000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:10:15.639000" level="INFO">${output} = VOLUME_NOT_FOUND Volume 15004-volume-for-prepare is not found</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:10:13.635000" elapsed="2.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:15.640000" level="INFO">VOLUME_NOT_FOUND Volume 15004-volume-for-prepare is not found</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:15.639000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:15.640000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:15.640000" elapsed="0.000000"/>
</kw>
<msg time="2024-07-01T09:10:15.640000" level="INFO">${result} = VOLUME_NOT_FOUND Volume 15004-volume-for-prepare is not found</msg>
<var>${result}</var>
<arg>ozone sh volume info /${volume_name}</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:10:13.635000" elapsed="2.005000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>VOLUME_NOT_FOUND</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:10:15.641000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:10:11.462000" elapsed="4.179000"/>
</test>
<test id="s1-s4-t2" name="Test list volumes succeeds" line="34">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:10:15.642000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:10:15.645000" level="INFO">Running command 'ozone sh volume list 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:10:18.090000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:10:18.090000" level="INFO">${output} = [ {
  "metadata" : { },
  "name" : "14955-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:10:15.644000" elapsed="2.446000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:10:18.091000" level="INFO">[ {
  "metadata" : { },
  "name" : "14955-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:10.012Z",
  "modificationTime" : "2024-07-01T09:09:10.012Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "s3v",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 0,
  "creationTime" : "2024-07-01T09:08:44.725Z",
  "modificationTime" : "2024-07-01T09:08:44.725Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "vol1",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:01.212Z",
  "modificationTime" : "2024-07-01T09:09:01.212Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "47224-volume-for-cancel",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:34.307Z",
  "modificationTime" : "2024-07-01T09:09:34.307Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "25957-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:51.595Z",
  "modificationTime" : "2024-07-01T09:09:51.595Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
} ]</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:10:18.091000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:10:18.092000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:10:18.091000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:10:15.643000" elapsed="2.449000"/>
</kw>
<msg time="2024-07-01T09:10:18.092000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:10:15.643000" elapsed="2.449000"/>
</kw>
<msg time="2024-07-01T09:10:18.092000" level="INFO">${result} = [ {
  "metadata" : { },
  "name" : "14955-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "...</msg>
<var>${result}</var>
<arg>ozone sh volume list</arg>
<status status="PASS" start="2024-07-01T09:10:15.643000" elapsed="2.449000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:10:15.642000" elapsed="2.450000"/>
</test>
<doc>Smoke test to test that OMs are prepared in an OM HA cluster.</doc>
<status status="PASS" start="2024-07-01T09:10:11.415000" elapsed="6.678000"/>
</suite>
<suite id="s1-s5" name="Om-Prepared" source="/opt/hadoop/smoketest/omha/om-prepared.robot">
<test id="s1-s5-t1" name="Test create volume fails" line="26">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:11:06.530000" elapsed="0.000000"/>
</kw>
<kw name="Generate Random String" owner="String">
<msg time="2024-07-01T09:11:06.531000" level="INFO">${random} = 27249</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-07-01T09:11:06.530000" elapsed="0.001000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-07-01T09:11:06.533000" level="INFO">${volume_name} = 27249-volume-for-prepare</msg>
<arg>${volume_name}</arg>
<arg>${random}-volume-for-prepare</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-07-01T09:11:06.531000" elapsed="0.002000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:11:06.535000" level="INFO">Running command 'ozone sh volume create /27249-volume-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:11:08.576000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:11:08.576000" level="INFO">${output} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateVolume when OM is in prepare mode.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:11:06.533000" elapsed="2.043000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:11:08.577000" level="INFO">NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateVolume when OM is in prepare mode.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:11:08.577000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:11:08.577000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:11:08.577000" elapsed="0.001000"/>
</kw>
<msg time="2024-07-01T09:11:08.578000" level="INFO">${result} = NOT_SUPPORTED_OPERATION_WHEN_PREPARED Cannot apply write request CreateVolume when OM is in prepare mode.</msg>
<var>${result}</var>
<arg>ozone sh volume create /${volume_name}</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:11:06.533000" elapsed="2.045000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM is in prepare mode</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:11:08.578000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:11:08.580000" level="INFO">Running command 'ozone sh volume info /27249-volume-for-prepare 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:11:10.666000" level="INFO">${rc} = 255</msg>
<msg time="2024-07-01T09:11:10.666000" level="INFO">${output} = VOLUME_NOT_FOUND Volume 27249-volume-for-prepare is not found</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:11:08.579000" elapsed="2.087000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:11:10.667000" level="INFO">VOLUME_NOT_FOUND Volume 27249-volume-for-prepare is not found</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:11:10.666000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:11:10.667000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:11:10.667000" elapsed="0.001000"/>
</kw>
<msg time="2024-07-01T09:11:10.668000" level="INFO">${result} = VOLUME_NOT_FOUND Volume 27249-volume-for-prepare is not found</msg>
<var>${result}</var>
<arg>ozone sh volume info /${volume_name}</arg>
<arg>255</arg>
<status status="PASS" start="2024-07-01T09:11:08.578000" elapsed="2.090000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>VOLUME_NOT_FOUND</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:11:10.668000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:11:06.529000" elapsed="4.139000"/>
</test>
<test id="s1-s5-t2" name="Test list volumes succeeds" line="34">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-07-01T09:11:10.670000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:11:10.673000" level="INFO">Running command 'ozone sh volume list 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:11:13.082000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:11:13.082000" level="INFO">${output} = [ {
  "metadata" : { },
  "name" : "14955-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:11:10.671000" elapsed="2.411000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:11:13.083000" level="INFO">[ {
  "metadata" : { },
  "name" : "14955-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:10.012Z",
  "modificationTime" : "2024-07-01T09:09:10.012Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "s3v",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 0,
  "creationTime" : "2024-07-01T09:08:44.725Z",
  "modificationTime" : "2024-07-01T09:08:44.725Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "vol1",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:01.212Z",
  "modificationTime" : "2024-07-01T09:09:01.212Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "47224-volume-for-cancel",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:34.307Z",
  "modificationTime" : "2024-07-01T09:09:34.307Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
}, {
  "metadata" : { },
  "name" : "25957-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "2024-07-01T09:09:51.595Z",
  "modificationTime" : "2024-07-01T09:09:51.595Z",
  "acls" : [ {
    "type" : "USER",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  }, {
    "type" : "GROUP",
    "name" : "hadoop",
    "aclScope" : "ACCESS",
    "aclList" : [ "ALL" ]
  } ],
  "refCount" : 0
} ]</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:11:13.082000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:11:13.083000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:11:13.083000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:11:10.671000" elapsed="2.413000"/>
</kw>
<msg time="2024-07-01T09:11:13.084000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:11:10.670000" elapsed="2.414000"/>
</kw>
<msg time="2024-07-01T09:11:13.084000" level="INFO">${result} = [ {
  "metadata" : { },
  "name" : "14955-volume-for-prepare",
  "admin" : "hadoop",
  "owner" : "hadoop",
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1,
  "usedNamespace" : 1,
  "creationTime" : "...</msg>
<var>${result}</var>
<arg>ozone sh volume list</arg>
<status status="PASS" start="2024-07-01T09:11:10.670000" elapsed="2.414000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:11:10.669000" elapsed="2.415000"/>
</test>
<doc>Smoke test to test that OMs are prepared in an OM HA cluster.</doc>
<status status="PASS" start="2024-07-01T09:11:06.488000" elapsed="6.597000"/>
</suite>
<suite id="s1-s6" name="Loaddata" source="/opt/hadoop/smoketest/topology/loaddata.robot">
<test id="s1-s6-t1" name="Create a volume, bucket and key" line="27">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:12:00.676000" level="INFO">Running command 'ozone sh volume create topvol1 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:12:02.894000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:12:02.895000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:12:00.674000" elapsed="2.221000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:12:02.896000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:12:02.895000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:12:02.896000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:12:02.896000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:12:00.673000" elapsed="2.224000"/>
</kw>
<msg time="2024-07-01T09:12:02.897000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:12:00.673000" elapsed="2.224000"/>
</kw>
<msg time="2024-07-01T09:12:02.897000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh volume create topvol1</arg>
<status status="PASS" start="2024-07-01T09:12:00.672000" elapsed="2.225000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:12:02.898000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:12:02.902000" level="INFO">Running command 'ozone sh bucket create /topvol1/bucket1 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:12:05.121000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:12:05.121000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:12:02.900000" elapsed="2.222000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:12:05.123000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:12:05.122000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:12:05.123000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:12:05.123000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:12:02.899000" elapsed="2.224000"/>
</kw>
<msg time="2024-07-01T09:12:05.124000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:12:02.899000" elapsed="2.225000"/>
</kw>
<msg time="2024-07-01T09:12:05.124000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /topvol1/bucket1</arg>
<status status="PASS" start="2024-07-01T09:12:02.898000" elapsed="2.226000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:12:05.124000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:12:05.128000" level="INFO">Running command 'ozone sh key put /topvol1/bucket1/key1 /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:12:08.655000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:12:08.655000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:12:05.126000" elapsed="3.529000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:12:08.656000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:12:08.655000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:12:08.656000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:12:08.656000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:12:05.125000" elapsed="3.531000"/>
</kw>
<msg time="2024-07-01T09:12:08.656000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:12:05.125000" elapsed="3.531000"/>
</kw>
<msg time="2024-07-01T09:12:08.657000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /topvol1/bucket1/key1 /opt/hadoop/NOTICE.txt</arg>
<status status="PASS" start="2024-07-01T09:12:05.125000" elapsed="3.532000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:12:08.657000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:12:00.672000" elapsed="7.985000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-07-01T09:12:00.631000" elapsed="8.027000"/>
</suite>
<suite id="s1-s7" name="Readdata" source="/opt/hadoop/smoketest/topology/readdata.robot">
<test id="s1-s7-t1" name="Read data from previously created key" line="27">
<kw name="Generate Random String" owner="String">
<msg time="2024-07-01T09:12:09.186000" level="INFO">${random} = 01412</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-07-01T09:12:09.186000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-07-01T09:12:09.189000" level="INFO">Running command 'ozone sh key get /topvol1/bucket1/key1 /tmp/key1-01412 2&gt;&amp;1'.</msg>
<msg time="2024-07-01T09:12:12.398000" level="INFO">${rc} = 0</msg>
<msg time="2024-07-01T09:12:12.398000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-07-01T09:12:09.188000" elapsed="3.210000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-07-01T09:12:12.399000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-07-01T09:12:12.398000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-07-01T09:12:12.399000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-07-01T09:12:12.399000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-07-01T09:12:09.187000" elapsed="3.212000"/>
</kw>
<msg time="2024-07-01T09:12:12.399000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-07-01T09:12:09.187000" elapsed="3.213000"/>
</kw>
<msg time="2024-07-01T09:12:12.400000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /topvol1/bucket1/key1 /tmp/key1-${random}</arg>
<status status="PASS" start="2024-07-01T09:12:09.186000" elapsed="3.214000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-07-01T09:12:12.400000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-07-01T09:12:09.185000" elapsed="3.215000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-07-01T09:12:09.143000" elapsed="3.258000"/>
</suite>
<status status="PASS" elapsed="95.433000"/>
</suite>
<statistics>
<total>
<stat pass="14" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="14" fail="0" skip="0" id="s1" name="ozone-om-prepare">ozone-om-prepare</stat>
<stat pass="3" fail="0" skip="0" id="s1-s1" name="Om-Prepare">ozone-om-prepare.Om-Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2" name="Om-Cancel-Prepare">ozone-om-prepare.Om-Cancel-Prepare</stat>
<stat pass="3" fail="0" skip="0" id="s1-s3" name="Om-Prepare">ozone-om-prepare.Om-Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s4" name="Om-Prepared">ozone-om-prepare.Om-Prepared</stat>
<stat pass="2" fail="0" skip="0" id="s1-s5" name="Om-Prepared">ozone-om-prepare.Om-Prepared</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Loaddata">ozone-om-prepare.Loaddata</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Readdata">ozone-om-prepare.Readdata</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
