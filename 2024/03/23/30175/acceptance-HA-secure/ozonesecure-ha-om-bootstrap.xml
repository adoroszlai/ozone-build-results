<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 7.0 (Python 3.8.10 on linux)" generated="2024-03-23T14:59:31.085987" rpa="false" schemaversion="5">
<suite id="s1" name="ozonesecure-ha-om-bootstrap">
<suite id="s1-s1" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s1-t1" name="Kinit" line="27">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:56:57.066000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:56:57.070000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:56:57.072000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:56:57.072000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:56:57.068000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:56:57.073000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:56:57.073000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:56:57.074000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:56:57.073000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:56:57.068000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:56:57.074000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:56:57.068000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:56:57.074000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:56:57.067000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:56:57.075000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:56:57.067000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:56:57.075000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:56:57.075000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:56:57.079000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:56:57.159000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:56:57.159000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:56:57.077000" elapsed="0.082000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:56:57.160000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:56:57.159000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:56:57.160000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:56:57.160000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:56:57.076000" elapsed="0.084000"/>
</kw>
<msg time="2024-03-23T14:56:57.160000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:56:57.076000" elapsed="0.085000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:56:57.076000" elapsed="0.085000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:56:57.075000" elapsed="0.086000"/>
</kw>
<arg>${testuser}</arg>
<arg>${testuser}.keytab</arg>
<status status="PASS" start="2024-03-23T14:56:57.066000" elapsed="0.095000"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" start="2024-03-23T14:56:57.065000" elapsed="0.096000"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" start="2024-03-23T14:56:57.021000" elapsed="0.141000"/>
</suite>
<suite id="s1-s2" name="Data-Creation-Before-Om-Bootstrap" source="/opt/hadoop/smoketest/omha/data-creation-before-om-bootstrap.robot">
<test id="s1-s2-t1" name="Volume-bucket init" line="77">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:02.125000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:02.128000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:02.131000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:02.131000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:02.127000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:02.132000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:02.131000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:02.132000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:02.132000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:02.126000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:02.132000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:02.126000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:02.133000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:02.126000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:02.133000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:02.125000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:02.133000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:02.133000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:02.136000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:02.218000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:02.218000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:02.135000" elapsed="0.083000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:02.219000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:02.219000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:02.220000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:02.219000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:02.135000" elapsed="0.085000"/>
</kw>
<msg time="2024-03-23T14:57:02.220000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:02.134000" elapsed="0.086000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:02.134000" elapsed="0.086000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:02.134000" elapsed="0.086000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:02.125000" elapsed="0.095000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:02.124000" elapsed="0.096000"/>
</kw>
<kw name="Create volume and bucket">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:02.223000" level="INFO">Running command 'ozone sh volume create /vol1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:06.479000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:06.479000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:02.222000" elapsed="4.257000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:06.480000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:06.479000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:06.480000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:06.480000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:02.222000" elapsed="4.258000"/>
</kw>
<msg time="2024-03-23T14:57:06.480000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:02.221000" elapsed="4.260000"/>
</kw>
<msg time="2024-03-23T14:57:06.481000" level="INFO">${vol_res} = </msg>
<var>${vol_res}</var>
<arg>ozone sh volume create /${volume}</arg>
<status status="PASS" start="2024-03-23T14:57:02.221000" elapsed="4.260000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:06.481000" level="INFO">Length is 0</msg>
<arg>${vol_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:06.481000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:06.484000" level="INFO">Running command 'ozone sh bucket create /vol1/bucket1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:10.913000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:10.913000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:06.483000" elapsed="4.430000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:10.914000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:10.913000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:10.915000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:10.914000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:06.482000" elapsed="4.433000"/>
</kw>
<msg time="2024-03-23T14:57:10.915000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:06.482000" elapsed="4.433000"/>
</kw>
<msg time="2024-03-23T14:57:10.915000" level="INFO">${bucket_res} = </msg>
<var>${bucket_res}</var>
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<status status="PASS" start="2024-03-23T14:57:06.481000" elapsed="4.434000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:10.916000" level="INFO">Length is 0</msg>
<arg>${bucket_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:10.915000" elapsed="0.001000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<status status="PASS" start="2024-03-23T14:57:02.221000" elapsed="8.695000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:02.124000" elapsed="8.792000"/>
</test>
<test id="s1-s2-t2" name="Create 100 metadata keys under /vol1/bucket1" line="80">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:10.918000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:10.922000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:10.924000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:10.924000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:10.920000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:10.925000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:10.924000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:10.925000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:10.925000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:10.919000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:10.926000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:10.919000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:10.926000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:10.919000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:10.926000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:10.918000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:10.926000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:10.926000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:10.929000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:11.027000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:11.027000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:10.928000" elapsed="0.099000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:11.028000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:11.028000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:11.029000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:11.028000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:10.928000" elapsed="0.101000"/>
</kw>
<msg time="2024-03-23T14:57:11.029000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:10.927000" elapsed="0.102000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:10.927000" elapsed="0.102000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:10.927000" elapsed="0.102000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:10.918000" elapsed="0.111000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:10.917000" elapsed="0.112000"/>
</kw>
<kw name="Create metadata keys">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:11.033000" level="INFO">Running command 'ozone freon omkg -t 10 -n 100 -v vol1 -b bucket1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:18.563000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:18.564000" level="INFO">${output} = 2024-03-23 14:57:13,188 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-03-23 14:57:13,305 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:11.031000" elapsed="7.533000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.564000" level="INFO">2024-03-23 14:57:13,188 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-03-23 14:57:13,305 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2024-03-23 14:57:13,305 [main] INFO impl.MetricsSystemImpl: ozone-freon metrics system started
2024-03-23 14:57:13,400 [main] INFO freon.BaseFreonGenerator: Executing test with prefix edsctf2jct and number-of-tests 100
2024-03-23 14:57:13,461 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-03-23 14:57:13,659 [main] INFO protocolPB.OmTransportFactory: Loading OM transport implementation org.apache.hadoop.ozone.om.protocolPB.Hadoop3OmTransportFactory as specified by configuration.
2024-03-23 14:57:14,465 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-03-23 14:57:14,714 [main] INFO client.ClientTrustManager: Loading certificates for client.
2024-03-23 14:57:15,237 [main] INFO protocolPB.OmTransportFactory: Loading OM transport implementation org.apache.hadoop.ozone.om.protocolPB.Hadoop3OmTransportFactory as specified by configuration.
2024-03-23 14:57:15,469 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2024-03-23 14:57:16,471 [Thread-5] INFO freon.ProgressBar: Progress: 21.00 % (21 out of 100)
2024-03-23 14:57:17,471 [Thread-5] INFO freon.ProgressBar: Progress: 65.00 % (65 out of 100)
2024-03-23 14:57:18,472 [Thread-5] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2024-03-23 14:57:18,522 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=100, min=110.309312, max=696.018975, mean=278.01863162007663, stddev=131.20822167839594, median=244.4639, p75=293.388642, p95=614.002193, p98=667.737248, p99=683.203008, p999=696.018975, mean_rate=30.512741844243585, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2024-03-23 14:57:18,523 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 5
2024-03-23 14:57:18,523 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2024-03-23 14:57:18,523 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:18.564000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.565000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:18.565000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:11.031000" elapsed="7.534000"/>
</kw>
<msg time="2024-03-23T14:57:18.565000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:11.031000" elapsed="7.534000"/>
</kw>
<msg time="2024-03-23T14:57:18.566000" level="INFO">${freon_res} = 2024-03-23 14:57:13,188 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2024-03-23 14:57:13,305 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<var>${freon_res}</var>
<arg>ozone freon omkg -t ${threads} -n ${key_num} -v ${volume} -b ${bucket}</arg>
<status status="PASS" start="2024-03-23T14:57:11.030000" elapsed="7.536000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${freon_res}</arg>
<arg>Successful executions: ${key_num}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:57:18.566000" elapsed="0.000000"/>
</kw>
<arg>10</arg>
<arg>100</arg>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<status status="PASS" start="2024-03-23T14:57:11.029000" elapsed="7.537000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:10.917000" elapsed="7.649000"/>
</test>
<test id="s1-s2-t3" name="Create snapshot 'snap1'" line="83">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:18.569000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:18.573000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:18.575000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:18.576000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:18.571000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.576000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:18.576000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.577000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:18.577000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:18.570000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:18.577000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:18.570000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:18.577000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:18.569000" elapsed="0.008000"/>
</kw>
<msg time="2024-03-23T14:57:18.578000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:18.569000" elapsed="0.009000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.578000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:18.578000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:18.581000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:18.631000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:18.631000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:18.580000" elapsed="0.051000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.632000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:18.631000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:18.632000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:18.632000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:18.580000" elapsed="0.052000"/>
</kw>
<msg time="2024-03-23T14:57:18.632000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:18.579000" elapsed="0.054000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:18.579000" elapsed="0.054000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:18.578000" elapsed="0.055000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:18.568000" elapsed="0.065000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:18.568000" elapsed="0.065000"/>
</kw>
<kw name="Create snapshot">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:18.636000" level="INFO">Running command 'ozone sh snapshot create /vol1/bucket1 snap1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.002000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.002000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:18.635000" elapsed="4.367000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.004000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.003000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.005000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.004000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:18.634000" elapsed="4.371000"/>
</kw>
<msg time="2024-03-23T14:57:23.005000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:18.634000" elapsed="4.371000"/>
</kw>
<msg time="2024-03-23T14:57:23.005000" level="INFO">${snap_res} = </msg>
<var>${snap_res}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<status status="PASS" start="2024-03-23T14:57:18.634000" elapsed="4.371000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.006000" level="INFO">Length is 0</msg>
<arg>${snap_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:23.006000" elapsed="0.000000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>${SNAP_1}</arg>
<status status="PASS" start="2024-03-23T14:57:18.633000" elapsed="4.373000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:18.567000" elapsed="4.440000"/>
</test>
<test id="s1-s2-t4" name="Create tmp file to be used for key creation" line="86">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:23.014000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.021000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.023000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.023000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.018000" elapsed="0.006000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.024000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.024000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.025000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.024000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.017000" elapsed="0.008000"/>
</kw>
<msg time="2024-03-23T14:57:23.025000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.016000" elapsed="0.009000"/>
</kw>
<msg time="2024-03-23T14:57:23.025000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:23.015000" elapsed="0.010000"/>
</kw>
<msg time="2024-03-23T14:57:23.025000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:23.015000" elapsed="0.010000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.026000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:23.026000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.029000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.115000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.116000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.027000" elapsed="0.089000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.117000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.116000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.117000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.117000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.027000" elapsed="0.090000"/>
</kw>
<msg time="2024-03-23T14:57:23.117000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.027000" elapsed="0.091000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:23.026000" elapsed="0.092000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:23.026000" elapsed="0.092000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:23.013000" elapsed="0.105000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:23.011000" elapsed="0.107000"/>
</kw>
<kw name="Create tmp file">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.121000" level="INFO">Running command 'touch tmp.txt 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.123000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.123000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.120000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.124000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.123000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.124000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.124000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.119000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:23.125000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.119000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:23.125000" level="INFO">${create_res} = </msg>
<var>${create_res}</var>
<arg>touch ${file_name}</arg>
<status status="PASS" start="2024-03-23T14:57:23.119000" elapsed="0.006000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.125000" level="INFO">Length is 0</msg>
<arg>${create_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:23.125000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.128000" level="INFO">Running command 'ls -lah | grep 'tmp.txt' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.131000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.131000" level="INFO">${output} = -rw-r--r--  1 hadoop hadoop    0 Mar 23 14:57 tmp.txt</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.126000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.132000" level="INFO">-rw-r--r--  1 hadoop hadoop    0 Mar 23 14:57 tmp.txt</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.131000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.132000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.132000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.126000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:23.132000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.126000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:23.133000" level="INFO">${ls_grep_res} = -rw-r--r--  1 hadoop hadoop    0 Mar 23 14:57 tmp.txt</msg>
<var>${ls_grep_res}</var>
<arg>ls -lah | grep '${file_name}'</arg>
<status status="PASS" start="2024-03-23T14:57:23.125000" elapsed="0.008000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${ls_grep_res}</arg>
<arg>${file_name}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:57:23.133000" elapsed="0.000000"/>
</kw>
<arg>${TMP_FILE}</arg>
<status status="PASS" start="2024-03-23T14:57:23.118000" elapsed="0.015000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:23.010000" elapsed="0.123000"/>
</test>
<test id="s1-s2-t5" name="Create 2 actual keys with prefix 'sn', key contents the same as the key name" line="89">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:23.135000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.138000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.141000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.141000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.137000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.141000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.141000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.142000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.142000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.137000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:23.142000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.137000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:23.142000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:23.136000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:23.143000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:23.136000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.143000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:23.143000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.146000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:23.281000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.281000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.145000" elapsed="0.136000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.282000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.282000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.283000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.282000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.144000" elapsed="0.139000"/>
</kw>
<msg time="2024-03-23T14:57:23.283000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.144000" elapsed="0.139000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:23.144000" elapsed="0.139000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:23.143000" elapsed="0.140000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:23.135000" elapsed="0.148000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:23.135000" elapsed="0.148000"/>
</kw>
<kw name="Create actual keys">
<kw name="Create a key and set contents same as the keyName">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.287000" level="INFO">Running command 'echo "sn/key1" &gt; tmp.txt'.</msg>
<msg time="2024-03-23T14:57:23.289000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:23.289000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.286000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.289000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:23.289000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:23.290000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:23.290000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.286000" elapsed="0.004000"/>
</kw>
<msg time="2024-03-23T14:57:23.290000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.285000" elapsed="0.005000"/>
</kw>
<arg>echo "${key_prefix}/${key_name}" &gt; ${tmp_file}</arg>
<status status="PASS" start="2024-03-23T14:57:23.285000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:23.293000" level="INFO">Running command 'ozone sh key put /vol1/bucket1/sn/key1 tmp.txt 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:30.238000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:30.238000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:23.292000" elapsed="6.946000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:30.239000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:30.238000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:30.239000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:30.239000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:23.291000" elapsed="6.948000"/>
</kw>
<msg time="2024-03-23T14:57:30.239000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:23.291000" elapsed="6.948000"/>
</kw>
<msg time="2024-03-23T14:57:30.240000" level="INFO">${key_res} = </msg>
<var>${key_res}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key_prefix}/${key_name} ${tmp_file}</arg>
<status status="PASS" start="2024-03-23T14:57:23.291000" elapsed="6.949000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:30.240000" level="INFO">Length is 0</msg>
<arg>${key_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:30.240000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:30.243000" level="INFO">Running command 'ozone sh key cat /vol1/bucket1/sn/key1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:36.461000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:36.461000" level="INFO">${output} = sn/key1</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:30.241000" elapsed="6.220000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:36.462000" level="INFO">sn/key1</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:36.461000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:36.462000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:36.462000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:30.241000" elapsed="6.221000"/>
</kw>
<msg time="2024-03-23T14:57:36.463000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:30.241000" elapsed="6.222000"/>
</kw>
<msg time="2024-03-23T14:57:36.463000" level="INFO">${key_cat_res} = sn/key1</msg>
<var>${key_cat_res}</var>
<arg>ozone sh key cat /${volume}/${bucket}/${key_prefix}/${key_name}</arg>
<status status="PASS" start="2024-03-23T14:57:30.240000" elapsed="6.223000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${key_cat_res}</arg>
<arg>${key_prefix}/${key_name}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:57:36.463000" elapsed="0.000000"/>
</kw>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${key_prefix}</arg>
<arg>${key_1}</arg>
<arg>${tmp_file}</arg>
<status status="PASS" start="2024-03-23T14:57:23.284000" elapsed="13.179000"/>
</kw>
<kw name="Create a key and set contents same as the keyName">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:36.467000" level="INFO">Running command 'echo "sn/key2" &gt; tmp.txt'.</msg>
<msg time="2024-03-23T14:57:36.468000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:36.468000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:36.465000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:36.469000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:36.469000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:36.470000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:36.469000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:36.465000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:36.470000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:36.465000" elapsed="0.005000"/>
</kw>
<arg>echo "${key_prefix}/${key_name}" &gt; ${tmp_file}</arg>
<status status="PASS" start="2024-03-23T14:57:36.464000" elapsed="0.006000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:36.473000" level="INFO">Running command 'ozone sh key put /vol1/bucket1/sn/key2 tmp.txt 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:43.118000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:43.118000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:36.471000" elapsed="6.647000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:43.119000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:43.119000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:43.120000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:43.119000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:36.471000" elapsed="6.649000"/>
</kw>
<msg time="2024-03-23T14:57:43.120000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:36.471000" elapsed="6.649000"/>
</kw>
<msg time="2024-03-23T14:57:43.120000" level="INFO">${key_res} = </msg>
<var>${key_res}</var>
<arg>ozone sh key put /${volume}/${bucket}/${key_prefix}/${key_name} ${tmp_file}</arg>
<status status="PASS" start="2024-03-23T14:57:36.470000" elapsed="6.650000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:43.121000" level="INFO">Length is 0</msg>
<arg>${key_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:43.120000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:43.124000" level="INFO">Running command 'ozone sh key cat /vol1/bucket1/sn/key2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:49.055000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:49.055000" level="INFO">${output} = sn/key2</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:43.122000" elapsed="5.933000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.056000" level="INFO">sn/key2</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:49.056000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.057000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:49.056000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:43.122000" elapsed="5.935000"/>
</kw>
<msg time="2024-03-23T14:57:49.057000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:43.121000" elapsed="5.936000"/>
</kw>
<msg time="2024-03-23T14:57:49.057000" level="INFO">${key_cat_res} = sn/key2</msg>
<var>${key_cat_res}</var>
<arg>ozone sh key cat /${volume}/${bucket}/${key_prefix}/${key_name}</arg>
<status status="PASS" start="2024-03-23T14:57:43.121000" elapsed="5.936000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${key_cat_res}</arg>
<arg>${key_prefix}/${key_name}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:57:49.057000" elapsed="0.001000"/>
</kw>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${key_prefix}</arg>
<arg>${key_2}</arg>
<arg>${tmp_file}</arg>
<status status="PASS" start="2024-03-23T14:57:36.464000" elapsed="12.594000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>${KEY_PREFIX}</arg>
<arg>${KEY_1}</arg>
<arg>${KEY_2}</arg>
<arg>${TMP_FILE}</arg>
<status status="PASS" start="2024-03-23T14:57:23.284000" elapsed="25.774000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:23.134000" elapsed="25.924000"/>
</test>
<test id="s1-s2-t6" name="Create snapshot 'snap2'" line="92">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:49.060000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:49.063000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:49.065000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:49.065000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:49.062000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.066000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:49.066000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.067000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:49.066000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:49.061000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:49.067000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:49.061000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:49.067000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:49.061000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:49.068000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:49.060000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.068000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:49.068000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:49.071000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:49.116000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:49.116000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:49.070000" elapsed="0.046000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.117000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:49.117000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:49.118000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:49.117000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:49.069000" elapsed="0.049000"/>
</kw>
<msg time="2024-03-23T14:57:49.118000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:49.069000" elapsed="0.049000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:49.069000" elapsed="0.049000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:49.068000" elapsed="0.050000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:49.060000" elapsed="0.058000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:49.059000" elapsed="0.059000"/>
</kw>
<kw name="Create snapshot">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:49.122000" level="INFO">Running command 'ozone sh snapshot create /vol1/bucket1 snap2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:53.301000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:53.301000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:49.120000" elapsed="4.181000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.302000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:53.301000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.302000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:53.302000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:49.120000" elapsed="4.183000"/>
</kw>
<msg time="2024-03-23T14:57:53.303000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:49.119000" elapsed="4.184000"/>
</kw>
<msg time="2024-03-23T14:57:53.303000" level="INFO">${snap_res} = </msg>
<var>${snap_res}</var>
<arg>ozone sh snapshot create /${volume}/${bucket} ${snapshot}</arg>
<status status="PASS" start="2024-03-23T14:57:49.119000" elapsed="4.184000"/>
</kw>
<kw name="Should Be Empty" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.303000" level="INFO">Length is 0</msg>
<arg>${snap_res}</arg>
<doc>Verifies that the given item is empty.</doc>
<status status="PASS" start="2024-03-23T14:57:53.303000" elapsed="0.000000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>${SNAP_2}</arg>
<status status="PASS" start="2024-03-23T14:57:49.118000" elapsed="4.185000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:49.059000" elapsed="4.245000"/>
</test>
<test id="s1-s2-t7" name="Cleanup tmp file" line="95">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:57:53.306000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:53.309000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:53.311000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:53.311000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:53.307000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.312000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:53.311000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.312000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:53.312000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:53.307000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:53.313000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:53.307000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:57:53.313000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:57:53.306000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:57:53.313000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:57:53.306000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.313000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:57:53.313000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:53.316000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:53.480000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:53.480000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:53.315000" elapsed="0.165000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.481000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:53.480000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.481000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:53.481000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:53.315000" elapsed="0.167000"/>
</kw>
<msg time="2024-03-23T14:57:53.482000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:53.314000" elapsed="0.168000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:57:53.314000" elapsed="0.168000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:57:53.314000" elapsed="0.168000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:57:53.305000" elapsed="0.177000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:57:53.305000" elapsed="0.177000"/>
</kw>
<kw name="Delete tmp file">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:53.486000" level="INFO">Running command 'rm tmp.txt 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:53.488000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:53.488000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:53.484000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.488000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:53.488000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.489000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:53.489000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:53.484000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:53.489000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:53.483000" elapsed="0.006000"/>
</kw>
<arg>rm ${file_name}</arg>
<status status="PASS" start="2024-03-23T14:57:53.483000" elapsed="0.007000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:57:53.492000" level="INFO">Running command '[[ -f tmp.txt ]] &amp;&amp; echo "File exists" || echo "File doesn't exist" 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:57:53.493000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:57:53.493000" level="INFO">${output} = File doesn't exist</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:57:53.491000" elapsed="0.002000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.494000" level="INFO">File doesn't exist</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:57:53.494000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:57:53.495000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:57:53.494000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:57:53.490000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:53.495000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:57:53.490000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:57:53.495000" level="INFO">${file_exists} = File doesn't exist</msg>
<var>${file_exists}</var>
<arg>[[ -f ${file_name} ]] &amp;&amp; echo "File exists" || echo "File doesn't exist"</arg>
<status status="PASS" start="2024-03-23T14:57:53.490000" elapsed="0.005000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${file_exists}</arg>
<arg>File doesn't exist</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:57:53.495000" elapsed="0.001000"/>
</kw>
<arg>${TMP_FILE}</arg>
<status status="PASS" start="2024-03-23T14:57:53.482000" elapsed="0.014000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:57:53.304000" elapsed="0.192000"/>
</test>
<doc>Smoke test for creating data needed for om bootstrap load test.</doc>
<status status="PASS" start="2024-03-23T14:57:02.079000" elapsed="51.418000"/>
</suite>
<suite id="s1-s3" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s3-t1" name="Kinit" line="27">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:58:23.781000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:23.785000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:23.787000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:23.787000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:23.783000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:23.788000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:23.787000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:23.788000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:23.788000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:23.783000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:23.789000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:23.783000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:23.789000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:58:23.782000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:58:23.789000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:58:23.782000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:58:23.790000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:58:23.789000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:23.793000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:23.805000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:23.805000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:23.791000" elapsed="0.014000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:23.806000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:23.806000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:23.807000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:23.806000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:23.791000" elapsed="0.016000"/>
</kw>
<msg time="2024-03-23T14:58:23.807000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:23.791000" elapsed="0.016000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:58:23.790000" elapsed="0.017000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:23.790000" elapsed="0.017000"/>
</kw>
<arg>${testuser}</arg>
<arg>${testuser}.keytab</arg>
<status status="PASS" start="2024-03-23T14:58:23.781000" elapsed="0.026000"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" start="2024-03-23T14:58:23.780000" elapsed="0.027000"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" start="2024-03-23T14:58:23.735000" elapsed="0.073000"/>
</suite>
<suite id="s1-s4" name="Data-Validation-After-Om-Bootstrap" source="/opt/hadoop/smoketest/omha/data-validation-after-om-bootstrap.robot">
<test id="s1-s4-t1" name="Check number of checkpoints made" line="85">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:58:28.749000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:28.752000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:28.754000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:28.754000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:28.751000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.755000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:28.755000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.756000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:28.755000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:28.750000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:28.756000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:28.750000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:28.756000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:58:28.750000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:28.757000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:58:28.749000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.757000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:58:28.757000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:28.760000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:28.812000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:28.812000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:28.759000" elapsed="0.053000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.812000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:28.812000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.813000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:28.813000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:28.758000" elapsed="0.055000"/>
</kw>
<msg time="2024-03-23T14:58:28.813000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:28.758000" elapsed="0.055000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:58:28.758000" elapsed="0.055000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:28.757000" elapsed="0.056000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:58:28.748000" elapsed="0.066000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:58:28.748000" elapsed="0.066000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Number of checkpoints equals 2">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:28.817000" level="INFO">Running command 'ls -lah /data/metadata/db.snapshots/checkpointState | grep 'om.db-' | wc -l 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:28.820000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:28.820000" level="INFO">${output} = 2</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:28.815000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.821000" level="INFO">2</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:28.820000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.821000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:28.821000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:28.815000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:58:28.822000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:28.815000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:58:28.822000" level="INFO">${checkpoints} = 2</msg>
<var>${checkpoints}</var>
<arg>ls -lah /data/metadata/db.snapshots/checkpointState | grep 'om.db-' | wc -l</arg>
<status status="PASS" start="2024-03-23T14:58:28.814000" elapsed="0.008000"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>${checkpoints} == 2</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2024-03-23T14:58:28.822000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-03-23T14:58:28.814000" elapsed="0.009000"/>
</kw>
<arg>3min</arg>
<arg>5sec</arg>
<arg>Number of checkpoints equals 2</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:28.814000" elapsed="0.009000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:58:28.747000" elapsed="0.076000"/>
</test>
<test id="s1-s4-t2" name="Check current leader and transfer leadership to 'om3'" line="88">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:58:28.825000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:28.828000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:28.830000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:28.830000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:28.827000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.831000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:28.830000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.831000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:28.831000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:28.826000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:28.832000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:28.826000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:28.832000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:58:28.826000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:28.832000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:58:28.825000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.833000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:58:28.832000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:28.836000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:28.887000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:28.887000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:28.834000" elapsed="0.053000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.888000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:28.888000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:28.889000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:28.888000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:28.834000" elapsed="0.055000"/>
</kw>
<msg time="2024-03-23T14:58:28.889000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:28.834000" elapsed="0.055000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:58:28.833000" elapsed="0.056000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:28.833000" elapsed="0.056000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:58:28.824000" elapsed="0.065000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:58:28.824000" elapsed="0.065000"/>
</kw>
<kw name="Check current leader is different than OM">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:28.893000" level="INFO">Running command 'ozone admin om roles -id=omservice | grep 'LEADER' | awk -F ':' '{ print $1 }' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:32.437000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:32.437000" level="INFO">${output} = om1 </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:28.892000" elapsed="3.546000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:32.439000" level="INFO">om1 </msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:32.438000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:32.439000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:32.439000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:28.890000" elapsed="3.549000"/>
</kw>
<msg time="2024-03-23T14:58:32.439000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:28.890000" elapsed="3.550000"/>
</kw>
<msg time="2024-03-23T14:58:32.440000" level="INFO">${leader} = om1 </msg>
<var>${leader}</var>
<arg>ozone admin om roles -id=omservice | grep 'LEADER' | awk -F ':' '{ print $1 }'</arg>
<status status="PASS" start="2024-03-23T14:58:28.890000" elapsed="3.550000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${leader}</arg>
<arg>${om}</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:58:32.440000" elapsed="0.000000"/>
</kw>
<arg>${BOOTSTRAPPED_OM}</arg>
<status status="PASS" start="2024-03-23T14:58:28.889000" elapsed="3.551000"/>
</kw>
<kw name="Transfer leadership to OM">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:32.443000" level="INFO">Running command 'ozone admin om transfer --service-id=omservice -n om3 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:40.741000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:40.741000" level="INFO">${output} = Transfer leadership successfully to om3.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:32.442000" elapsed="8.299000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.742000" level="INFO">Transfer leadership successfully to om3.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:40.741000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.742000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:40.742000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:32.442000" elapsed="8.301000"/>
</kw>
<msg time="2024-03-23T14:58:40.743000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:32.441000" elapsed="8.302000"/>
</kw>
<msg time="2024-03-23T14:58:40.743000" level="INFO">${result} = Transfer leadership successfully to om3.</msg>
<var>${result}</var>
<arg>ozone admin om transfer --service-id=omservice -n ${new_leader}</arg>
<status status="PASS" start="2024-03-23T14:58:32.441000" elapsed="8.302000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Transfer leadership successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:58:40.743000" elapsed="0.000000"/>
</kw>
<arg>${BOOTSTRAPPED_OM}</arg>
<status status="PASS" start="2024-03-23T14:58:32.440000" elapsed="8.303000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:58:28.823000" elapsed="11.921000"/>
</test>
<test id="s1-s4-t3" name="Snapshots exist on 'om3'" line="92">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:58:40.745000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:40.748000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:40.751000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:40.751000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:40.747000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.752000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:40.751000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.752000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:40.752000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:40.747000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:58:40.752000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:40.746000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:40.753000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:58:40.746000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:58:40.753000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:58:40.746000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.753000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:58:40.753000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:40.757000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:40.786000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:40.786000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:40.755000" elapsed="0.031000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.786000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:40.786000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:40.787000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:40.787000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:40.755000" elapsed="0.032000"/>
</kw>
<msg time="2024-03-23T14:58:40.787000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:40.754000" elapsed="0.033000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:58:40.754000" elapsed="0.033000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:40.753000" elapsed="0.034000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:58:40.745000" elapsed="0.042000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:58:40.745000" elapsed="0.043000"/>
</kw>
<kw name="Check snapshots on OM">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:40.790000" level="INFO">Running command 'ozone sh snapshot list /vol1/bucket1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:45.335000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:45.335000" level="INFO">${output} = [ {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap1",
  "creationTime" : 1711205842810,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "27273420-0de2-4593-bf81-2bf6a71...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:40.789000" elapsed="4.546000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.336000" level="INFO">[ {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap1",
  "creationTime" : 1711205842810,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "27273420-0de2-4593-bf81-2bf6a71fc626",
  "snapshotPath" : "vol1/bucket1",
  "checkpointDir" : "-27273420-0de2-4593-bf81-2bf6a71fc626",
  "referencedSize" : 0,
  "referencedReplicatedSize" : 0,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
}, {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap2",
  "creationTime" : 1711205873180,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "0233fd85-6bd1-42b8-b8d3-690b3672fc33",
  "snapshotPath" : "vol1/bucket1",
  "checkpointDir" : "-0233fd85-6bd1-42b8-b8d3-690b3672fc33",
  "referencedSize" : 16,
  "referencedReplicatedSize" : 48,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:45.335000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.336000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:45.336000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:40.789000" elapsed="4.548000"/>
</kw>
<msg time="2024-03-23T14:58:45.337000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:40.789000" elapsed="4.548000"/>
</kw>
<msg time="2024-03-23T14:58:45.337000" level="INFO">${snap_list} = [ {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap1",
  "creationTime" : 1711205842810,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "27273420-0de2-4593-bf81-2bf6a71...</msg>
<var>${snap_list}</var>
<arg>ozone sh snapshot list /${volume}/${bucket}</arg>
<status status="PASS" start="2024-03-23T14:58:40.788000" elapsed="4.549000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${snap_list}</arg>
<arg>[ ]</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:58:45.337000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:45.340000" level="INFO">Running command 'echo "[ {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap1",
  "creationTime" : 1711205842810,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "27273420-0de2-4593-bf81-2bf6a71fc626",
  "snapshotPath" : "vol1/bucket1",
  "checkpointDir" : "-27273420-0de2-4593-bf81-2bf6a71fc626",
  "referencedSize" : 0,
  "referencedReplicatedSize" : 0,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
}, {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap2",
  "creationTime" : 1711205873180,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "0233fd85-6bd1-42b8-b8d3-690b3672fc33",
  "snapshotPath" : "vol1/bucket1",
  "checkpointDir" : "-0233fd85-6bd1-42b8-b8d3-690b3672fc33",
  "referencedSize" : 16,
  "referencedReplicatedSize" : 48,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]" | grep snap1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:45.342000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:45.342000" level="INFO">${output} =   name : snap1,</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:45.339000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.343000" level="INFO">  name : snap1,</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:45.343000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.344000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:45.343000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:45.338000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:45.344000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:45.338000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:45.344000" level="INFO">${snap1_res} =   name : snap1,</msg>
<var>${snap1_res}</var>
<arg>echo "${snap_list}" | grep ${snap_1}</arg>
<status status="PASS" start="2024-03-23T14:58:45.337000" elapsed="0.007000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${snap1_res}</arg>
<arg>${snap_1}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:58:45.344000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:45.347000" level="INFO">Running command 'echo "[ {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap1",
  "creationTime" : 1711205842810,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "27273420-0de2-4593-bf81-2bf6a71fc626",
  "snapshotPath" : "vol1/bucket1",
  "checkpointDir" : "-27273420-0de2-4593-bf81-2bf6a71fc626",
  "referencedSize" : 0,
  "referencedReplicatedSize" : 0,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
}, {
  "volumeName" : "vol1",
  "bucketName" : "bucket1",
  "name" : "snap2",
  "creationTime" : 1711205873180,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "0233fd85-6bd1-42b8-b8d3-690b3672fc33",
  "snapshotPath" : "vol1/bucket1",
  "checkpointDir" : "-0233fd85-6bd1-42b8-b8d3-690b3672fc33",
  "referencedSize" : 16,
  "referencedReplicatedSize" : 48,
  "exclusiveSize" : 0,
  "exclusiveReplicatedSize" : 0
} ]" | grep snap2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:45.349000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:45.349000" level="INFO">${output} =   name : snap2,</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:45.346000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.350000" level="INFO">  name : snap2,</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:45.350000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.351000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:45.350000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:45.346000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:58:45.351000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:45.345000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:45.351000" level="INFO">${snap2_res} =   name : snap2,</msg>
<var>${snap2_res}</var>
<arg>echo "${snap_list}" | grep ${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:45.345000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${snap2_res}</arg>
<arg>${snap_2}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:58:45.351000" elapsed="0.001000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>${SNAP_1}</arg>
<arg>${SNAP_2}</arg>
<status status="PASS" start="2024-03-23T14:58:40.788000" elapsed="4.564000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:58:40.744000" elapsed="4.608000"/>
</test>
<test id="s1-s4-t4" name="Run snap diff on 'om3' and check diff keys" line="95">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:58:45.354000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:45.357000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:45.359000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:45.359000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:45.356000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.360000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:45.359000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.360000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:45.360000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:45.355000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:45.361000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:45.355000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:58:45.361000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:58:45.354000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:58:45.361000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:58:45.354000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.362000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:58:45.361000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:45.364000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:45.377000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:45.377000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:45.363000" elapsed="0.014000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.378000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:45.377000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:45.378000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:45.378000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:45.363000" elapsed="0.015000"/>
</kw>
<msg time="2024-03-23T14:58:45.378000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:45.362000" elapsed="0.017000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:58:45.362000" elapsed="0.017000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:45.362000" elapsed="0.017000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:58:45.353000" elapsed="0.026000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:58:45.353000" elapsed="0.026000"/>
</kw>
<kw name="Run snap diff and validate results">
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Snap diff finished">
<kw name="Run snap diff and get response">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:45.384000" level="INFO">Running command 'ozone sh snapshot diff /vol1/bucket1 snap1 snap2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:49.534000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:49.534000" level="INFO">${output} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:45.383000" elapsed="4.151000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:49.536000" level="INFO">Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:49.535000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:49.537000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:49.536000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:45.382000" elapsed="4.155000"/>
</kw>
<msg time="2024-03-23T14:58:49.537000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:45.382000" elapsed="4.155000"/>
</kw>
<msg time="2024-03-23T14:58:49.537000" level="INFO">${diff_res} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<var>${diff_res}</var>
<arg>ozone sh snapshot diff /${volume}/${bucket} ${snap_1} ${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:45.381000" elapsed="4.156000"/>
</kw>
<msg time="2024-03-23T14:58:49.538000" level="INFO">${diff_res} = Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
</msg>
<var>${diff_res}</var>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${snap_1}</arg>
<arg>${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:45.381000" elapsed="4.157000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<msg time="2024-03-23T14:58:49.539000" level="FAIL">'Snapshot diff job is IN_PROGRESS. Please retry after 60000 ms.
' does not contain 'Difference between snapshot: snap1 and snapshot: snap2'</msg>
<arg>${diff_res}</arg>
<arg>Difference between snapshot: ${snap_1} and snapshot: ${snap_2}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="FAIL" start="2024-03-23T14:58:49.538000" elapsed="0.001000"/>
</kw>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${snap_1}</arg>
<arg>${snap_2}</arg>
<status status="FAIL" start="2024-03-23T14:58:45.380000" elapsed="4.159000"/>
</kw>
<kw name="Snap diff finished">
<kw name="Run snap diff and get response">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:52.544000" level="INFO">Running command 'ozone sh snapshot diff /vol1/bucket1 snap1 snap2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:58:56.511000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:58:56.511000" level="INFO">${output} = Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:52.542000" elapsed="3.969000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:58:56.512000" level="INFO">Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:58:56.511000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:58:56.512000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:58:56.512000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:52.542000" elapsed="3.971000"/>
</kw>
<msg time="2024-03-23T14:58:56.513000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:52.542000" elapsed="3.971000"/>
</kw>
<msg time="2024-03-23T14:58:56.513000" level="INFO">${diff_res} = Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<var>${diff_res}</var>
<arg>ozone sh snapshot diff /${volume}/${bucket} ${snap_1} ${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:52.541000" elapsed="3.972000"/>
</kw>
<msg time="2024-03-23T14:58:56.513000" level="INFO">${diff_res} = Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<var>${diff_res}</var>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${snap_1}</arg>
<arg>${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:52.540000" elapsed="3.973000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${diff_res}</arg>
<arg>Difference between snapshot: ${snap_1} and snapshot: ${snap_2}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:58:56.513000" elapsed="0.001000"/>
</kw>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${snap_1}</arg>
<arg>${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:52.540000" elapsed="3.974000"/>
</kw>
<arg>2min</arg>
<arg>3sec</arg>
<arg>Snap diff finished</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${snap_1}</arg>
<arg>${snap_2}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:58:45.380000" elapsed="11.134000"/>
</kw>
<kw name="Run snap diff and get response">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:58:56.517000" level="INFO">Running command 'ozone sh snapshot diff /vol1/bucket1 snap1 snap2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:00.630000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:00.630000" level="INFO">${output} = Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:58:56.516000" elapsed="4.114000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.631000" level="INFO">Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:00.631000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.632000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:00.631000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:58:56.515000" elapsed="4.117000"/>
</kw>
<msg time="2024-03-23T14:59:00.632000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:58:56.515000" elapsed="4.117000"/>
</kw>
<msg time="2024-03-23T14:59:00.632000" level="INFO">${diff_res} = Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<var>${diff_res}</var>
<arg>ozone sh snapshot diff /${volume}/${bucket} ${snap_1} ${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:56.515000" elapsed="4.117000"/>
</kw>
<msg time="2024-03-23T14:59:00.633000" level="INFO">${diff_res} = Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
</msg>
<var>${diff_res}</var>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${snap_1}</arg>
<arg>${snap_2}</arg>
<status status="PASS" start="2024-03-23T14:58:56.514000" elapsed="4.119000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:00.636000" level="INFO">Running command 'echo "Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
" | grep 'key' | wc -l 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:00.638000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:00.638000" level="INFO">${output} = 2</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:00.634000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.639000" level="INFO">2</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:00.638000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.639000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:00.639000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:00.633000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:59:00.640000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:00.633000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:59:00.640000" level="INFO">${key_num} = 2</msg>
<var>${key_num}</var>
<arg>echo "${diff_res}" | grep 'key' | wc -l</arg>
<status status="PASS" start="2024-03-23T14:59:00.633000" elapsed="0.007000"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>${key_num} == 2</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2024-03-23T14:59:00.640000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:00.643000" level="INFO">Running command 'echo "Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
" | grep key1 | wc -l 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:00.645000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:00.645000" level="INFO">${output} = 1</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:00.642000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.646000" level="INFO">1</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:00.645000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.646000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:00.646000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:00.641000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:59:00.647000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:00.641000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:59:00.647000" level="INFO">${diff_key1} = 1</msg>
<var>${diff_key1}</var>
<arg>echo "${diff_res}" | grep ${key_1} | wc -l</arg>
<status status="PASS" start="2024-03-23T14:59:00.641000" elapsed="0.006000"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>${diff_key1} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2024-03-23T14:59:00.647000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:00.650000" level="INFO">Running command 'echo "Difference between snapshot: snap1 and snapshot: snap2
+	./sn
+	./sn/key1
+	./sn/key2
" | grep key2 | wc -l 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:00.652000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:00.652000" level="INFO">${output} = 1</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:00.649000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.653000" level="INFO">1</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:00.653000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.654000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:00.653000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:00.649000" elapsed="0.005000"/>
</kw>
<msg time="2024-03-23T14:59:00.654000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:00.648000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:59:00.654000" level="INFO">${diff_key2} = 1</msg>
<var>${diff_key2}</var>
<arg>echo "${diff_res}" | grep ${key_2} | wc -l</arg>
<status status="PASS" start="2024-03-23T14:59:00.648000" elapsed="0.006000"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>${diff_key2} == 1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2024-03-23T14:59:00.654000" elapsed="0.001000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>${SNAP_1}</arg>
<arg>${SNAP_2}</arg>
<arg>${KEY_1}</arg>
<arg>${KEY_2}</arg>
<status status="PASS" start="2024-03-23T14:58:45.379000" elapsed="15.276000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:58:45.352000" elapsed="15.303000"/>
</test>
<test id="s1-s4-t5" name="Cat snapshot keys and validate contents" line="98">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-03-23T14:59:00.657000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:00.660000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:00.662000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:00.662000" level="INFO">${output} = om</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:00.658000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.663000" level="INFO">om</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:00.662000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.663000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:00.663000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:00.658000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:59:00.664000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:00.658000" elapsed="0.006000"/>
</kw>
<msg time="2024-03-23T14:59:00.664000" level="INFO">${instance} = om</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-03-23T14:59:00.657000" elapsed="0.007000"/>
</kw>
<msg time="2024-03-23T14:59:00.664000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-03-23T14:59:00.657000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.664000" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-03-23T14:59:00.664000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:00.667000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:00.685000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:00.685000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:00.666000" elapsed="0.019000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.686000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:00.685000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:00.686000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:00.686000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:00.666000" elapsed="0.021000"/>
</kw>
<msg time="2024-03-23T14:59:00.687000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:00.665000" elapsed="0.022000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-03-23T14:59:00.665000" elapsed="0.022000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-03-23T14:59:00.665000" elapsed="0.022000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-03-23T14:59:00.656000" elapsed="0.031000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-03-23T14:59:00.656000" elapsed="0.031000"/>
</kw>
<kw name="Validate keys under snapshot">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:00.690000" level="INFO">Running command 'ozone sh key cat /vol1/bucket1/.snapshot/snap2/sn/key1 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:06.999000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:06.999000" level="INFO">${output} = sn/key1</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:00.689000" elapsed="6.310000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:07" level="INFO">sn/key1</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:07" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:07.001000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:07" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:00.689000" elapsed="6.312000"/>
</kw>
<msg time="2024-03-23T14:59:07.001000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:00.688000" elapsed="6.313000"/>
</kw>
<msg time="2024-03-23T14:59:07.001000" level="INFO">${key1_res} = sn/key1</msg>
<var>${key1_res}</var>
<arg>ozone sh key cat /${volume}/${bucket}/.snapshot/${snap}/${key_prefix}/${key_1}</arg>
<status status="PASS" start="2024-03-23T14:59:00.688000" elapsed="6.313000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${key1_res}</arg>
<arg>${key_prefix}/${key_1}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:59:07.002000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-03-23T14:59:07.005000" level="INFO">Running command 'ozone sh key cat /vol1/bucket1/.snapshot/snap2/sn/key2 2&gt;&amp;1'.</msg>
<msg time="2024-03-23T14:59:12.956000" level="INFO">${rc} = 0</msg>
<msg time="2024-03-23T14:59:12.956000" level="INFO">${output} = sn/key2</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-03-23T14:59:07.004000" elapsed="5.952000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-03-23T14:59:12.960000" level="INFO">sn/key2</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-03-23T14:59:12.956000" elapsed="0.004000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-03-23T14:59:12.961000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-03-23T14:59:12.960000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-03-23T14:59:07.003000" elapsed="5.958000"/>
</kw>
<msg time="2024-03-23T14:59:12.961000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-03-23T14:59:07.003000" elapsed="5.958000"/>
</kw>
<msg time="2024-03-23T14:59:12.961000" level="INFO">${key2_res} = sn/key2</msg>
<var>${key2_res}</var>
<arg>ozone sh key cat /${volume}/${bucket}/.snapshot/${snap}/${key_prefix}/${key_2}</arg>
<status status="PASS" start="2024-03-23T14:59:07.002000" elapsed="5.959000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${key2_res}</arg>
<arg>${key_prefix}/${key_2}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-03-23T14:59:12.961000" elapsed="0.001000"/>
</kw>
<arg>${VOLUME}</arg>
<arg>${BUCKET}</arg>
<arg>${SNAP_2}</arg>
<arg>${KEY_PREFIX}</arg>
<arg>${KEY_1}</arg>
<arg>${KEY_2}</arg>
<status status="PASS" start="2024-03-23T14:59:00.687000" elapsed="12.275000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-03-23T14:59:00.655000" elapsed="12.307000"/>
</test>
<doc>Smoke test for validating snapshot data after om bootstrap.</doc>
<status status="PASS" start="2024-03-23T14:58:28.702000" elapsed="44.261000"/>
</suite>
<status status="PASS" elapsed="95.893000"/>
</suite>
<statistics>
<total>
<stat pass="14" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="14" fail="0" skip="0" id="s1" name="ozonesecure-ha-om-bootstrap">ozonesecure-ha-om-bootstrap</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1" name="Kinit">ozonesecure-ha-om-bootstrap.Kinit</stat>
<stat pass="7" fail="0" skip="0" id="s1-s2" name="Data-Creation-Before-Om-Bootstrap">ozonesecure-ha-om-bootstrap.Data-Creation-Before-Om-Bootstrap</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3" name="Kinit">ozonesecure-ha-om-bootstrap.Kinit</stat>
<stat pass="5" fail="0" skip="0" id="s1-s4" name="Data-Validation-After-Om-Bootstrap">ozonesecure-ha-om-bootstrap.Data-Validation-After-Om-Bootstrap</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
