WARNING: A Java agent has been loaded dynamically (/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.19/byte-buddy-agent-1.12.19.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
2025-11-03 16:41:17,233 [main] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:updateCertSerialId(1289)) - Certificate serial ID set to 1
2025-11-03 16:41:17,238 [main] WARN  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(178)) - Certificates could not be loaded.
java.nio.file.NoSuchFileException: /tmp/junit-16726811650718185566/scm/sub-ca/certs
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.asIOException(UnixException.java:115)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:501)
	at java.base/java.nio.file.Files.newDirectoryStream(Files.java:482)
	at java.base/java.nio.file.Files.list(Files.java:3785)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.loadAllCertificates(DefaultCertificateClient.java:173)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.updateCertSerialId(DefaultCertificateClient.java:1290)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.<init>(DefaultCertificateClient.java:155)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:105)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:97)
	at org.apache.hadoop.hdds.scm.security.TestRootCARotationManager.init(TestRootCARotationManager.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:786)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:514)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:49)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:133)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:83)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:547)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$20(ClassBasedTestDescriptor.java:532)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:193)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.lambda$invokeBeforeCallbacks$0(CallbackSupport.java:34)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.invokeBeforeCallbacks(CallbackSupport.java:34)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:191)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:155)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:157)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:230)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:204)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:172)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:101)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:64)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:150)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:63)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:109)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:91)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:120)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-03 16:41:17,462 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(138)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2025-11-03 16:41:17,683 [main] INFO  reflections.Reflections (Reflections.java:scan(219)) - Reflections took 204 ms to scan 6 urls, producing 167 keys and 377 values
2025-11-03 16:41:18,117 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service RootCARotationManager.
2025-11-03 16:41:18,145 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service RootCARotationManager.
2025-11-03 16:41:18,218 [main] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:updateCertSerialId(1289)) - Certificate serial ID set to 1
2025-11-03 16:41:18,219 [main] WARN  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(178)) - Certificates could not be loaded.
java.nio.file.NoSuchFileException: /tmp/junit-11718782444387938657/scm/sub-ca/certs
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.asIOException(UnixException.java:115)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:501)
	at java.base/java.nio.file.Files.newDirectoryStream(Files.java:482)
	at java.base/java.nio.file.Files.list(Files.java:3785)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.loadAllCertificates(DefaultCertificateClient.java:173)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.updateCertSerialId(DefaultCertificateClient.java:1290)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.<init>(DefaultCertificateClient.java:155)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:105)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:97)
	at org.apache.hadoop.hdds.scm.security.TestRootCARotationManager.init(TestRootCARotationManager.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:786)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:514)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:49)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:133)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:83)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:547)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$20(ClassBasedTestDescriptor.java:532)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:193)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.lambda$invokeBeforeCallbacks$0(CallbackSupport.java:34)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.invokeBeforeCallbacks(CallbackSupport.java:34)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:191)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:155)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:157)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:230)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:204)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:172)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:101)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:64)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:150)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:63)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:109)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:91)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:120)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-03 16:41:18,225 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(138)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2025-11-03 16:41:18,567 [main] INFO  utils.SelfSignedCertificate (SelfSignedCertificate.java:generateCertificate(156)) - Certificate 1 is issued by SERIALNUMBER=1, O=f043581b-ed12-44fa-9396-6933f35be19f, OU=cc0e4a69-2bb9-4adf-92bc-84fcacd94ee0, CN=localhost to SERIALNUMBER=1, O=f043581b-ed12-44fa-9396-6933f35be19f, OU=cc0e4a69-2bb9-4adf-92bc-84fcacd94ee0, CN=localhost, valid from Mon Nov 03 16:41:18 UTC 2025 to Mon Nov 03 16:41:53 UTC 2025
2025-11-03 16:41:18,585 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service RootCARotationManager.
2025-11-03 16:41:18,592 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:start(239)) - Monitor task for root certificate 1 is started with interval PT2S.
2025-11-03 16:41:18,593 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:start(245)) - Scheduling expired certificate removal with interval 15s
2025-11-03 16:41:18,594 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(201)) - notifyStatusChanged: enable monitor task
2025-11-03 16:41:18,597 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:checkAndHandlePostProcessing(783)) - No RootCARotationManager configuration found in stateful storage
2025-11-03 16:41:24,592 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(310)) - Root certificate 1 has entered the 2 * expiry grace period(PT15S).
2025-11-03 16:41:24,595 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(338)) - Root certificate 1 rotation task is scheduled with 3406 ms delay
2025-11-03 16:41:26,592 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(303)) - Root certificate rotation task is already running.
2025-11-03 16:41:28,001 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(382)) - Root certificate 1 rotation is started.
2025-11-03 16:41:28,015 [nullRootCARotationManager-Active] INFO  keys.KeyStorage (KeyStorage.java:readPublicKey(174)) - Reading public key from /tmp/junit-11718782444387938657/scm/ca-next-progress/keys/public.pem.
2025-11-03 16:41:28,015 [nullRootCARotationManager-Active] ERROR keys.KeyStorage (KeyStorage.java:readPublicKey(178)) - Failed to read the public key.
java.nio.file.NoSuchFileException: /tmp/junit-11718782444387938657/scm/ca-next-progress/keys/public.pem
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:380)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:432)
	at java.base/java.nio.file.Files.readAllBytes(Files.java:3281)
	at org.apache.hadoop.hdds.security.x509.keys.KeyStorage.readPublicKey(KeyStorage.java:176)
	at org.apache.hadoop.hdds.security.x509.keys.KeyStorage.readKeyPair(KeyStorage.java:184)
	at org.apache.hadoop.hdds.security.x509.certificate.authority.DefaultCAServer.checkIfKeysExist(DefaultCAServer.java:354)
	at org.apache.hadoop.hdds.security.x509.certificate.authority.DefaultCAServer.verifySelfSignedCA(DefaultCAServer.java:323)
	at org.apache.hadoop.hdds.security.x509.certificate.authority.DefaultCAServer.init(DefaultCAServer.java:162)
	at org.apache.hadoop.hdds.scm.ha.HASecurityUtils.initializeRootCertificateServer(HASecurityUtils.java:123)
	at org.apache.hadoop.hdds.scm.security.RootCARotationManager$RotationTask.run(RootCARotationManager.java:392)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-03 16:41:28,056 [main] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:updateCertSerialId(1289)) - Certificate serial ID set to 1
2025-11-03 16:41:28,057 [main] WARN  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(178)) - Certificates could not be loaded.
java.nio.file.NoSuchFileException: /tmp/junit-3916263234658332644/scm/sub-ca/certs
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.asIOException(UnixException.java:115)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:501)
	at java.base/java.nio.file.Files.newDirectoryStream(Files.java:482)
	at java.base/java.nio.file.Files.list(Files.java:3785)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.loadAllCertificates(DefaultCertificateClient.java:173)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.updateCertSerialId(DefaultCertificateClient.java:1290)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.<init>(DefaultCertificateClient.java:155)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:105)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:97)
	at org.apache.hadoop.hdds.scm.security.TestRootCARotationManager.init(TestRootCARotationManager.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:786)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:514)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:49)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:133)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:83)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:547)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$20(ClassBasedTestDescriptor.java:532)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:193)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.lambda$invokeBeforeCallbacks$0(CallbackSupport.java:34)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.invokeBeforeCallbacks(CallbackSupport.java:34)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:191)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:155)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:157)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:230)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:204)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:172)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:101)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:64)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:150)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:63)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:109)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:91)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:120)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-03 16:41:28,062 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(138)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2025-11-03 16:41:28,132 [main] INFO  utils.SelfSignedCertificate (SelfSignedCertificate.java:generateCertificate(156)) - Certificate 1 is issued by SERIALNUMBER=1, O=1e544cb9-46b6-433c-8ee0-503bce57f00a, OU=0a276ab0-31f5-4a4c-bacb-e8e6d39c9299, CN=localhost to SERIALNUMBER=1, O=1e544cb9-46b6-433c-8ee0-503bce57f00a, OU=0a276ab0-31f5-4a4c-bacb-e8e6d39c9299, CN=localhost, valid from Mon Nov 03 16:41:28 UTC 2025 to Mon Nov 03 16:42:58 UTC 2025
2025-11-03 16:41:28,137 [main] INFO  utils.CertificateCodec (CertificateCodec.java:writeCertificate(241)) - Save certificate to /tmp/junit-3916263234658332644/scm/sub-ca/certs/certificate.crt
2025-11-03 16:41:28,139 [main] INFO  utils.CertificateCodec (CertificateCodec.java:writeCertificate(242)) - Certificate -----BEGIN CERTIFICATE-----
MIIClTCCAf6gAwIBAgIBATANBgkqhkiG9w0BAQsFADB+MRIwEAYDVQQDDAlsb2Nh
bGhvc3QxLTArBgNVBAsMJDBhMjc2YWIwLTMxZjUtNGE0Yy1iYWNiLWU4ZTZkMzlj
OTI5OTEtMCsGA1UECgwkMWU1NDRjYjktNDZiNi00MzNjLThlZTAtNTAzYmNlNTdm
MDBhMQowCAYDVQQFEwExMB4XDTI1MTEwMzE2NDEyOFoXDTI1MTEwMzE2NDI1OFow
fjESMBAGA1UEAwwJbG9jYWxob3N0MS0wKwYDVQQLDCQwYTI3NmFiMC0zMWY1LTRh
NGMtYmFjYi1lOGU2ZDM5YzkyOTkxLTArBgNVBAoMJDFlNTQ0Y2I5LTQ2YjYtNDMz
Yy04ZWUwLTUwM2JjZTU3ZjAwYTEKMAgGA1UEBRMBMTCBnzANBgkqhkiG9w0BAQEF
AAOBjQAwgYkCgYEA6aPdiWXorENcKoYZbt3jNRD3G0Wio4/QnYNUUTspbZSOfM67
jMBNyDj7oI7ltKkEiO8mLjN8Hg795m3eHloGGaCkPKR5goxiU1rJaen9Su3wv5SC
XLFFnInKe86SbcjYbN5g2xKfseje28lJkPEIV7SP+6RU181DCAjyaz6xCm8CAwEA
AaMjMCEwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwDQYJKoZIhvcN
AQELBQADgYEAc8N+ZTjhNy6nNRdO3MMHRhLSkqI1FsvRB7vDFTAyvHnrkPGp6yr4
KcEEIX1dsj7UQLy0zMNj4IPsnoCniJ88eMa/9TOfBR1YrVnegAzKFBfwiwH1M5hW
lQV+YDXHoS6+BHyd+XAKKUh+yDBBmCT93y+uinFy2GOhiNmiWi8OoFo=
-----END CERTIFICATE-----

2025-11-03 16:41:28,143 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service RootCARotationManager.
2025-11-03 16:41:28,147 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:start(239)) - Monitor task for root certificate 1 is started with interval PT2S.
2025-11-03 16:41:28,147 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:start(245)) - Scheduling expired certificate removal with interval 86400s
2025-11-03 16:41:28,148 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(201)) - notifyStatusChanged: enable monitor task
2025-11-03 16:41:28,148 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:checkAndHandlePostProcessing(783)) - No RootCARotationManager configuration found in stateful storage
2025-11-03 16:41:28,178 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(180)) - notifyStatusChanged: disable monitor task.
2025-11-03 16:41:28,181 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(201)) - notifyStatusChanged: enable monitor task
2025-11-03 16:41:28,188 [main] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:readCertificateFile(247)) - Added certificate 1 from file: /tmp/junit-3916263234658332644/scm/sub-ca/certs/certificate.crt.
2025-11-03 16:41:28,189 [main] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(196)) - CertificateRenewerService and root ca rotation polling is disabled for scm/sub-ca
2025-11-03 16:41:28,190 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:enterPostProcessing(732)) - isPostProcessing is true for 9810 ms
2025-11-03 16:41:28,191 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(180)) - notifyStatusChanged: disable monitor task.
2025-11-03 16:41:28,193 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(201)) - notifyStatusChanged: enable monitor task
2025-11-03 16:41:28,194 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:enterPostProcessing(732)) - isPostProcessing is true for 9806 ms
2025-11-03 16:41:28,697 [nullRootCARotationManager-Active] INFO  keys.KeyStorage (KeyStorage.java:storePublicKey(210)) - Storing public key to /tmp/junit-11718782444387938657/scm/ca-next-progress/keys/public.pem.
2025-11-03 16:41:28,701 [nullRootCARotationManager-Active] INFO  keys.KeyStorage (KeyStorage.java:storePrivateKey(194)) - Storing private key to /tmp/junit-11718782444387938657/scm/ca-next-progress/keys/private.pem.
2025-11-03 16:41:28,712 [nullRootCARotationManager-Active] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(117)) - ip:fe80:0:0:0:20d:3aff:fe54:4a68%eth0 not returned.
2025-11-03 16:41:28,716 [nullRootCARotationManager-Active] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(114)) - Adding ip:10.1.0.98,host:runnervmf2e7y
2025-11-03 16:41:28,716 [nullRootCARotationManager-Active] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(117)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2025-11-03 16:41:28,716 [nullRootCARotationManager-Active] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(117)) - ip:127.0.0.1 not returned.
2025-11-03 16:41:28,718 [nullRootCARotationManager-Active] ERROR utils.SelfSignedCertificate (SelfSignedCertificate.java:lambda$addInetAddresses$0(244)) - Invalid domain runnervmf2e7y
2025-11-03 16:41:28,724 [nullRootCARotationManager-Active] INFO  utils.SelfSignedCertificate (SelfSignedCertificate.java:generateCertificate(156)) - Certificate 2 is issued by SERIALNUMBER=2, O=f043581b-ed12-44fa-9396-6933f35be19f, OU=cc0e4a69-2bb9-4adf-92bc-84fcacd94ee0, CN=scm@localhost to SERIALNUMBER=2, O=f043581b-ed12-44fa-9396-6933f35be19f, OU=cc0e4a69-2bb9-4adf-92bc-84fcacd94ee0, CN=scm@localhost, valid from Mon Nov 03 16:41:28 UTC 2025 to Thu Dec 12 16:41:28 UTC 2030
2025-11-03 16:41:28,725 [nullRootCARotationManager-Active] INFO  utils.CertificateCodec (CertificateCodec.java:writeCertificate(241)) - Save certificate to /tmp/junit-11718782444387938657/scm/ca-next-progress/certs/certificate.crt
2025-11-03 16:41:28,725 [nullRootCARotationManager-Active] INFO  utils.CertificateCodec (CertificateCodec.java:writeCertificate(242)) - Certificate -----BEGIN CERTIFICATE-----
MIIDtTCCAp2gAwIBAgIBAjANBgkqhkiG9w0BAQsFADCBgjEWMBQGA1UEAwwNc2Nt
QGxvY2FsaG9zdDEtMCsGA1UECwwkY2MwZTRhNjktMmJiOS00YWRmLTkyYmMtODRm
Y2FjZDk0ZWUwMS0wKwYDVQQKDCRmMDQzNTgxYi1lZDEyLTQ0ZmEtOTM5Ni02OTMz
ZjM1YmUxOWYxCjAIBgNVBAUTATIwHhcNMjUxMTAzMTY0MTI4WhcNMzAxMjEyMTY0
MTI4WjCBgjEWMBQGA1UEAwwNc2NtQGxvY2FsaG9zdDEtMCsGA1UECwwkY2MwZTRh
NjktMmJiOS00YWRmLTkyYmMtODRmY2FjZDk0ZWUwMS0wKwYDVQQKDCRmMDQzNTgx
Yi1lZDEyLTQ0ZmEtOTM5Ni02OTMzZjM1YmUxOWYxCjAIBgNVBAUTATIwggEiMA0G
CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCXzb4jhDPD+z3MpJdRLQFZGB2nw/+S
l+JiBGQVJX/FTlszu6yhF8WzrEsBMEZqfpIYkHdV1wEatlpShj4oclJpb2KbI5Nh
aBak9h5WfwnWinXzzSXKaDqwoQXm52cHlSpTD4eYzYvJD15uTRUpMVKajb8NRzEa
Uhw9FmXd1/ghpRAuIJyplQEuvy9OpZ5szIaBZzZBJuDT9mAe3ZaOWqm+cp6CEQwH
HcmFH84HK2ike9uv3Xle/oj/w/QE+uap+N32angnxp4Lkw3Tcx3qAzGxR6RTRVxx
WdHsmWYhKWOFd0efIJPNhbYbi1itmBWezbXeUO7oxXK4LKnEXxbbw3tzAgMBAAGj
NDAyMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMA8GA1UdEQQIMAaH
BAoBAGIwDQYJKoZIhvcNAQELBQADggEBAE905KLvpQj44oSsEZQu73kYi3TFl0ts
kQ5GptEaIIGRxa+DyZWQ5xqcuis3AXTKkAPMaBlc5x66g+q9JY7prE7iMornXeGn
OCleE3dqBlL7FNsFJZcU8Vc19c6NhyFQWYXyw5Ny+Itl6InAj/W3fbdyDBDP0JFz
BYf+WfNy5crL+aGE9WnqGCMO+dJHLOEC36udh2U+N8ih/okJDzPjP9ULPY3+H8F/
AXi0yRmsmSfnuY6oHloRZGhVoOvs667w+x4KiYGd50gieyq2gSDeayyCHZqsa1ox
xgq7q0Z3FNGXxflTDH/dsFTgkYOdfIDvdCMmbNfe6q4D1pqI9U+Rskw=
-----END CERTIFICATE-----

2025-11-03 16:41:28,725 [nullRootCARotationManager-Active] INFO  keys.KeyStorage (KeyStorage.java:readPublicKey(174)) - Reading public key from /tmp/junit-11718782444387938657/scm/ca-next-progress/keys/public.pem.
2025-11-03 16:41:28,727 [nullRootCARotationManager-Active] INFO  keys.KeyStorage (KeyStorage.java:readPrivateKey(158)) - Reading private key from /tmp/junit-11718782444387938657/scm/ca-next-progress/keys/private.pem.
2025-11-03 16:41:28,746 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:cleanupAndStop(477)) - In-progress root CA directory /tmp/junit-11718782444387938657/scm/ca-next-progress is deleted for 'RootCARotationManager is interrupted'
2025-11-03 16:41:28,747 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(424)) - Send out sub CA rotation prepare request for new root certificate 2
2025-11-03 16:41:38,001 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:lambda$enterPostProcessing$0(735)) - isPostProcessing is false
2025-11-03 16:41:38,002 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:lambda$enterPostProcessing$0(738)) - Stateful configuration is deleted
2025-11-03 16:41:38,039 [main] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:updateCertSerialId(1289)) - Certificate serial ID set to 1
2025-11-03 16:41:38,039 [main] WARN  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(178)) - Certificates could not be loaded.
java.nio.file.NoSuchFileException: /tmp/junit-11947898336204074731/scm/sub-ca/certs
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.asIOException(UnixException.java:115)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:501)
	at java.base/java.nio.file.Files.newDirectoryStream(Files.java:482)
	at java.base/java.nio.file.Files.list(Files.java:3785)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.loadAllCertificates(DefaultCertificateClient.java:173)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.updateCertSerialId(DefaultCertificateClient.java:1290)
	at org.apache.hadoop.hdds.security.x509.certificate.client.DefaultCertificateClient.<init>(DefaultCertificateClient.java:155)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:105)
	at org.apache.hadoop.hdds.security.x509.certificate.client.SCMCertificateClient.<init>(SCMCertificateClient.java:97)
	at org.apache.hadoop.hdds.scm.security.TestRootCARotationManager.init(TestRootCARotationManager.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:786)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:514)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:49)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:133)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:83)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:547)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$20(ClassBasedTestDescriptor.java:532)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:193)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.lambda$invokeBeforeCallbacks$0(CallbackSupport.java:34)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.CallbackSupport.invokeBeforeCallbacks(CallbackSupport.java:34)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:191)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:155)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:157)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:161)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:147)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:145)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:101)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:230)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:204)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:172)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:101)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:64)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:150)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:63)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:109)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:91)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:120)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-03 16:41:38,042 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(138)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2025-11-03 16:41:38,063 [main] INFO  utils.SelfSignedCertificate (SelfSignedCertificate.java:generateCertificate(156)) - Certificate 1 is issued by SERIALNUMBER=1, O=8c0dd672-6994-46f1-a5da-c466bec68882, OU=83ebb9ff-c819-4acb-a239-c749e72b4659, CN=localhost to SERIALNUMBER=1, O=8c0dd672-6994-46f1-a5da-c466bec68882, OU=83ebb9ff-c819-4acb-a239-c749e72b4659, CN=localhost, valid from Mon Nov 03 16:41:38 UTC 2025 to Mon Nov 03 16:42:13 UTC 2025
2025-11-03 16:41:38,067 [main] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(42)) - Registering service RootCARotationManager.
2025-11-03 16:41:38,068 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:start(239)) - Monitor task for root certificate 1 is started with interval PT2S.
2025-11-03 16:41:38,068 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:start(245)) - Scheduling expired certificate removal with interval 86400s
2025-11-03 16:41:38,069 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:notifyStatusChanged(201)) - notifyStatusChanged: enable monitor task
2025-11-03 16:41:38,069 [main] INFO  security.RootCARotationManager (RootCARotationManager.java:checkAndHandlePostProcessing(783)) - No RootCARotationManager configuration found in stateful storage
2025-11-03 16:41:44,068 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(310)) - Root certificate 1 has entered the 2 * expiry grace period(PT15S).
2025-11-03 16:41:44,069 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(325)) - Configured rotation time 2025-11-03T16:46:38 is after root certificate 1 end time Mon Nov 03 16:42:13 UTC 2025. Start the rotation immediately.
2025-11-03 16:41:44,069 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(338)) - Root certificate 1 rotation task is scheduled with 0 ms delay
2025-11-03 16:41:44,070 [nullRootCARotationManager-Active] INFO  security.RootCARotationManager (RootCARotationManager.java:run(382)) - Root certificate 1 rotation is started.
2025-11-03 16:41:44,071 [nullRootCARotationManager-Active] INFO  keys.KeyStorage (KeyStorage.java:readPublicKey(174)) - Reading public key from /tmp/junit-11947898336204074731/scm/ca-next-progress/keys/public.pem.
2025-11-03 16:41:44,071 [nullRootCARotationManager-Active] ERROR keys.KeyStorage (KeyStorage.java:readPublicKey(178)) - Failed to read the public key.
java.nio.file.NoSuchFileException: /tmp/junit-11947898336204074731/scm/ca-next-progress/keys/public.pem
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:380)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:432)
	at java.base/java.nio.file.Files.readAllBytes(Files.java:3281)
	at org.apache.hadoop.hdds.security.x509.keys.KeyStorage.readPublicKey(KeyStorage.java:176)
	at org.apache.hadoop.hdds.security.x509.keys.KeyStorage.readKeyPair(KeyStorage.java:184)
	at org.apache.hadoop.hdds.security.x509.certificate.authority.DefaultCAServer.checkIfKeysExist(DefaultCAServer.java:354)
	at org.apache.hadoop.hdds.security.x509.certificate.authority.DefaultCAServer.verifySelfSignedCA(DefaultCAServer.java:323)
	at org.apache.hadoop.hdds.security.x509.certificate.authority.DefaultCAServer.init(DefaultCAServer.java:162)
	at org.apache.hadoop.hdds.scm.ha.HASecurityUtils.initializeRootCertificateServer(HASecurityUtils.java:123)
	at org.apache.hadoop.hdds.scm.security.RootCARotationManager$RotationTask.run(RootCARotationManager.java:392)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
