Using Docker Compose v2
Executing test ozone/test-ec.sh
Using Docker Compose v2
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
S3                                                                            
==============================================================================
S3.Awss3 :: S3 gateway test with aws cli                                      
==============================================================================
File upload and directory list                                        | PASS |
------------------------------------------------------------------------------
File upload with special chars                                        | PASS |
------------------------------------------------------------------------------
S3.Awss3 :: S3 gateway test with aws cli                              | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
S3.Boto3 :: S3 gateway test with Boto3 Client                                 
==============================================================================
Boto3 Client Test                                                     | PASS |
------------------------------------------------------------------------------
S3.Boto3 :: S3 gateway test with Boto3 Client                         | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.Bucketcreate :: S3 gateway test with aws cli                               
==============================================================================
Create new bucket                                                     | PASS |
------------------------------------------------------------------------------
Create bucket which already exists                                    | PASS |
------------------------------------------------------------------------------
Create bucket with invalid bucket name                                | PASS |
------------------------------------------------------------------------------
Create new bucket and check default group ACL                         | PASS |
------------------------------------------------------------------------------
Test buckets named like web endpoints                                 | PASS |
------------------------------------------------------------------------------
Check bucket ownership verification                                   | PASS |
------------------------------------------------------------------------------
S3.Bucketcreate :: S3 gateway test with aws cli                       | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
S3.Bucketdelete :: S3 gateway test with aws cli                               
==============================================================================
Delete existing bucket                                                | PASS |
------------------------------------------------------------------------------
Delete non-existent bucket                                            | PASS |
------------------------------------------------------------------------------
Delete bucket with incomplete multipart uploads                       | PASS |
------------------------------------------------------------------------------
Check bucket ownership verification                                   | PASS |
------------------------------------------------------------------------------
S3.Bucketdelete :: S3 gateway test with aws cli                       | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
S3.Buckethead :: S3 gateway test with aws cli                                 
==============================================================================
Head Bucket                                                           | PASS |
------------------------------------------------------------------------------
Head Bucket not existent                                              | PASS |
------------------------------------------------------------------------------
Check bucket ownership verification                                   | PASS |
------------------------------------------------------------------------------
S3.Buckethead :: S3 gateway test with aws cli                         | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
S3.Bucketlist :: S3 gateway test with aws cli                                 
==============================================================================
List buckets                                                          | PASS |
------------------------------------------------------------------------------
Get bucket info with Ozone Shell to check the owner field             | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
List buckets with empty access id                                     | PASS |
------------------------------------------------------------------------------
S3.Bucketlist :: S3 gateway test with aws cli                         | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
S3.Freon :: S3 gateway test with aws cli                                      
==============================================================================
Run Freon S3BG                                                        | PASS |
------------------------------------------------------------------------------
Run Freon S3KG                                                        | PASS |
------------------------------------------------------------------------------
Run Freon S3KG MPU                                                    | PASS |
------------------------------------------------------------------------------
S3.Freon :: S3 gateway test with aws cli                              | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
S3.MultipartUpload :: S3 gateway test with aws cli                            
==============================================================================
Test Multipart Upload With Adjusted Length                            | PASS |
------------------------------------------------------------------------------
Overwrite Empty File                                                  | PASS |
------------------------------------------------------------------------------
Test Multipart Upload                                                 | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete                                        | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with user defined metadata size larger than ... | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Entity too small                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Invalid part errors and complete mp... | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload                                           | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload with invalid uploadId                     | PASS |
------------------------------------------------------------------------------
Upload part with Incorrect uploadID                                   | PASS |
------------------------------------------------------------------------------
Test list parts                                                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with the simplified aws s3 cp API               | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy                                   | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range                         | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range with IfModifiedSince    | PASS |
------------------------------------------------------------------------------
Test Multipart Upload list                                            | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.MultipartUpload :: S3 gateway test with aws cli                    | PASS |
17 tests, 17 passed, 0 failed
==============================================================================
S3.Objectcopy :: S3 gateway test with aws cli                                 
==============================================================================
Copy Object Happy Scenario                                            | PASS |
------------------------------------------------------------------------------
Copy Object Where Bucket is not available                             | PASS |
------------------------------------------------------------------------------
Copy Object Where both source and dest are same with change to sto... | PASS |
------------------------------------------------------------------------------
Copy Object Where Key not available                                   | PASS |
------------------------------------------------------------------------------
Copy Object using an invalid copy directive                           | PASS |
------------------------------------------------------------------------------
Copy Object with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectcopy :: S3 gateway test with aws cli                         | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
S3.Objectcopys3A :: S3 gateway test with aws cli                              
==============================================================================
Put object s3a simulation                                             | PASS |
------------------------------------------------------------------------------
S3.Objectcopys3A :: S3 gateway test with aws cli                      | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.Objectdelete :: S3 gateway test with aws cli                               
==============================================================================
Delete file with s3api                                                | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist                            | PASS |
------------------------------------------------------------------------------
Delete dir with s3api                                                 | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist, prefix of a real file     | PASS |
------------------------------------------------------------------------------
Delete file with s3api, bucket doesn't exist                          | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectdelete :: S3 gateway test with aws cli                       | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
S3.Objecthead :: S3 gateway test with aws cli                                 
==============================================================================
Head existing object                                                  | PASS |
------------------------------------------------------------------------------
Head object in non existing bucket                                    | PASS |
------------------------------------------------------------------------------
Head object where path is a directory                                 | PASS |
------------------------------------------------------------------------------
Head directory objects                                                | PASS |
------------------------------------------------------------------------------
Head non existing key                                                 | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objecthead :: S3 gateway test with aws cli                         | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
S3.Objectlist :: S3 max-keys validation test for negative and zero values     
==============================================================================
List objects with negative max-keys should fail                       | PASS |
------------------------------------------------------------------------------
List objects with zero max-keys should not fail                       | PASS |
------------------------------------------------------------------------------
List objects with max-keys exceeding config limit should not retur... | PASS |
------------------------------------------------------------------------------
List objects with max-keys less than config limit should return co... | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectlist :: S3 max-keys validation test for negative and zero... | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
S3.Objectmultidelete :: S3 gateway test with aws cli                          
==============================================================================
Delete file with multi delete                                         | PASS |
------------------------------------------------------------------------------
S3.Objectmultidelete :: S3 gateway test with aws cli                  | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.Objectputget :: S3 gateway test with aws cli                               
==============================================================================
Put object to s3                                                      | PASS |
------------------------------------------------------------------------------
Get object from s3                                                    | PASS |
------------------------------------------------------------------------------
Get object with wrong signature                                       | PASS |
Skip in unsecure cluster
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset              | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(start off... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(end offse... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with only start offset                     | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset which are... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 to get last n bytes                        | PASS |
------------------------------------------------------------------------------
Incorrect values for end and start offset                             | PASS |
------------------------------------------------------------------------------
Zero byte file                                                        | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata and tags                       | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata with gdpr enabled value in ... | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
Create files invalid tags                                             | PASS |
------------------------------------------------------------------------------
Create files with too many tags                                       | PASS |
------------------------------------------------------------------------------
Create small file and expect ETag (MD5) in a reponse header           | PASS |
------------------------------------------------------------------------------
Download small file end expect ETag (MD5) in a response header        | PASS |
------------------------------------------------------------------------------
Create key with custom etag metadata and expect it won't conflict ... | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and expect ETag in a ... | PASS |
------------------------------------------------------------------------------
Create key twice with different content and expect different ETags    | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and get file via part... | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and get file not exis... | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectputget :: S3 gateway test with aws cli                       | PASS |
24 tests, 24 passed, 0 failed
==============================================================================
S3.Objecttagging :: S3 gateway test with aws cli                              
==============================================================================
Put object tagging                                                    | PASS |
------------------------------------------------------------------------------
Get object tagging                                                    | PASS |
------------------------------------------------------------------------------
Delete object tagging                                                 | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objecttagging :: S3 gateway test with aws cli                      | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
S3.Rclone :: S3 gateway test with rclone client                               
==============================================================================
Rclone Client Test                                                    | PASS |
------------------------------------------------------------------------------
S3.Rclone :: S3 gateway test with rclone client                       | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.S3 Getsecret :: Test ozone s3 getsecret command                            
==============================================================================
Without OM service ID                                                 | PASS |
N/A
------------------------------------------------------------------------------
With OM service ID                                                    | PASS |
duplicate test in non-HA env.
------------------------------------------------------------------------------
S3.S3 Getsecret :: Test ozone s3 getsecret command                    | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
S3.Secretgenerate :: S3 Secret Generate test                                  
==============================================================================
S3 Gateway Generate Secret                                            | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Secret Already Exists                                      | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username                                | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username For Other User                 | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Reject Secret Generation By Non-admin User                 | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3.Secretgenerate :: S3 Secret Generate test                          | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
S3.Secretrevoke :: S3 Secret Revoke test                                      
==============================================================================
S3 Gateway Revoke Secret                                              | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username                                  | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username For Other User                   | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3 Gateway Reject Secret Revoke By Non-admin User                     | PASS |
Skipping this check as security is not enabled
------------------------------------------------------------------------------
S3.Secretrevoke :: S3 Secret Revoke test                              | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
S3.Webui :: S3 gateway web ui test                                            
==============================================================================
Check web UI                                                          | PASS |
------------------------------------------------------------------------------
S3.Webui :: S3 gateway web ui test                                    | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3                                                                    | PASS |
106 tests, 106 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-001.xml
[ ERROR ] Error in file '/opt/hadoop/smoketest/ec/lib.resource' on line 21: Setting 'Suite Setup' is not allowed in resource file.
==============================================================================
Rewrite :: Test EC shell commands                                             
==============================================================================
Rewrite Multipart Key                                                 | PASS |
------------------------------------------------------------------------------
Rewrite :: Test EC shell commands                                     | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-002.xml
[ ERROR ] Error in file '/opt/hadoop/smoketest/ec/lib.resource' on line 21: Setting 'Suite Setup' is not allowed in resource file.
==============================================================================
Basic :: Test EC shell commands                                               
==============================================================================
Test Bucket Creation                                                  | PASS |
------------------------------------------------------------------------------
Create 1MB Key In EC Bucket                                           | PASS |
------------------------------------------------------------------------------
Create 2MB Key In EC Bucket                                           | PASS |
------------------------------------------------------------------------------
Create 3MB Key In EC Bucket                                           | PASS |
------------------------------------------------------------------------------
Create 100MB Key In EC Bucket                                         | PASS |
------------------------------------------------------------------------------
Create Key in Default Bucket                                          | PASS |
------------------------------------------------------------------------------
Create Key in Ratis Bucket                                            | PASS |
------------------------------------------------------------------------------
Create Ratis Key In EC Bucket                                         | PASS |
------------------------------------------------------------------------------
Create EC Key In Ratis Bucket                                         | PASS |
------------------------------------------------------------------------------
Test Invalid Replication Parameters                                   | PASS |
------------------------------------------------------------------------------
Invalid Replication With Misconfigured Client                         | PASS |
------------------------------------------------------------------------------
Check disk usage after create a file which uses EC replication type   | PASS |
------------------------------------------------------------------------------
Basic :: Test EC shell commands                                       | PASS |
12 tests, 12 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-003.xml
==============================================================================
read-4-datanodes :: Test reading EC keys                                      
==============================================================================
Read 1MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 2MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 3MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 100MB EC Key                                                     | PASS |
------------------------------------------------------------------------------
Read EC Key in Ratis Bucket                                           | PASS |
------------------------------------------------------------------------------
read-4-datanodes :: Test reading EC keys                              | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-004.xml
==============================================================================
read-3-datanodes :: Test reading EC keys                                      
==============================================================================
Read 1MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 2MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 3MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 100MB EC Key                                                     | PASS |
------------------------------------------------------------------------------
Read EC Key in Ratis Bucket                                           | PASS |
------------------------------------------------------------------------------
read-3-datanodes :: Test reading EC keys                              | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-005.xml
==============================================================================
EC-recovery :: Wait for replication to succeed                                
==============================================================================
Wait Until Container Replicated                                       | PASS |
------------------------------------------------------------------------------
EC-recovery :: Wait for replication to succeed                        | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-006.xml
==============================================================================
S3-EC-Storage :: S3 gateway test with aws cli with STANDARD_IA storage class  
==============================================================================
Put Object with STANDARD_IA storage class                             | FAIL |
255 != 0
------------------------------------------------------------------------------
Test multipart upload with STANDARD_IA storage                        | PASS |
------------------------------------------------------------------------------
Copy Object change storage class to STANDARD_IA                       | PASS |
------------------------------------------------------------------------------
S3-EC-Storage :: S3 gateway test with aws cli with STANDARD_IA sto... | FAIL |
3 tests, 2 passed, 1 failed
==============================================================================
Output:  /tmp/smoketest/ozone/result/robot-007.xml
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-1_HddsDatanodeService.stack
jstack 8 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-2_HddsDatanodeService.stack
jstack 8 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-3_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-4_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-5_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-6_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-7_HddsDatanodeService.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-8_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-datanode-9_HddsDatanodeService.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-om-1_OzoneManagerStarter.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-recon-1_ReconServer.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-s3g-1_Gateway.stack
jstack 8 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/ozone/result/ozone-scm-1_StorageContainerManagerStarter.stack
ERROR: Test execution of ozone/test-ec.sh is FAILED!!!!
To use Ozone please mount ozone folder to /opt/hadoop
Output:  /rebot-output/ozone-ec.xml
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/rebot-LmgUJO/ozone-ec.xml' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone-ec.xml'
removed 'ozone/result/robot-001.xml'
removed 'ozone/result/robot-002.xml'
removed 'ozone/result/robot-003.xml'
removed 'ozone/result/robot-004.xml'
removed 'ozone/result/robot-005.xml'
removed 'ozone/result/robot-006.xml'
removed 'ozone/result/robot-007.xml'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec'
renamed 'ozone/result/dn-audit-2c93dba2459a.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-2c93dba2459a.log'
renamed 'ozone/result/dn-audit-3730204d195e.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-3730204d195e.log'
renamed 'ozone/result/dn-audit-42b80288fbda.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-42b80288fbda.log'
renamed 'ozone/result/dn-audit-754e6c4970c6.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-754e6c4970c6.log'
renamed 'ozone/result/dn-audit-82738e72fce7.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-82738e72fce7.log'
renamed 'ozone/result/dn-audit-b4b8c0df0329.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-b4b8c0df0329.log'
renamed 'ozone/result/dn-audit-cc17d9b436b9.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-cc17d9b436b9.log'
renamed 'ozone/result/dn-audit-e09df39a502e.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-e09df39a502e.log'
renamed 'ozone/result/dn-audit-fb2f0796b8ad.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/dn-audit-fb2f0796b8ad.log'
renamed 'ozone/result/docker-ozone-datanode-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-1.log'
renamed 'ozone/result/docker-ozone-datanode-2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-2.log'
renamed 'ozone/result/docker-ozone-datanode-3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-3.log'
renamed 'ozone/result/docker-ozone-datanode-4.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-4.log'
renamed 'ozone/result/docker-ozone-datanode-5.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-5.log'
renamed 'ozone/result/docker-ozone-datanode-6.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-6.log'
renamed 'ozone/result/docker-ozone-datanode-7.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-7.log'
renamed 'ozone/result/docker-ozone-datanode-8.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-8.log'
renamed 'ozone/result/docker-ozone-datanode-9.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-datanode-9.log'
renamed 'ozone/result/docker-ozone-httpfs-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-httpfs-1.log'
renamed 'ozone/result/docker-ozone-om-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-om-1.log'
renamed 'ozone/result/docker-ozone-recon-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-recon-1.log'
renamed 'ozone/result/docker-ozone-s3g-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-s3g-1.log'
renamed 'ozone/result/docker-ozone-scm-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/docker-ozone-scm-1.log'
renamed 'ozone/result/om-audit-327bfab80704.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/om-audit-327bfab80704.log'
renamed 'ozone/result/om-sys-audit-327bfab80704.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/om-sys-audit-327bfab80704.log'
renamed 'ozone/result/ozone-datanode-1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-1_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-2_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-2_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-3_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-3_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-4_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-4_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-5_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-5_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-6_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-6_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-7_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-7_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-8_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-8_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-datanode-9_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-datanode-9_HddsDatanodeService.stack'
renamed 'ozone/result/ozone-om-1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-om-1_OzoneManagerStarter.stack'
renamed 'ozone/result/ozone-recon-1_ReconServer.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-recon-1_ReconServer.stack'
renamed 'ozone/result/ozone-s3g-1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-s3g-1_Gateway.stack'
renamed 'ozone/result/ozone-scm-1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/ozone-scm-1_StorageContainerManagerStarter.stack'
renamed 'ozone/result/s3g-audit-1b1f7afce3c7.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/s3g-audit-1b1f7afce3c7.log'
renamed 'ozone/result/scm-audit-5f947ec471ed.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozone/ec/scm-audit-5f947ec471ed.log'
Executing test ozonesecure/test-ec.sh
Using Docker Compose v2
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 210
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 209
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 208
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
S3                                                                            
==============================================================================
S3.Awss3 :: S3 gateway test with aws cli                                      
==============================================================================
File upload and directory list                                        | PASS |
------------------------------------------------------------------------------
File upload with special chars                                        | PASS |
------------------------------------------------------------------------------
S3.Awss3 :: S3 gateway test with aws cli                              | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
S3.Boto3 :: S3 gateway test with Boto3 Client                                 
==============================================================================
Boto3 Client Test                                                     | PASS |
------------------------------------------------------------------------------
S3.Boto3 :: S3 gateway test with Boto3 Client                         | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.Bucketcreate :: S3 gateway test with aws cli                               
==============================================================================
Create new bucket                                                     | PASS |
------------------------------------------------------------------------------
Create bucket which already exists                                    | PASS |
------------------------------------------------------------------------------
Create bucket with invalid bucket name                                | PASS |
------------------------------------------------------------------------------
Create new bucket and check default group ACL                         | PASS |
------------------------------------------------------------------------------
Test buckets named like web endpoints                                 | PASS |
------------------------------------------------------------------------------
Check bucket ownership verification                                   | PASS |
------------------------------------------------------------------------------
S3.Bucketcreate :: S3 gateway test with aws cli                       | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
S3.Bucketdelete :: S3 gateway test with aws cli                               
==============================================================================
Delete existing bucket                                                | PASS |
------------------------------------------------------------------------------
Delete non-existent bucket                                            | PASS |
------------------------------------------------------------------------------
Delete bucket with incomplete multipart uploads                       | PASS |
------------------------------------------------------------------------------
Check bucket ownership verification                                   | PASS |
------------------------------------------------------------------------------
S3.Bucketdelete :: S3 gateway test with aws cli                       | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
S3.Buckethead :: S3 gateway test with aws cli                                 
==============================================================================
Head Bucket                                                           | PASS |
------------------------------------------------------------------------------
Head Bucket not existent                                              | PASS |
------------------------------------------------------------------------------
Check bucket ownership verification                                   | PASS |
------------------------------------------------------------------------------
S3.Buckethead :: S3 gateway test with aws cli                         | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
S3.Bucketlist :: S3 gateway test with aws cli                                 
==============================================================================
List buckets                                                          | PASS |
------------------------------------------------------------------------------
Get bucket info with Ozone Shell to check the owner field             | PASS |
------------------------------------------------------------------------------
List buckets with empty access id                                     | PASS |
------------------------------------------------------------------------------
S3.Bucketlist :: S3 gateway test with aws cli                         | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
S3.Freon :: S3 gateway test with aws cli                                      
==============================================================================
Run Freon S3BG                                                        | PASS |
------------------------------------------------------------------------------
Run Freon S3KG                                                        | PASS |
------------------------------------------------------------------------------
Run Freon S3KG MPU                                                    | PASS |
------------------------------------------------------------------------------
S3.Freon :: S3 gateway test with aws cli                              | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
S3.MultipartUpload :: S3 gateway test with aws cli                            
==============================================================================
Test Multipart Upload With Adjusted Length                            | PASS |
------------------------------------------------------------------------------
Overwrite Empty File                                                  | PASS |
------------------------------------------------------------------------------
Test Multipart Upload                                                 | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete                                        | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with user defined metadata size larger than ... | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Entity too small                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Invalid part errors and complete mp... | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload                                           | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload with invalid uploadId                     | PASS |
------------------------------------------------------------------------------
Upload part with Incorrect uploadID                                   | PASS |
------------------------------------------------------------------------------
Test list parts                                                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with the simplified aws s3 cp API               | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy                                   | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range                         | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range with IfModifiedSince    | PASS |
------------------------------------------------------------------------------
Test Multipart Upload list                                            | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.MultipartUpload :: S3 gateway test with aws cli                    | PASS |
17 tests, 17 passed, 0 failed
==============================================================================
S3.Objectcopy :: S3 gateway test with aws cli                                 
==============================================================================
Copy Object Happy Scenario                                            | PASS |
------------------------------------------------------------------------------
Copy Object Where Bucket is not available                             | PASS |
------------------------------------------------------------------------------
Copy Object Where both source and dest are same with change to sto... | PASS |
------------------------------------------------------------------------------
Copy Object Where Key not available                                   | PASS |
------------------------------------------------------------------------------
Copy Object using an invalid copy directive                           | PASS |
------------------------------------------------------------------------------
Copy Object with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectcopy :: S3 gateway test with aws cli                         | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
S3.Objectcopys3A :: S3 gateway test with aws cli                              
==============================================================================
Put object s3a simulation                                             | PASS |
------------------------------------------------------------------------------
S3.Objectcopys3A :: S3 gateway test with aws cli                      | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.Objectdelete :: S3 gateway test with aws cli                               
==============================================================================
Delete file with s3api                                                | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist                            | PASS |
------------------------------------------------------------------------------
Delete dir with s3api                                                 | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist, prefix of a real file     | PASS |
------------------------------------------------------------------------------
Delete file with s3api, bucket doesn't exist                          | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectdelete :: S3 gateway test with aws cli                       | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
S3.Objecthead :: S3 gateway test with aws cli                                 
==============================================================================
Head existing object                                                  | PASS |
------------------------------------------------------------------------------
Head object in non existing bucket                                    | PASS |
------------------------------------------------------------------------------
Head object where path is a directory                                 | PASS |
------------------------------------------------------------------------------
Head directory objects                                                | PASS |
------------------------------------------------------------------------------
Head non existing key                                                 | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objecthead :: S3 gateway test with aws cli                         | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
S3.Objectlist :: S3 max-keys validation test for negative and zero values     
==============================================================================
List objects with negative max-keys should fail                       | PASS |
------------------------------------------------------------------------------
List objects with zero max-keys should not fail                       | PASS |
------------------------------------------------------------------------------
List objects with max-keys exceeding config limit should not retur... | PASS |
------------------------------------------------------------------------------
List objects with max-keys less than config limit should return co... | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectlist :: S3 max-keys validation test for negative and zero... | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
S3.Objectmultidelete :: S3 gateway test with aws cli                          
==============================================================================
Delete file with multi delete                                         | PASS |
------------------------------------------------------------------------------
S3.Objectmultidelete :: S3 gateway test with aws cli                  | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.Objectputget :: S3 gateway test with aws cli                               
==============================================================================
Put object to s3                                                      | PASS |
------------------------------------------------------------------------------
Get object from s3                                                    | PASS |
------------------------------------------------------------------------------
Get object with wrong signature                                       | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset              | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(start off... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(end offse... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with only start offset                     | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset which are... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 to get last n bytes                        | PASS |
------------------------------------------------------------------------------
Incorrect values for end and start offset                             | PASS |
------------------------------------------------------------------------------
Zero byte file                                                        | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata and tags                       | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata with gdpr enabled value in ... | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
Create files invalid tags                                             | PASS |
------------------------------------------------------------------------------
Create files with too many tags                                       | PASS |
------------------------------------------------------------------------------
Create small file and expect ETag (MD5) in a reponse header           | PASS |
------------------------------------------------------------------------------
Download small file end expect ETag (MD5) in a response header        | PASS |
------------------------------------------------------------------------------
Create key with custom etag metadata and expect it won't conflict ... | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and expect ETag in a ... | PASS |
------------------------------------------------------------------------------
Create key twice with different content and expect different ETags    | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and get file via part... | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and get file not exis... | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objectputget :: S3 gateway test with aws cli                       | PASS |
24 tests, 24 passed, 0 failed
==============================================================================
S3.Objecttagging :: S3 gateway test with aws cli                              
==============================================================================
Put object tagging                                                    | PASS |
------------------------------------------------------------------------------
Get object tagging                                                    | PASS |
------------------------------------------------------------------------------
Delete object tagging                                                 | PASS |
------------------------------------------------------------------------------
Check Bucket Ownership Verification                                   | PASS |
------------------------------------------------------------------------------
S3.Objecttagging :: S3 gateway test with aws cli                      | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
S3.Rclone :: S3 gateway test with rclone client                               
==============================================================================
Rclone Client Test                                                    | PASS |
------------------------------------------------------------------------------
S3.Rclone :: S3 gateway test with rclone client                       | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3.S3 Getsecret :: Test ozone s3 getsecret command                            
==============================================================================
Without OM service ID                                                 | PASS |
------------------------------------------------------------------------------
With OM service ID                                                    | PASS |
duplicate test in non-HA env.
------------------------------------------------------------------------------
S3.S3 Getsecret :: Test ozone s3 getsecret command                    | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
S3.Secretgenerate :: S3 Secret Generate test                                  
==============================================================================
S3 Gateway Generate Secret                                            | PASS |
------------------------------------------------------------------------------
S3 Gateway Secret Already Exists                                      | PASS |
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username                                | PASS |
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username For Other User                 | PASS |
------------------------------------------------------------------------------
S3 Gateway Reject Secret Generation By Non-admin User                 | PASS |
------------------------------------------------------------------------------
S3.Secretgenerate :: S3 Secret Generate test                          | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
S3.Secretrevoke :: S3 Secret Revoke test                                      
==============================================================================
S3 Gateway Revoke Secret                                              | PASS |
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username                                  | PASS |
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username For Other User                   | PASS |
------------------------------------------------------------------------------
S3 Gateway Reject Secret Revoke By Non-admin User                     | PASS |
------------------------------------------------------------------------------
S3.Secretrevoke :: S3 Secret Revoke test                              | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
S3.Webui :: S3 gateway web ui test                                            
==============================================================================
Check web UI                                                          | PASS |
------------------------------------------------------------------------------
S3.Webui :: S3 gateway web ui test                                    | PASS |
1 test, 1 passed, 0 failed
==============================================================================
S3                                                                    | PASS |
106 tests, 106 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-001.xml
[ ERROR ] Error in file '/opt/hadoop/smoketest/ec/lib.resource' on line 21: Setting 'Suite Setup' is not allowed in resource file.
==============================================================================
Rewrite :: Test EC shell commands                                             
==============================================================================
Rewrite Multipart Key                                                 | PASS |
------------------------------------------------------------------------------
Rewrite :: Test EC shell commands                                     | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-002.xml
[ ERROR ] Error in file '/opt/hadoop/smoketest/ec/lib.resource' on line 21: Setting 'Suite Setup' is not allowed in resource file.
==============================================================================
Basic :: Test EC shell commands                                               
==============================================================================
Test Bucket Creation                                                  | PASS |
------------------------------------------------------------------------------
Create 1MB Key In EC Bucket                                           | PASS |
------------------------------------------------------------------------------
Create 2MB Key In EC Bucket                                           | PASS |
------------------------------------------------------------------------------
Create 3MB Key In EC Bucket                                           | PASS |
------------------------------------------------------------------------------
Create 100MB Key In EC Bucket                                         | PASS |
------------------------------------------------------------------------------
Create Key in Default Bucket                                          | PASS |
------------------------------------------------------------------------------
Create Key in Ratis Bucket                                            | PASS |
------------------------------------------------------------------------------
Create Ratis Key In EC Bucket                                         | PASS |
------------------------------------------------------------------------------
Create EC Key In Ratis Bucket                                         | PASS |
------------------------------------------------------------------------------
Test Invalid Replication Parameters                                   | PASS |
------------------------------------------------------------------------------
Invalid Replication With Misconfigured Client                         | PASS |
------------------------------------------------------------------------------
Check disk usage after create a file which uses EC replication type   | PASS |
------------------------------------------------------------------------------
Basic :: Test EC shell commands                                       | PASS |
12 tests, 12 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-003.xml
==============================================================================
read-4-datanodes :: Test reading EC keys                                      
==============================================================================
Read 1MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 2MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 3MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 100MB EC Key                                                     | PASS |
------------------------------------------------------------------------------
Read EC Key in Ratis Bucket                                           | PASS |
------------------------------------------------------------------------------
read-4-datanodes :: Test reading EC keys                              | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-004.xml
==============================================================================
read-3-datanodes :: Test reading EC keys                                      
==============================================================================
Read 1MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 2MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 3MB EC Key                                                       | PASS |
------------------------------------------------------------------------------
Read 100MB EC Key                                                     | PASS |
------------------------------------------------------------------------------
Read EC Key in Ratis Bucket                                           | PASS |
------------------------------------------------------------------------------
read-3-datanodes :: Test reading EC keys                              | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-005.xml
==============================================================================
EC-recovery :: Wait for replication to succeed                                
==============================================================================
Wait Until Container Replicated                                       | PASS |
------------------------------------------------------------------------------
EC-recovery :: Wait for replication to succeed                        | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-006.xml
==============================================================================
S3-EC-Storage :: S3 gateway test with aws cli with STANDARD_IA storage class  
==============================================================================
Put Object with STANDARD_IA storage class                             | PASS |
------------------------------------------------------------------------------
Test multipart upload with STANDARD_IA storage                        | PASS |
------------------------------------------------------------------------------
Copy Object change storage class to STANDARD_IA                       | PASS |
------------------------------------------------------------------------------
S3-EC-Storage :: S3 gateway test with aws cli with STANDARD_IA sto... | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-007.xml
To use Ozone please mount ozone folder to /opt/hadoop
Output:  /rebot-output/ozonesecure-ec.xml
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/rebot-0WTppl/ozonesecure-ec.xml' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure-ec.xml'
removed 'ozonesecure/result/robot-001.xml'
removed 'ozonesecure/result/robot-002.xml'
removed 'ozonesecure/result/robot-003.xml'
removed 'ozonesecure/result/robot-004.xml'
removed 'ozonesecure/result/robot-005.xml'
removed 'ozonesecure/result/robot-006.xml'
removed 'ozonesecure/result/robot-007.xml'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec'
renamed 'ozonesecure/result/dn-audit-dn.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/dn-audit-dn.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-2.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-3.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-4.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-4.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-5.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-5.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-6.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-6.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-7.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-7.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-8.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-8.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-9.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-datanode-9.log'
renamed 'ozonesecure/result/docker-ozonesecure-httpfs-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-httpfs-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kdc-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-kdc-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kms-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-kms-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-om-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-om-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-recon-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-recon-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-s3g-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-scm-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/docker-ozonesecure-scm-1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/om-audit-om.log'
renamed 'ozonesecure/result/om-sys-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/om-sys-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/ozonesecure/ec/scm-audit-scm.log'
To use Ozone please mount ozone folder to /opt/hadoop
Log:     /rebot-output/log.html
Report:  /rebot-output/report.html
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/rebot-UKSoOf/log.html' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/log.html'
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/rebot-UKSoOf/report.html' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.1.0-SNAPSHOT/compose/result/report.html'
removed directory '/tmp/robot-data-C9f5tA'
