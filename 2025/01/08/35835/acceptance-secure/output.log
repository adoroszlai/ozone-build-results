Using Docker Compose v2
Executing test ozonesecure/test-fcq.sh
Using Docker Compose v2
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 238
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 237
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 236
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 211
SCM is out of safe mode.
No OM HA service, no need to wait
==============================================================================
S3 Om Fcq :: S3 gateway test with aws cli                                     
==============================================================================
Test setup headers                                                    | PASS |
------------------------------------------------------------------------------
Test setup credentials                                                | PASS |
------------------------------------------------------------------------------
Test create bucket 1                                                  | PASS |
------------------------------------------------------------------------------
Test OM JMX endpoint                                                  | PASS |
------------------------------------------------------------------------------
Test metrics are registered                                           | PASS |
------------------------------------------------------------------------------
Run freon s3kg                                                        | PASS |
------------------------------------------------------------------------------
Test caller from metrics                                              | PASS |
------------------------------------------------------------------------------
S3 Om Fcq :: S3 gateway test with aws cli                             | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-001.xml
To use Ozone please mount ozone folder to /opt/hadoop
Output:  /rebot-output/ozonesecure-fcq.xml
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/rebot-iuZcE1/ozonesecure-fcq.xml' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure-fcq.xml'
removed 'ozonesecure/result/robot-001.xml'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq'
renamed 'ozonesecure/result/dn-audit-dn.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/dn-audit-dn.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-datanode-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-datanode-2.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-datanode-3.log'
renamed 'ozonesecure/result/docker-ozonesecure-httpfs-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-httpfs-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kdc-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-kdc-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kms-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-kms-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-om-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-om-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-recon-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-recon-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-s3g-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-scm-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/docker-ozonesecure-scm-1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/om-audit-om.log'
renamed 'ozonesecure/result/om-sys-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/om-sys-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/fcq/scm-audit-scm.log'
Executing test ozonesecure/test-haproxy-s3g.sh
Using Docker Compose v2
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 235
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is out of safe mode.
No OM HA service, no need to wait
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@4a7f959b has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-001.xml
==============================================================================
Security                                                                      
==============================================================================
Security.Admin-Cert :: Test for ozone admin cert command                      
==============================================================================
List valid certificates                                               | PASS |
------------------------------------------------------------------------------
List revoked certificates                                             | PASS |
------------------------------------------------------------------------------
Info of the cert                                                      | PASS |
------------------------------------------------------------------------------
Security.Admin-Cert :: Test for ozone admin cert command              | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Fs :: Smoke test to start cluster with docker-compose...
==============================================================================
Create volume bucket with wrong credentials                           | PASS |
------------------------------------------------------------------------------
Create volume with non-admin user                                     | PASS |
------------------------------------------------------------------------------
Create bucket with non-admin owner(testuser2)                         | PASS |
------------------------------------------------------------------------------
Create volume bucket with credentials                                 | PASS |
------------------------------------------------------------------------------
Check volume from ozonefs                                             | PASS |
------------------------------------------------------------------------------
Test tmp mount for shared ofs tmp dir                                 | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Fs :: Smoke test to start cluster with docke... | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Owner-S3 :: This test suite verifies the functionalit...
==============================================================================
Initialize testuser Credentials                                       | PASS |
------------------------------------------------------------------------------
Create Bucket                                                         | PASS |
------------------------------------------------------------------------------
Verify Owner of Uploaded S3 Object By testuser                        | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Owner-S3 :: This test suite verifies the fun... | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-S3 :: Smoke test to start cluster with docker-compose...
==============================================================================
Secure S3 test Success                                                | PASS |
------------------------------------------------------------------------------
Secure S3 put-object test                                             | PASS |
------------------------------------------------------------------------------
Secure S3 test Failure                                                | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-S3 :: Smoke test to start cluster with docke... | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Tenant :: Smoke test for ozone secure tenant commands   
==============================================================================
Create Tenant Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
Assign User Success with Cluster Admin                                | PASS |
------------------------------------------------------------------------------
Assign User Failure to Non-existent Tenant                            | PASS |
------------------------------------------------------------------------------
GetUserInfo Success                                                   | PASS |
------------------------------------------------------------------------------
GetUserInfo as JSON Success                                           | PASS |
------------------------------------------------------------------------------
Create Bucket 1 Success via S3 API                                    | PASS |
------------------------------------------------------------------------------
Verify Bucket 1 Owner                                                 | PASS |
------------------------------------------------------------------------------
Put a key in the tenant bucket                                        | PASS |
------------------------------------------------------------------------------
Verify Object Owner                                                   | PASS |
------------------------------------------------------------------------------
Get and delete a key in the tenant bucket                             | PASS |
------------------------------------------------------------------------------
SetSecret Success with Cluster Admin                                  | PASS |
------------------------------------------------------------------------------
SetSecret Failure For Invalid Secret 1                                | PASS |
------------------------------------------------------------------------------
SetSecret Failure For Invalid Secret 2                                | PASS |
------------------------------------------------------------------------------
GetSecret Success                                                     | PASS |
------------------------------------------------------------------------------
Delete Bucket 1 Failure With Old SecretKey via S3 API                 | PASS |
------------------------------------------------------------------------------
Delete Bucket 1 Success With Newly Set SecretKey via S3 API           | PASS |
------------------------------------------------------------------------------
Delete Tenant Failure Tenant Not Empty                                | PASS |
------------------------------------------------------------------------------
Trigger and wait for background Sync to recover Policies and Roles... | PASS |
------------------------------------------------------------------------------
Create Tenant Failure with Regular User                               | PASS |
------------------------------------------------------------------------------
SetSecret Failure with Regular User                                   | PASS |
------------------------------------------------------------------------------
Create Bucket 2 Success with somesecret1 via S3 API                   | PASS |
------------------------------------------------------------------------------
Delete Bucket 2 Failure with somesecret2 via S3 API                   | PASS |
------------------------------------------------------------------------------
Delete Bucket 2 Success with somesecret1 via S3 API                   | PASS |
------------------------------------------------------------------------------
Revoke User AccessId Success with Cluster Admin                       | PASS |
------------------------------------------------------------------------------
Create Bucket 3 Failure with Revoked AccessId via S3 API              | PASS |
------------------------------------------------------------------------------
Delete Tenant Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
Delete Volume Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
List Tenant Expect Empty Result                                       | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Tenant :: Smoke test for ozone secure tenant... | PASS |
28 tests, 28 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Token :: Test token operations                          
==============================================================================
Token Test                                                            | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Token :: Test token operations                  | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Security.S3-secret :: Smoke test to start cluster with docker-compose envir...
==============================================================================
Get S3 secret twice                                                   | PASS |
------------------------------------------------------------------------------
Security.S3-secret :: Smoke test to start cluster with docker-comp... | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Security                                                              | PASS |
45 tests, 45 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-002.xml
==============================================================================
s3-encrypted                                                                  
==============================================================================
s3-encrypted.Awss3 :: S3 gateway test with aws cli                            
==============================================================================
File upload and directory list                                        | PASS |
------------------------------------------------------------------------------
File upload with special chars                                        | PASS |
------------------------------------------------------------------------------
s3-encrypted.Awss3 :: S3 gateway test with aws cli                    | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Boto3 :: S3 gateway test with Boto3 Client                       
==============================================================================
Boto3 Client Test                                                     | PASS |
------------------------------------------------------------------------------
s3-encrypted.Boto3 :: S3 gateway test with Boto3 Client               | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.Bucketcreate :: S3 gateway test with aws cli                     
==============================================================================
Create new bucket                                                     | PASS |
------------------------------------------------------------------------------
Create bucket which already exists                                    | PASS |
------------------------------------------------------------------------------
Create bucket with invalid bucket name                                | PASS |
------------------------------------------------------------------------------
Create new bucket and check default group ACL                         | PASS |
------------------------------------------------------------------------------
Test buckets named like web endpoints                                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketcreate :: S3 gateway test with aws cli             | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Bucketdelete :: S3 gateway test with aws cli                     
==============================================================================
Delete existing bucket                                                | PASS |
------------------------------------------------------------------------------
Delete non-existent bucket                                            | PASS |
------------------------------------------------------------------------------
Delete bucket with incomplete multipart uploads                       | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketdelete :: S3 gateway test with aws cli             | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
s3-encrypted.Buckethead :: S3 gateway test with aws cli                       
==============================================================================
Head Bucket                                                           | PASS |
------------------------------------------------------------------------------
Head Bucket not existent                                              | PASS |
------------------------------------------------------------------------------
s3-encrypted.Buckethead :: S3 gateway test with aws cli               | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Bucketlist :: S3 gateway test with aws cli                       
==============================================================================
List buckets                                                          | PASS |
------------------------------------------------------------------------------
Get bucket info with Ozone Shell to check the owner field             | PASS |
------------------------------------------------------------------------------
List buckets with empty access id                                     | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketlist :: S3 gateway test with aws cli               | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
s3-encrypted.Freon :: S3 gateway test with aws cli                            
==============================================================================
Run Freon S3BG                                                        | PASS |
------------------------------------------------------------------------------
s3-encrypted.Freon :: S3 gateway test with aws cli                    | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.MultipartUpload :: S3 gateway test with aws cli                  
==============================================================================
Test Multipart Upload With Adjusted Length                            | PASS |
------------------------------------------------------------------------------
Test Multipart Upload                                                 | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete                                        | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with user defined metadata size larger than ... | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Entity too small                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Invalid part errors and complete mp... | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload                                           | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload with invalid uploadId                     | PASS |
------------------------------------------------------------------------------
Upload part with Incorrect uploadID                                   | PASS |
------------------------------------------------------------------------------
Test list parts                                                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with the simplified aws s3 cp API               | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy                                   | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range                         | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range with IfModifiedSince    | PASS |
------------------------------------------------------------------------------
Test Multipart Upload list                                            | PASS |
------------------------------------------------------------------------------
s3-encrypted.MultipartUpload :: S3 gateway test with aws cli          | PASS |
15 tests, 15 passed, 0 failed
==============================================================================
s3-encrypted.Objectcopy :: S3 gateway test with aws cli                       
==============================================================================
Copy Object Happy Scenario                                            | PASS |
------------------------------------------------------------------------------
Copy Object Where Bucket is not available                             | PASS |
------------------------------------------------------------------------------
Copy Object Where both source and dest are same with change to sto... | PASS |
------------------------------------------------------------------------------
Copy Object Where Key not available                                   | PASS |
------------------------------------------------------------------------------
Copy Object using an invalid copy directive                           | PASS |
------------------------------------------------------------------------------
Copy Object with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectcopy :: S3 gateway test with aws cli               | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
s3-encrypted.Objectcopys3A :: S3 gateway test with aws cli                    
==============================================================================
Put object s3a simulation                                             | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectcopys3A :: S3 gateway test with aws cli            | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.Objectdelete :: S3 gateway test with aws cli                     
==============================================================================
Delete file with s3api                                                | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist                            | PASS |
------------------------------------------------------------------------------
Delete dir with s3api                                                 | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist, prefix of a real file     | PASS |
------------------------------------------------------------------------------
Delete file with s3api, bucket doesn't exist                          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectdelete :: S3 gateway test with aws cli             | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Objecthead :: S3 gateway test with aws cli                       
==============================================================================
Head existing object                                                  | PASS |
------------------------------------------------------------------------------
Head object in non existing bucket                                    | PASS |
------------------------------------------------------------------------------
Head object where path is a directory                                 | PASS |
------------------------------------------------------------------------------
Head directory objects                                                | PASS |
------------------------------------------------------------------------------
Head non existing key                                                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objecthead :: S3 gateway test with aws cli               | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Objectmultidelete :: S3 gateway test with aws cli                
==============================================================================
Delete file with multi delete                                         | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectmultidelete :: S3 gateway test with aws cli        | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.Objectputget :: S3 gateway test with aws cli                     
==============================================================================
Put object to s3                                                      | PASS |
------------------------------------------------------------------------------
Get object from s3                                                    | PASS |
------------------------------------------------------------------------------
Get object with wrong signature                                       | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset              | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(start off... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(end offse... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with only start offset                     | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset which are... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 to get last n bytes                        | PASS |
------------------------------------------------------------------------------
Incorrect values for end and start offset                             | PASS |
------------------------------------------------------------------------------
Zero byte file                                                        | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata and tags                       | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata with gdpr enabled value in ... | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
Create files invalid tags                                             | PASS |
------------------------------------------------------------------------------
Create files with too many tags                                       | PASS |
------------------------------------------------------------------------------
Create small file and expect ETag (MD5) in a reponse header           | PASS |
------------------------------------------------------------------------------
Download small file end expect ETag (MD5) in a response header        | PASS |
------------------------------------------------------------------------------
Create key with custom etag metadata and expect it won't conflict ... | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and expect ETag in a ... | PASS |
------------------------------------------------------------------------------
Create key twice with different content and expect different ETags    | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectputget :: S3 gateway test with aws cli             | PASS |
21 tests, 21 passed, 0 failed
==============================================================================
s3-encrypted.Objecttagging :: S3 gateway test with aws cli                    
==============================================================================
Put object tagging                                                    | PASS |
------------------------------------------------------------------------------
Get object tagging                                                    | PASS |
------------------------------------------------------------------------------
Delete object tagging                                                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objecttagging :: S3 gateway test with aws cli            | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
s3-encrypted.Rclone :: S3 gateway test with rclone client                     
==============================================================================
Rclone Client Test                                                    | PASS |
------------------------------------------------------------------------------
s3-encrypted.Rclone :: S3 gateway test with rclone client             | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.S3 Getsecret :: Test ozone s3 getsecret command                  
==============================================================================
Without OM service ID                                                 | PASS |
------------------------------------------------------------------------------
With OM service ID                                                    | PASS |
duplicate test in non-HA env.
------------------------------------------------------------------------------
s3-encrypted.S3 Getsecret :: Test ozone s3 getsecret command          | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Secretgenerate :: S3 Secret Generate test                        
==============================================================================
S3 Gateway Generate Secret                                            | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Secret Already Exists                                      | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username                                | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username For Other User                 | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Reject Secret Generation By Non-admin User                 | FAIL |
7 != 0
------------------------------------------------------------------------------
s3-encrypted.Secretgenerate :: S3 Secret Generate test                | FAIL |
5 tests, 0 passed, 5 failed
==============================================================================
s3-encrypted.Secretrevoke :: S3 Secret Revoke test                            
==============================================================================
S3 Gateway Revoke Secret                                              | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username                                  | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username For Other User                   | FAIL |
7 != 0
------------------------------------------------------------------------------
S3 Gateway Reject Secret Revoke By Non-admin User                     | FAIL |
7 != 0
------------------------------------------------------------------------------
s3-encrypted.Secretrevoke :: S3 Secret Revoke test                    | FAIL |
4 tests, 0 passed, 4 failed
==============================================================================
s3-encrypted.Webui :: S3 gateway web ui test                                  
==============================================================================
Check web UI                                                          | FAIL |
7 != 0
------------------------------------------------------------------------------
s3-encrypted.Webui :: S3 gateway web ui test                          | FAIL |
1 test, 0 passed, 1 failed
==============================================================================
s3-encrypted                                                          | FAIL |
87 tests, 77 passed, 10 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-003.xml
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-datanode-1_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-datanode-2_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-datanode-3_HddsDatanodeService.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-om-1_OzoneManagerStarter.stack
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-recon-1_ReconServer.stack
sh: jps: not found
jstack 7 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-s3g1-1_Gateway.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-s3g2-1_Gateway.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-s3g3-1_Gateway.stack
jstack 6 > /home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/ozonesecure/result/ozonesecure-scm-1_StorageContainerManagerStarter.stack
ERROR: Test execution of ozonesecure/test-haproxy-s3g.sh is FAILED!!!!
To use Ozone please mount ozone folder to /opt/hadoop
Output:  /rebot-output/ozonesecure-haproxy-s3g.xml
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/rebot-SXztMA/ozonesecure-haproxy-s3g.xml' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure-haproxy-s3g.xml'
removed 'ozonesecure/result/robot-001.xml'
removed 'ozonesecure/result/robot-002.xml'
removed 'ozonesecure/result/robot-003.xml'
mkdir: created directory '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g'
renamed 'ozonesecure/result/dn-audit-dn.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/dn-audit-dn.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-datanode-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-datanode-2.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-datanode-3.log'
renamed 'ozonesecure/result/docker-ozonesecure-httpfs-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-httpfs-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kdc-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-kdc-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kms-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-kms-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-om-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-om-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-recon-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-recon-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-s3g-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g1-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-s3g1-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g2-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-s3g2-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g3-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-s3g3-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-scm-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/docker-ozonesecure-scm-1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/om-audit-om.log'
renamed 'ozonesecure/result/om-sys-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/om-sys-audit-om.log'
renamed 'ozonesecure/result/ozonesecure-datanode-1_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-datanode-1_HddsDatanodeService.stack'
renamed 'ozonesecure/result/ozonesecure-datanode-2_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-datanode-2_HddsDatanodeService.stack'
renamed 'ozonesecure/result/ozonesecure-datanode-3_HddsDatanodeService.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-datanode-3_HddsDatanodeService.stack'
renamed 'ozonesecure/result/ozonesecure-om-1_OzoneManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-om-1_OzoneManagerStarter.stack'
renamed 'ozonesecure/result/ozonesecure-recon-1_ReconServer.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-recon-1_ReconServer.stack'
renamed 'ozonesecure/result/ozonesecure-s3g1-1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-s3g1-1_Gateway.stack'
renamed 'ozonesecure/result/ozonesecure-s3g2-1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-s3g2-1_Gateway.stack'
renamed 'ozonesecure/result/ozonesecure-s3g3-1_Gateway.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-s3g3-1_Gateway.stack'
renamed 'ozonesecure/result/ozonesecure-scm-1_StorageContainerManagerStarter.stack' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/ozonesecure-scm-1_StorageContainerManagerStarter.stack'
renamed 'ozonesecure/result/s3g-audit-s3g1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/s3g-audit-s3g1.log'
renamed 'ozonesecure/result/s3g-audit-s3g2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/s3g-audit-s3g2.log'
renamed 'ozonesecure/result/s3g-audit-s3g3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/s3g-audit-s3g3.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/haproxy-s3g/scm-audit-scm.log'
Executing test ozonesecure/test.sh
Using Docker Compose v2
Port 88 is available on kdc
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is not available on scm yet
Port 9860 is available on scm
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 234
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 233
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 232
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 231
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 230
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 229
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 228
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 227
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 226
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 225
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 224
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 223
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 222
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 221
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 220
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 219
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 218
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 217
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 216
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 215
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 214
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 213
SCM is in safe mode. Will retry in 1 sec. Remaining time (sec): 212
SCM is out of safe mode.
No OM HA service, no need to wait
key1 has been successfully created with options Options{cipher='AES/CTR/NoPadding', bitLength=128, description='null', attributes=null}.
org.apache.hadoop.crypto.key.kms.LoadBalancingKMSClientProvider@4a7f959b has been updated.
==============================================================================
Kinit :: Kinit test user                                                      
==============================================================================
Kinit                                                                 | PASS |
------------------------------------------------------------------------------
Kinit :: Kinit test user                                              | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-001.xml
==============================================================================
Basic                                                                         
==============================================================================
Basic.Basic :: Smoketest ozone cluster startup                                
==============================================================================
Check webui static resources                                          | PASS |
------------------------------------------------------------------------------
Basic Freon smoketest                                                 | PASS |
------------------------------------------------------------------------------
Basic.Basic :: Smoketest ozone cluster startup                        | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Basic.Getconf :: Test 'ozone getconf' command                                 
==============================================================================
Get OM                                                                | PASS |
------------------------------------------------------------------------------
Get SCM                                                               | PASS |
------------------------------------------------------------------------------
Get existing config key                                               | PASS |
------------------------------------------------------------------------------
Get undefined config key                                              | PASS |
------------------------------------------------------------------------------
Basic.Getconf :: Test 'ozone getconf' command                         | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Basic.Links :: Test bucket links via Ozone CLI                                
==============================================================================
Link to non-existent bucket                                           | PASS |
------------------------------------------------------------------------------
Key create passthrough                                                | PASS |
------------------------------------------------------------------------------
Key read passthrough                                                  | PASS |
------------------------------------------------------------------------------
Key list passthrough                                                  | PASS |
------------------------------------------------------------------------------
Key delete passthrough                                                | PASS |
------------------------------------------------------------------------------
Bucket list contains links                                            | PASS |
------------------------------------------------------------------------------
Bucket info shows source                                              | PASS |
------------------------------------------------------------------------------
Source and target bucket have different ACLs                          | PASS |
------------------------------------------------------------------------------
Source and target key have same ACLs                                  | PASS |
------------------------------------------------------------------------------
Source and target prefix have same ACLs                               | PASS |
------------------------------------------------------------------------------
Buckets and links share namespace                                     | PASS |
------------------------------------------------------------------------------
Can follow link with read access                                      | PASS |
------------------------------------------------------------------------------
Cannot follow link without read access                                | PASS |
------------------------------------------------------------------------------
ACL verified on source and target bucket                              | PASS |
------------------------------------------------------------------------------
Loop in link chain is detected                                        | PASS |
------------------------------------------------------------------------------
Multiple links to same bucket are allowed                             | PASS |
------------------------------------------------------------------------------
Source bucket not affected by deleting link                           | PASS |
------------------------------------------------------------------------------
Setting bucket property on link not allowed                           | PASS |
------------------------------------------------------------------------------
Basic.Links :: Test bucket links via Ozone CLI                        | PASS |
18 tests, 18 passed, 0 failed
==============================================================================
Basic.Ozone-Shell-Single :: Test ozone shell CLI usage                        
==============================================================================
Test ozone shell                                                      | PASS |
------------------------------------------------------------------------------
Basic.Ozone-Shell-Single :: Test ozone shell CLI usage                | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Basic.Ozone-Shell :: Test ozone shell CLI usage                               
==============================================================================
RpcClient with port                                                   | PASS |
------------------------------------------------------------------------------
RpcClient with execution errors                                       | PASS |
------------------------------------------------------------------------------
RpcClient volume acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient bucket acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient key acls                                                    | PASS |
------------------------------------------------------------------------------
Test native authorizer                                                | PASS |
------------------------------------------------------------------------------
RpcClient prefix acls                                                 | PASS |
------------------------------------------------------------------------------
RpcClient without host                                                | PASS |
------------------------------------------------------------------------------
RpcClient Delete key                                                  | PASS |
------------------------------------------------------------------------------
Basic.Ozone-Shell :: Test ozone shell CLI usage                       | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Basic.Single Node :: Smoketest for one datanode                               
==============================================================================
Basic Freon smoketest for one datanode                                | PASS |
------------------------------------------------------------------------------
Basic.Single Node :: Smoketest for one datanode                       | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Basic                                                                 | PASS |
35 tests, 35 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-002.xml
==============================================================================
Security                                                                      
==============================================================================
Security.Admin-Cert :: Test for ozone admin cert command                      
==============================================================================
List valid certificates                                               | PASS |
------------------------------------------------------------------------------
List revoked certificates                                             | PASS |
------------------------------------------------------------------------------
Info of the cert                                                      | PASS |
------------------------------------------------------------------------------
Security.Admin-Cert :: Test for ozone admin cert command              | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Fs :: Smoke test to start cluster with docker-compose...
==============================================================================
Create volume bucket with wrong credentials                           | PASS |
------------------------------------------------------------------------------
Create volume with non-admin user                                     | PASS |
------------------------------------------------------------------------------
Create bucket with non-admin owner(testuser2)                         | PASS |
------------------------------------------------------------------------------
Create volume bucket with credentials                                 | PASS |
------------------------------------------------------------------------------
Check volume from ozonefs                                             | PASS |
------------------------------------------------------------------------------
Test tmp mount for shared ofs tmp dir                                 | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Fs :: Smoke test to start cluster with docke... | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Owner-S3 :: This test suite verifies the functionalit...
==============================================================================
Initialize testuser Credentials                                       | PASS |
------------------------------------------------------------------------------
Create Bucket                                                         | PASS |
------------------------------------------------------------------------------
Verify Owner of Uploaded S3 Object By testuser                        | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Owner-S3 :: This test suite verifies the fun... | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-S3 :: Smoke test to start cluster with docker-compose...
==============================================================================
Secure S3 test Success                                                | PASS |
------------------------------------------------------------------------------
Secure S3 put-object test                                             | PASS |
------------------------------------------------------------------------------
Secure S3 test Failure                                                | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-S3 :: Smoke test to start cluster with docke... | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Tenant :: Smoke test for ozone secure tenant commands   
==============================================================================
Create Tenant Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
Assign User Success with Cluster Admin                                | PASS |
------------------------------------------------------------------------------
Assign User Failure to Non-existent Tenant                            | PASS |
------------------------------------------------------------------------------
GetUserInfo Success                                                   | PASS |
------------------------------------------------------------------------------
GetUserInfo as JSON Success                                           | PASS |
------------------------------------------------------------------------------
Create Bucket 1 Success via S3 API                                    | PASS |
------------------------------------------------------------------------------
Verify Bucket 1 Owner                                                 | PASS |
------------------------------------------------------------------------------
Put a key in the tenant bucket                                        | PASS |
------------------------------------------------------------------------------
Verify Object Owner                                                   | PASS |
------------------------------------------------------------------------------
Get and delete a key in the tenant bucket                             | PASS |
------------------------------------------------------------------------------
SetSecret Success with Cluster Admin                                  | PASS |
------------------------------------------------------------------------------
SetSecret Failure For Invalid Secret 1                                | PASS |
------------------------------------------------------------------------------
SetSecret Failure For Invalid Secret 2                                | PASS |
------------------------------------------------------------------------------
GetSecret Success                                                     | PASS |
------------------------------------------------------------------------------
Delete Bucket 1 Failure With Old SecretKey via S3 API                 | PASS |
------------------------------------------------------------------------------
Delete Bucket 1 Success With Newly Set SecretKey via S3 API           | PASS |
------------------------------------------------------------------------------
Delete Tenant Failure Tenant Not Empty                                | PASS |
------------------------------------------------------------------------------
Trigger and wait for background Sync to recover Policies and Roles... | PASS |
------------------------------------------------------------------------------
Create Tenant Failure with Regular User                               | PASS |
------------------------------------------------------------------------------
SetSecret Failure with Regular User                                   | PASS |
------------------------------------------------------------------------------
Create Bucket 2 Success with somesecret1 via S3 API                   | PASS |
------------------------------------------------------------------------------
Delete Bucket 2 Failure with somesecret2 via S3 API                   | PASS |
------------------------------------------------------------------------------
Delete Bucket 2 Success with somesecret1 via S3 API                   | PASS |
------------------------------------------------------------------------------
Revoke User AccessId Success with Cluster Admin                       | PASS |
------------------------------------------------------------------------------
Create Bucket 3 Failure with Revoked AccessId via S3 API              | PASS |
------------------------------------------------------------------------------
Delete Tenant Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
Delete Volume Success with Cluster Admin                              | PASS |
------------------------------------------------------------------------------
List Tenant Expect Empty Result                                       | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Tenant :: Smoke test for ozone secure tenant... | PASS |
28 tests, 28 passed, 0 failed
==============================================================================
Security.Ozone-Secure-Token :: Test token operations                          
==============================================================================
Token Test                                                            | PASS |
------------------------------------------------------------------------------
Security.Ozone-Secure-Token :: Test token operations                  | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Security.S3-secret :: Smoke test to start cluster with docker-compose envir...
==============================================================================
Get S3 secret twice                                                   | PASS |
------------------------------------------------------------------------------
Security.S3-secret :: Smoke test to start cluster with docker-comp... | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Security                                                              | PASS |
45 tests, 45 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-003.xml
==============================================================================
ozonefs-ofs-bucket :: Ozone FS tests                                          
==============================================================================
List root                                                             | PASS |
------------------------------------------------------------------------------
List non-existent volume                                              | PASS |
------------------------------------------------------------------------------
List non-existent bucket                                              | PASS |
------------------------------------------------------------------------------
Create dir with parents                                               | PASS |
------------------------------------------------------------------------------
Copy from local                                                       | PASS |
------------------------------------------------------------------------------
Put                                                                   | PASS |
------------------------------------------------------------------------------
Check disk usage after create a file which uses RATIS replication ... | PASS |
------------------------------------------------------------------------------
Put with Streaming                                                    | PASS |
------------------------------------------------------------------------------
List                                                                  | PASS |
------------------------------------------------------------------------------
Move                                                                  | PASS |
------------------------------------------------------------------------------
Copy within FS                                                        | PASS |
------------------------------------------------------------------------------
Cat file                                                              | PASS |
------------------------------------------------------------------------------
Delete file                                                           | PASS |
------------------------------------------------------------------------------
Delete dir                                                            | PASS |
------------------------------------------------------------------------------
Touch file                                                            | PASS |
------------------------------------------------------------------------------
Delete file with Trash                                                | PASS |
------------------------------------------------------------------------------
Delete recursively                                                    | PASS |
------------------------------------------------------------------------------
List recursively                                                      | PASS |
------------------------------------------------------------------------------
Copy to other bucket                                                  | PASS |
------------------------------------------------------------------------------
Copy to other volume                                                  | PASS |
------------------------------------------------------------------------------
List file created via shell                                           | PASS |
------------------------------------------------------------------------------
Reject overwrite existing                                             | PASS |
------------------------------------------------------------------------------
Get file                                                              | PASS |
------------------------------------------------------------------------------
ozonefs-ofs-bucket :: Ozone FS tests                                  | PASS |
23 tests, 23 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-004.xml
==============================================================================
s3-encrypted                                                                  
==============================================================================
s3-encrypted.Awss3 :: S3 gateway test with aws cli                            
==============================================================================
File upload and directory list                                        | PASS |
------------------------------------------------------------------------------
File upload with special chars                                        | PASS |
------------------------------------------------------------------------------
s3-encrypted.Awss3 :: S3 gateway test with aws cli                    | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Boto3 :: S3 gateway test with Boto3 Client                       
==============================================================================
Boto3 Client Test                                                     | PASS |
------------------------------------------------------------------------------
s3-encrypted.Boto3 :: S3 gateway test with Boto3 Client               | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.Bucketcreate :: S3 gateway test with aws cli                     
==============================================================================
Create new bucket                                                     | PASS |
------------------------------------------------------------------------------
Create bucket which already exists                                    | PASS |
------------------------------------------------------------------------------
Create bucket with invalid bucket name                                | PASS |
------------------------------------------------------------------------------
Create new bucket and check default group ACL                         | PASS |
------------------------------------------------------------------------------
Test buckets named like web endpoints                                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketcreate :: S3 gateway test with aws cli             | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Bucketdelete :: S3 gateway test with aws cli                     
==============================================================================
Delete existing bucket                                                | PASS |
------------------------------------------------------------------------------
Delete non-existent bucket                                            | PASS |
------------------------------------------------------------------------------
Delete bucket with incomplete multipart uploads                       | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketdelete :: S3 gateway test with aws cli             | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
s3-encrypted.Buckethead :: S3 gateway test with aws cli                       
==============================================================================
Head Bucket                                                           | PASS |
------------------------------------------------------------------------------
Head Bucket not existent                                              | PASS |
------------------------------------------------------------------------------
s3-encrypted.Buckethead :: S3 gateway test with aws cli               | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Bucketlist :: S3 gateway test with aws cli                       
==============================================================================
List buckets                                                          | PASS |
------------------------------------------------------------------------------
Get bucket info with Ozone Shell to check the owner field             | PASS |
------------------------------------------------------------------------------
List buckets with empty access id                                     | PASS |
------------------------------------------------------------------------------
s3-encrypted.Bucketlist :: S3 gateway test with aws cli               | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
s3-encrypted.Freon :: S3 gateway test with aws cli                            
==============================================================================
Run Freon S3BG                                                        | PASS |
------------------------------------------------------------------------------
s3-encrypted.Freon :: S3 gateway test with aws cli                    | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.MultipartUpload :: S3 gateway test with aws cli                  
==============================================================================
Test Multipart Upload With Adjusted Length                            | PASS |
------------------------------------------------------------------------------
Test Multipart Upload                                                 | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete                                        | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with user defined metadata size larger than ... | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Entity too small                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Complete Invalid part errors and complete mp... | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload                                           | PASS |
------------------------------------------------------------------------------
Test abort Multipart upload with invalid uploadId                     | PASS |
------------------------------------------------------------------------------
Upload part with Incorrect uploadID                                   | PASS |
------------------------------------------------------------------------------
Test list parts                                                       | PASS |
------------------------------------------------------------------------------
Test Multipart Upload with the simplified aws s3 cp API               | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy                                   | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range                         | PASS |
------------------------------------------------------------------------------
Test Multipart Upload Put With Copy and range with IfModifiedSince    | PASS |
------------------------------------------------------------------------------
Test Multipart Upload list                                            | PASS |
------------------------------------------------------------------------------
s3-encrypted.MultipartUpload :: S3 gateway test with aws cli          | PASS |
15 tests, 15 passed, 0 failed
==============================================================================
s3-encrypted.Objectcopy :: S3 gateway test with aws cli                       
==============================================================================
Copy Object Happy Scenario                                            | PASS |
------------------------------------------------------------------------------
Copy Object Where Bucket is not available                             | PASS |
------------------------------------------------------------------------------
Copy Object Where both source and dest are same with change to sto... | PASS |
------------------------------------------------------------------------------
Copy Object Where Key not available                                   | PASS |
------------------------------------------------------------------------------
Copy Object using an invalid copy directive                           | PASS |
------------------------------------------------------------------------------
Copy Object with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectcopy :: S3 gateway test with aws cli               | PASS |
6 tests, 6 passed, 0 failed
==============================================================================
s3-encrypted.Objectcopys3A :: S3 gateway test with aws cli                    
==============================================================================
Put object s3a simulation                                             | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectcopys3A :: S3 gateway test with aws cli            | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.Objectdelete :: S3 gateway test with aws cli                     
==============================================================================
Delete file with s3api                                                | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist                            | PASS |
------------------------------------------------------------------------------
Delete dir with s3api                                                 | PASS |
------------------------------------------------------------------------------
Delete file with s3api, file doesn't exist, prefix of a real file     | PASS |
------------------------------------------------------------------------------
Delete file with s3api, bucket doesn't exist                          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectdelete :: S3 gateway test with aws cli             | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Objecthead :: S3 gateway test with aws cli                       
==============================================================================
Head existing object                                                  | PASS |
------------------------------------------------------------------------------
Head object in non existing bucket                                    | PASS |
------------------------------------------------------------------------------
Head object where path is a directory                                 | PASS |
------------------------------------------------------------------------------
Head directory objects                                                | PASS |
------------------------------------------------------------------------------
Head non existing key                                                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objecthead :: S3 gateway test with aws cli               | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Objectmultidelete :: S3 gateway test with aws cli                
==============================================================================
Delete file with multi delete                                         | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectmultidelete :: S3 gateway test with aws cli        | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.Objectputget :: S3 gateway test with aws cli                     
==============================================================================
Put object to s3                                                      | PASS |
------------------------------------------------------------------------------
Get object from s3                                                    | PASS |
------------------------------------------------------------------------------
Get object with wrong signature                                       | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset              | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(start off... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset(end offse... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with only start offset                     | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 with both start and endoffset which are... | PASS |
------------------------------------------------------------------------------
Get Partial object from s3 to get last n bytes                        | PASS |
------------------------------------------------------------------------------
Incorrect values for end and start offset                             | PASS |
------------------------------------------------------------------------------
Zero byte file                                                        | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata and tags                       | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata with gdpr enabled value in ... | PASS |
------------------------------------------------------------------------------
Create file with user defined metadata size larger than 2 KB          | PASS |
------------------------------------------------------------------------------
Create files invalid tags                                             | PASS |
------------------------------------------------------------------------------
Create files with too many tags                                       | PASS |
------------------------------------------------------------------------------
Create small file and expect ETag (MD5) in a reponse header           | PASS |
------------------------------------------------------------------------------
Download small file end expect ETag (MD5) in a response header        | PASS |
------------------------------------------------------------------------------
Create key with custom etag metadata and expect it won't conflict ... | PASS |
------------------------------------------------------------------------------
Create&Download big file by multipart upload and expect ETag in a ... | PASS |
------------------------------------------------------------------------------
Create key twice with different content and expect different ETags    | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objectputget :: S3 gateway test with aws cli             | PASS |
21 tests, 21 passed, 0 failed
==============================================================================
s3-encrypted.Objecttagging :: S3 gateway test with aws cli                    
==============================================================================
Put object tagging                                                    | PASS |
------------------------------------------------------------------------------
Get object tagging                                                    | PASS |
------------------------------------------------------------------------------
Delete object tagging                                                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Objecttagging :: S3 gateway test with aws cli            | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
s3-encrypted.Rclone :: S3 gateway test with rclone client                     
==============================================================================
Rclone Client Test                                                    | PASS |
------------------------------------------------------------------------------
s3-encrypted.Rclone :: S3 gateway test with rclone client             | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted.S3 Getsecret :: Test ozone s3 getsecret command                  
==============================================================================
Without OM service ID                                                 | PASS |
------------------------------------------------------------------------------
With OM service ID                                                    | PASS |
duplicate test in non-HA env.
------------------------------------------------------------------------------
s3-encrypted.S3 Getsecret :: Test ozone s3 getsecret command          | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
s3-encrypted.Secretgenerate :: S3 Secret Generate test                        
==============================================================================
S3 Gateway Generate Secret                                            | PASS |
------------------------------------------------------------------------------
S3 Gateway Secret Already Exists                                      | PASS |
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username                                | PASS |
------------------------------------------------------------------------------
S3 Gateway Generate Secret By Username For Other User                 | PASS |
------------------------------------------------------------------------------
S3 Gateway Reject Secret Generation By Non-admin User                 | PASS |
------------------------------------------------------------------------------
s3-encrypted.Secretgenerate :: S3 Secret Generate test                | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
s3-encrypted.Secretrevoke :: S3 Secret Revoke test                            
==============================================================================
S3 Gateway Revoke Secret                                              | PASS |
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username                                  | PASS |
------------------------------------------------------------------------------
S3 Gateway Revoke Secret By Username For Other User                   | PASS |
------------------------------------------------------------------------------
S3 Gateway Reject Secret Revoke By Non-admin User                     | PASS |
------------------------------------------------------------------------------
s3-encrypted.Secretrevoke :: S3 Secret Revoke test                    | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
s3-encrypted.Webui :: S3 gateway web ui test                                  
==============================================================================
Check web UI                                                          | PASS |
------------------------------------------------------------------------------
s3-encrypted.Webui :: S3 gateway web ui test                          | PASS |
1 test, 1 passed, 0 failed
==============================================================================
s3-encrypted                                                          | PASS |
87 tests, 87 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-005.xml
==============================================================================
Recon                                                                         
==============================================================================
Recon.Recon-Api :: Smoke test to start cluster with docker-compose environm...
==============================================================================
Check if Recon picks up OM data                                       | PASS |
------------------------------------------------------------------------------
Check if Recon picks up DN heartbeats                                 | PASS |
------------------------------------------------------------------------------
Check if Recon Web UI is up                                           | PASS |
------------------------------------------------------------------------------
Check web UI access                                                   | PASS |
------------------------------------------------------------------------------
Check admin only api access                                           | PASS |
------------------------------------------------------------------------------
Check unhealthy, (admin) api access                                   | PASS |
------------------------------------------------------------------------------
Check normal api access                                               | PASS |
------------------------------------------------------------------------------
Recon.Recon-Api :: Smoke test to start cluster with docker-compose... | PASS |
7 tests, 7 passed, 0 failed
==============================================================================
Recon.Recon-Nssummary :: Smoke test for Recon Namespace Summary Endpoint fo...
==============================================================================
Check volume creation                                                 | PASS |
------------------------------------------------------------------------------
Check bucket creation                                                 | PASS |
------------------------------------------------------------------------------
Check keys creation                                                   | PASS |
------------------------------------------------------------------------------
Check Summary api access                                              | PASS |
------------------------------------------------------------------------------
Check Disk Usage api access                                           | PASS |
------------------------------------------------------------------------------
Check Quota Usage api access                                          | PASS |
------------------------------------------------------------------------------
Check File Size Distribution api access                               | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Root                                    | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Volume                                  | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Bucket                                  | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Key                                     | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Summary Directory                               | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Disk Usage                                      | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Volume Quota Usage                              | PASS |
------------------------------------------------------------------------------
Check Recon Namespace Bucket Quota Usage                              | PASS |
------------------------------------------------------------------------------
Check Recon Namespace File Size Distribution Root                     | PASS |
------------------------------------------------------------------------------
Recon.Recon-Nssummary :: Smoke test for Recon Namespace Summary En... | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Recon                                                                 | PASS |
23 tests, 23 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-006.xml
==============================================================================
Admincli                                                                      
==============================================================================
Admincli.Admin :: Test ozone admin command                                    
==============================================================================
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Admincli.Admin :: Test ozone admin command                            | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Admincli.Cert :: Test ozone admin cert command                                
==============================================================================
List certificates                                                     | PASS |
------------------------------------------------------------------------------
List certificates as JSON                                             | PASS |
------------------------------------------------------------------------------
Admincli.Cert :: Test ozone admin cert command                        | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Admincli.Container :: Test ozone admin container command                      
==============================================================================
Create container                                                      | PASS |
------------------------------------------------------------------------------
List containers                                                       | PASS |
------------------------------------------------------------------------------
List containers with explicit host                                    | PASS |
------------------------------------------------------------------------------
List containers with container state                                  | PASS |
------------------------------------------------------------------------------
List containers with replication factor ONE                           | PASS |
------------------------------------------------------------------------------
List containers with replication factor THREE                         | PASS |
------------------------------------------------------------------------------
Container info                                                        | PASS |
------------------------------------------------------------------------------
Verbose container info                                                | PASS |
------------------------------------------------------------------------------
List containers as JSON                                               | PASS |
------------------------------------------------------------------------------
Report containers as JSON                                             | PASS |
------------------------------------------------------------------------------
List all containers                                                   | PASS |
------------------------------------------------------------------------------
List all containers according to count (batchSize)                    | PASS |
------------------------------------------------------------------------------
List all containers from a particular container ID                    | PASS |
------------------------------------------------------------------------------
Close container                                                       | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Cannot close container without admin privilege                        | PASS |
------------------------------------------------------------------------------
Cannot create container without admin privilege                       | PASS |
------------------------------------------------------------------------------
Reset user                                                            | PASS |
------------------------------------------------------------------------------
Admincli.Container :: Test ozone admin container command              | PASS |
18 tests, 18 passed, 0 failed
==============================================================================
Admincli.Datanode :: Test ozone admin datanode command                        
==============================================================================
List datanodes                                                        | PASS |
------------------------------------------------------------------------------
Filter list by UUID                                                   | PASS |
------------------------------------------------------------------------------
Filter list by Ip address                                             | PASS |
------------------------------------------------------------------------------
Filter list by Hostname                                               | PASS |
------------------------------------------------------------------------------
Filter list by NodeOperationalState                                   | PASS |
------------------------------------------------------------------------------
Filter list by NodeState                                              | PASS |
------------------------------------------------------------------------------
Get usage info by UUID                                                | PASS |
------------------------------------------------------------------------------
Get usage info by Ip address                                          | PASS |
------------------------------------------------------------------------------
Get usage info by Hostname                                            | PASS |
------------------------------------------------------------------------------
Get usage info with invalid address                                   | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
List datanodes as JSON                                                | PASS |
------------------------------------------------------------------------------
Get usage info as JSON                                                | PASS |
------------------------------------------------------------------------------
Admincli.Datanode :: Test ozone admin datanode command                | PASS |
13 tests, 13 passed, 0 failed
==============================================================================
Admincli.Pipeline :: Test ozone admin pipeline command                        
==============================================================================
List pipelines                                                        | PASS |
------------------------------------------------------------------------------
List pipeline with json option                                        | PASS |
------------------------------------------------------------------------------
List pipelines with explicit host                                     | PASS |
------------------------------------------------------------------------------
List pipelines with explicit host and json option                     | PASS |
------------------------------------------------------------------------------
Deactivate pipeline                                                   | PASS |
------------------------------------------------------------------------------
Activate pipeline                                                     | PASS |
------------------------------------------------------------------------------
Close pipeline                                                        | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Create pipeline                                                       | PASS |
------------------------------------------------------------------------------
Admincli.Pipeline :: Test ozone admin pipeline command                | PASS |
9 tests, 9 passed, 0 failed
==============================================================================
Admincli.printTopology :: Test ozone admin printTopology command              
==============================================================================
Run printTopology                                                     | PASS |
------------------------------------------------------------------------------
Run printTopology as JSON                                             | PASS |
------------------------------------------------------------------------------
Admincli.printTopology :: Test ozone admin printTopology command      | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Admincli.Reconfigure :: Test ozone admin command                              
==============================================================================
Reconfigure OM                                                        | PASS |
------------------------------------------------------------------------------
Reconfigure SCM                                                       | PASS |
------------------------------------------------------------------------------
Reconfigure DN                                                        | PASS |
------------------------------------------------------------------------------
Admincli.Reconfigure :: Test ozone admin command                      | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Admincli.Replicationmanager :: Test ozone admin replicationmanager command    
==============================================================================
Check replicationmanager                                              | PASS |
------------------------------------------------------------------------------
Check replicationmanager with explicit host                           | PASS |
------------------------------------------------------------------------------
Stop replicationmanager                                               | PASS |
------------------------------------------------------------------------------
Start replicationmanager                                              | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Admincli.Replicationmanager :: Test ozone admin replicationmanager... | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Admincli.Safemode :: Test ozone admin safemode command                        
==============================================================================
Check safemode                                                        | PASS |
------------------------------------------------------------------------------
Check safemode with explicit host                                     | PASS |
------------------------------------------------------------------------------
Wait for safemode exit                                                | PASS |
------------------------------------------------------------------------------
Incomplete command                                                    | PASS |
------------------------------------------------------------------------------
Admincli.Safemode :: Test ozone admin safemode command                | PASS |
4 tests, 4 passed, 0 failed
==============================================================================
Admincli.Scmrole :: Smoketest ozone cluster startup                           
==============================================================================
Run scm roles                                                         | PASS |
------------------------------------------------------------------------------
List scm roles as JSON                                                | PASS |
------------------------------------------------------------------------------
List scm roles as TABLE                                               | PASS |
------------------------------------------------------------------------------
Admincli.Scmrole :: Smoketest ozone cluster startup                   | PASS |
3 tests, 3 passed, 0 failed
==============================================================================
Admincli                                                              | PASS |
60 tests, 60 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-007.xml
==============================================================================
Spnego                                                                        
==============================================================================
Spnego.Web :: Smoke test for spnego with docker-compose environments.         
==============================================================================
Verify SPNEGO URLs without auth                                       | PASS |
------------------------------------------------------------------------------
Verify SPNEGO URLs with auth                                          | PASS |
------------------------------------------------------------------------------
Spnego.Web :: Smoke test for spnego with docker-compose environments. | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Spnego                                                                | PASS |
2 tests, 2 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-008.xml
==============================================================================
Snapshot-Acls :: Test for reading snapshots with ACLs as different users      
==============================================================================
Test creating first snapshot as user1                                 | PASS |
------------------------------------------------------------------------------
Test adding ACLs for user2                                            | PASS |
------------------------------------------------------------------------------
Test creating second snapshot as user2                                | PASS |
------------------------------------------------------------------------------
Test reading first snapshot as user2                                  | PASS |
------------------------------------------------------------------------------
Test reading second snapshot as user2                                 | PASS |
------------------------------------------------------------------------------
Snapshot-Acls :: Test for reading snapshots with ACLs as different... | PASS |
5 tests, 5 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-009.xml
==============================================================================
Httpfs                                                                        
==============================================================================
Httpfs.Operations Tests :: HttpFS gateway test with curl commands             
==============================================================================
Kinit admin user                                                      | PASS |
------------------------------------------------------------------------------
Create volume                                                         | PASS |
------------------------------------------------------------------------------
Set owner of volume                                                   | PASS |
------------------------------------------------------------------------------
Kinit testuser                                                        | PASS |
------------------------------------------------------------------------------
Create first bucket                                                   | PASS |
------------------------------------------------------------------------------
Create second bucket                                                  | PASS |
------------------------------------------------------------------------------
Create local testfile                                                 | PASS |
------------------------------------------------------------------------------
Create testfile                                                       | PASS |
------------------------------------------------------------------------------
Read file                                                             | PASS |
------------------------------------------------------------------------------
Delete bucket                                                         | PASS |
------------------------------------------------------------------------------
Get status of bucket                                                  | PASS |
------------------------------------------------------------------------------
Get status of file                                                    | PASS |
------------------------------------------------------------------------------
List bucket                                                           | PASS |
------------------------------------------------------------------------------
List file                                                             | PASS |
------------------------------------------------------------------------------
Get content summary of directory                                      | PASS |
------------------------------------------------------------------------------
Get quota usage of directory                                          | PASS |
------------------------------------------------------------------------------
Httpfs.Operations Tests :: HttpFS gateway test with curl commands     | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Httpfs                                                                | PASS |
16 tests, 16 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-010.xml
==============================================================================
Wait :: Wait for replication to succeed                                       
==============================================================================
Wait Until Container Replicated                                       | PASS |
------------------------------------------------------------------------------
Wait :: Wait for replication to succeed                               | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-011.xml
==============================================================================
Wait :: Wait for replication to succeed                                       
==============================================================================
Wait Until Container Replicated                                       | PASS |
------------------------------------------------------------------------------
Wait :: Wait for replication to succeed                               | PASS |
1 test, 1 passed, 0 failed
==============================================================================
Output:  /tmp/smoketest/ozonesecure/result/robot-012.xml
Port 9888 is available on recon
find /data/metadata/recon/keys/public.pem -delete && find /data/metadata/recon/certs/*.crt -delete succeed
Port 9888 is not available on recon yet
Port 9888 is not available on recon yet
Port 9888 is not available on recon yet
Port 9888 is not available on recon yet
Port 9888 is not available on recon yet
Port 9888 is not available on recon yet
Port 9888 is available on recon
/data/metadata/recon/keys/public.pem
/data/metadata/recon/certs/ROOTCA-1.crt
find /data/metadata/recon/keys/public.pem && find /data/metadata/recon/certs/ROOTCA*.crt succeed
Port 19864 is available on datanode
find /data/metadata/dn/keys/public.pem -delete && find /data/metadata/dn/certs/*.crt -delete succeed
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is not available on datanode yet
Port 19864 is available on datanode
/data/metadata/dn/keys/public.pem
/data/metadata/dn/certs/ROOTCA-1.crt
find /data/metadata/dn/keys/public.pem && find /data/metadata/dn/certs/ROOTCA*.crt succeed
To use Ozone please mount ozone folder to /opt/hadoop
Output:  /rebot-output/ozonesecure.xml
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/rebot-0pZFUr/ozonesecure.xml' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure.xml'
removed 'ozonesecure/result/robot-001.xml'
removed 'ozonesecure/result/robot-002.xml'
removed 'ozonesecure/result/robot-003.xml'
removed 'ozonesecure/result/robot-004.xml'
removed 'ozonesecure/result/robot-005.xml'
removed 'ozonesecure/result/robot-006.xml'
removed 'ozonesecure/result/robot-007.xml'
removed 'ozonesecure/result/robot-008.xml'
removed 'ozonesecure/result/robot-009.xml'
removed 'ozonesecure/result/robot-010.xml'
removed 'ozonesecure/result/robot-011.xml'
removed 'ozonesecure/result/robot-012.xml'
renamed 'ozonesecure/result/dn-audit-dn.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/dn-audit-dn.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-datanode-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-2.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-datanode-2.log'
renamed 'ozonesecure/result/docker-ozonesecure-datanode-3.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-datanode-3.log'
renamed 'ozonesecure/result/docker-ozonesecure-httpfs-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-httpfs-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kdc-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-kdc-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-kms-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-kms-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-om-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-om-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-recon-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-recon-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-s3g-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-s3g-1.log'
renamed 'ozonesecure/result/docker-ozonesecure-scm-1.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/docker-ozonesecure-scm-1.log'
renamed 'ozonesecure/result/kms-audit.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/kms-audit.log'
renamed 'ozonesecure/result/om-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/om-audit-om.log'
renamed 'ozonesecure/result/om-sys-audit-om.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/om-sys-audit-om.log'
renamed 'ozonesecure/result/s3g-audit-s3g.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/s3g-audit-s3g.log'
renamed 'ozonesecure/result/scm-audit-scm.log' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/ozonesecure/scm-audit-scm.log'
Exception in thread "main" java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:474)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at org.apache.ozone.test.JacocoServer.main(JacocoServer.java:60)
To use Ozone please mount ozone folder to /opt/hadoop
Log:     /rebot-output/log.html
Report:  /rebot-output/report.html
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/rebot-0gSBCW/log.html' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/log.html'
renamed '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/rebot-0gSBCW/report.html' -> '/home/runner/work/ozone/ozone/hadoop-ozone/dist/target/ozone-2.0.0-SNAPSHOT/compose/result/report.html'
removed directory '/tmp/robot-data-JD25sK'
